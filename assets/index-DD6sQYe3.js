var qO=Object.defineProperty;var mT=n=>{throw TypeError(n)};var XO=(n,e,t)=>e in n?qO(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var V=(n,e,t)=>XO(n,typeof e!="symbol"?e+"":e,t),jx=(n,e,t)=>e.has(n)||mT("Cannot "+t);var l=(n,e,t)=>(jx(n,e,"read from private field"),t?t.call(n):e.get(n)),S=(n,e,t)=>e.has(n)?mT("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),w=(n,e,t,s)=>(jx(n,e,"write to private field"),s?s.call(n,t):e.set(n,t),t),C=(n,e,t)=>(jx(n,e,"access private method"),t);var gt=(n,e,t,s)=>({set _(i){w(n,e,i,t)},get _(){return l(n,e,s)}});function YO(n,e){for(var t=0;t<e.length;t++){const s=e[t];if(typeof s!="string"&&!Array.isArray(s)){for(const i in s)if(i!=="default"&&!(i in n)){const r=Object.getOwnPropertyDescriptor(s,i);r&&Object.defineProperty(n,i,r.get?r:{enumerable:!0,get:()=>s[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=t(i);fetch(i.href,r)}})();function HS(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var gR={exports:{}},zw={},yR={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sy=Symbol.for("react.element"),KO=Symbol.for("react.portal"),QO=Symbol.for("react.fragment"),ZO=Symbol.for("react.strict_mode"),JO=Symbol.for("react.profiler"),ej=Symbol.for("react.provider"),tj=Symbol.for("react.context"),nj=Symbol.for("react.forward_ref"),sj=Symbol.for("react.suspense"),ij=Symbol.for("react.memo"),rj=Symbol.for("react.lazy"),gT=Symbol.iterator;function oj(n){return n===null||typeof n!="object"?null:(n=gT&&n[gT]||n["@@iterator"],typeof n=="function"?n:null)}var vR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},wR=Object.assign,xR={};function If(n,e,t){this.props=n,this.context=e,this.refs=xR,this.updater=t||vR}If.prototype.isReactComponent={};If.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};If.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function bR(){}bR.prototype=If.prototype;function WS(n,e,t){this.props=n,this.context=e,this.refs=xR,this.updater=t||vR}var GS=WS.prototype=new bR;GS.constructor=WS;wR(GS,If.prototype);GS.isPureReactComponent=!0;var yT=Array.isArray,AR=Object.prototype.hasOwnProperty,qS={current:null},SR={key:!0,ref:!0,__self:!0,__source:!0};function ER(n,e,t){var s,i={},r=null,o=null;if(e!=null)for(s in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(r=""+e.key),e)AR.call(e,s)&&!SR.hasOwnProperty(s)&&(i[s]=e[s]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];i.children=c}if(n&&n.defaultProps)for(s in a=n.defaultProps,a)i[s]===void 0&&(i[s]=a[s]);return{$$typeof:Sy,type:n,key:r,ref:o,props:i,_owner:qS.current}}function aj(n,e){return{$$typeof:Sy,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function XS(n){return typeof n=="object"&&n!==null&&n.$$typeof===Sy}function lj(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var vT=/\/+/g;function Bx(n,e){return typeof n=="object"&&n!==null&&n.key!=null?lj(""+n.key):e.toString(36)}function kv(n,e,t,s,i){var r=typeof n;(r==="undefined"||r==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(r){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case Sy:case KO:o=!0}}if(o)return o=n,i=i(o),n=s===""?"."+Bx(o,0):s,yT(i)?(t="",n!=null&&(t=n.replace(vT,"$&/")+"/"),kv(i,e,t,"",function(u){return u})):i!=null&&(XS(i)&&(i=aj(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(vT,"$&/")+"/")+n)),e.push(i)),1;if(o=0,s=s===""?".":s+":",yT(n))for(var a=0;a<n.length;a++){r=n[a];var c=s+Bx(r,a);o+=kv(r,e,t,c,i)}else if(c=oj(n),typeof c=="function")for(n=c.call(n),a=0;!(r=n.next()).done;)r=r.value,c=s+Bx(r,a++),o+=kv(r,e,t,c,i);else if(r==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Gy(n,e,t){if(n==null)return n;var s=[],i=0;return kv(n,s,"","",function(r){return e.call(t,r,i++)}),s}function cj(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var qn={current:null},_v={transition:null},uj={ReactCurrentDispatcher:qn,ReactCurrentBatchConfig:_v,ReactCurrentOwner:qS};function CR(){throw Error("act(...) is not supported in production builds of React.")}we.Children={map:Gy,forEach:function(n,e,t){Gy(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Gy(n,function(){e++}),e},toArray:function(n){return Gy(n,function(e){return e})||[]},only:function(n){if(!XS(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};we.Component=If;we.Fragment=QO;we.Profiler=JO;we.PureComponent=WS;we.StrictMode=ZO;we.Suspense=sj;we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uj;we.act=CR;we.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var s=wR({},n.props),i=n.key,r=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(r=e.ref,o=qS.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(c in e)AR.call(e,c)&&!SR.hasOwnProperty(c)&&(s[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)s.children=t;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];s.children=a}return{$$typeof:Sy,type:n.type,key:i,ref:r,props:s,_owner:o}};we.createContext=function(n){return n={$$typeof:tj,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:ej,_context:n},n.Consumer=n};we.createElement=ER;we.createFactory=function(n){var e=ER.bind(null,n);return e.type=n,e};we.createRef=function(){return{current:null}};we.forwardRef=function(n){return{$$typeof:nj,render:n}};we.isValidElement=XS;we.lazy=function(n){return{$$typeof:rj,_payload:{_status:-1,_result:n},_init:cj}};we.memo=function(n,e){return{$$typeof:ij,type:n,compare:e===void 0?null:e}};we.startTransition=function(n){var e=_v.transition;_v.transition={};try{n()}finally{_v.transition=e}};we.unstable_act=CR;we.useCallback=function(n,e){return qn.current.useCallback(n,e)};we.useContext=function(n){return qn.current.useContext(n)};we.useDebugValue=function(){};we.useDeferredValue=function(n){return qn.current.useDeferredValue(n)};we.useEffect=function(n,e){return qn.current.useEffect(n,e)};we.useId=function(){return qn.current.useId()};we.useImperativeHandle=function(n,e,t){return qn.current.useImperativeHandle(n,e,t)};we.useInsertionEffect=function(n,e){return qn.current.useInsertionEffect(n,e)};we.useLayoutEffect=function(n,e){return qn.current.useLayoutEffect(n,e)};we.useMemo=function(n,e){return qn.current.useMemo(n,e)};we.useReducer=function(n,e,t){return qn.current.useReducer(n,e,t)};we.useRef=function(n){return qn.current.useRef(n)};we.useState=function(n){return qn.current.useState(n)};we.useSyncExternalStore=function(n,e,t){return qn.current.useSyncExternalStore(n,e,t)};we.useTransition=function(){return qn.current.useTransition()};we.version="18.3.1";yR.exports=we;var P=yR.exports;const $=HS(P),YS=YO({__proto__:null,default:$},[P]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dj=P,hj=Symbol.for("react.element"),fj=Symbol.for("react.fragment"),pj=Object.prototype.hasOwnProperty,mj=dj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,gj={key:!0,ref:!0,__self:!0,__source:!0};function TR(n,e,t){var s,i={},r=null,o=null;t!==void 0&&(r=""+t),e.key!==void 0&&(r=""+e.key),e.ref!==void 0&&(o=e.ref);for(s in e)pj.call(e,s)&&!gj.hasOwnProperty(s)&&(i[s]=e[s]);if(n&&n.defaultProps)for(s in e=n.defaultProps,e)i[s]===void 0&&(i[s]=e[s]);return{$$typeof:hj,type:n,key:r,ref:o,props:i,_owner:mj.current}}zw.Fragment=fj;zw.jsx=TR;zw.jsxs=TR;gR.exports=zw;var x=gR.exports,PR={exports:{}},Hs={},kR={exports:{}},_R={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(D,F){var z=D.length;D.push(F);e:for(;0<z;){var te=z-1>>>1,G=D[te];if(0<i(G,F))D[te]=F,D[z]=G,z=te;else break e}}function t(D){return D.length===0?null:D[0]}function s(D){if(D.length===0)return null;var F=D[0],z=D.pop();if(z!==F){D[0]=z;e:for(var te=0,G=D.length,X=G>>>1;te<X;){var se=2*(te+1)-1,ye=D[se],Se=se+1,ne=D[Se];if(0>i(ye,z))Se<G&&0>i(ne,ye)?(D[te]=ne,D[Se]=z,te=Se):(D[te]=ye,D[se]=z,te=se);else if(Se<G&&0>i(ne,z))D[te]=ne,D[Se]=z,te=Se;else break e}}return F}function i(D,F){var z=D.sortIndex-F.sortIndex;return z!==0?z:D.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;n.unstable_now=function(){return r.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var c=[],u=[],d=1,h=null,f=3,p=!1,y=!1,m=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(D){for(var F=t(u);F!==null;){if(F.callback===null)s(u);else if(F.startTime<=D)s(u),F.sortIndex=F.expirationTime,e(c,F);else break;F=t(u)}}function E(D){if(m=!1,A(D),!y)if(t(c)!==null)y=!0,B(T);else{var F=t(u);F!==null&&j(E,F.startTime-D)}}function T(D,F){y=!1,m&&(m=!1,g(R),R=-1),p=!0;var z=f;try{for(A(F),h=t(c);h!==null&&(!(h.expirationTime>F)||D&&!L());){var te=h.callback;if(typeof te=="function"){h.callback=null,f=h.priorityLevel;var G=te(h.expirationTime<=F);F=n.unstable_now(),typeof G=="function"?h.callback=G:h===t(c)&&s(c),A(F)}else s(c);h=t(c)}if(h!==null)var X=!0;else{var se=t(u);se!==null&&j(E,se.startTime-F),X=!1}return X}finally{h=null,f=z,p=!1}}var k=!1,_=null,R=-1,M=5,N=-1;function L(){return!(n.unstable_now()-N<M)}function O(){if(_!==null){var D=n.unstable_now();N=D;var F=!0;try{F=_(!0,D)}finally{F?U():(k=!1,_=null)}}else k=!1}var U;if(typeof v=="function")U=function(){v(O)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,W=I.port2;I.port1.onmessage=O,U=function(){W.postMessage(null)}}else U=function(){b(O,0)};function B(D){_=D,k||(k=!0,U())}function j(D,F){R=b(function(){D(n.unstable_now())},F)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(D){D.callback=null},n.unstable_continueExecution=function(){y||p||(y=!0,B(T))},n.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<D?Math.floor(1e3/D):5},n.unstable_getCurrentPriorityLevel=function(){return f},n.unstable_getFirstCallbackNode=function(){return t(c)},n.unstable_next=function(D){switch(f){case 1:case 2:case 3:var F=3;break;default:F=f}var z=f;f=F;try{return D()}finally{f=z}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(D,F){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var z=f;f=D;try{return F()}finally{f=z}},n.unstable_scheduleCallback=function(D,F,z){var te=n.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?te+z:te):z=te,D){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=z+G,D={id:d++,callback:F,priorityLevel:D,startTime:z,expirationTime:G,sortIndex:-1},z>te?(D.sortIndex=z,e(u,D),t(c)===null&&D===t(u)&&(m?(g(R),R=-1):m=!0,j(E,z-te))):(D.sortIndex=G,e(c,D),y||p||(y=!0,B(T))),D},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(D){var F=f;return function(){var z=f;f=F;try{return D.apply(this,arguments)}finally{f=z}}}})(_R);kR.exports=_R;var yj=kR.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vj=P,$s=yj;function H(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var RR=new Set,nm={};function Uu(n,e){bf(n,e),bf(n+"Capture",e)}function bf(n,e){for(nm[n]=e,n=0;n<e.length;n++)RR.add(e[n])}var Xo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ub=Object.prototype.hasOwnProperty,wj=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,wT={},xT={};function xj(n){return Ub.call(xT,n)?!0:Ub.call(wT,n)?!1:wj.test(n)?xT[n]=!0:(wT[n]=!0,!1)}function bj(n,e,t,s){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return s?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function Aj(n,e,t,s){if(e===null||typeof e>"u"||bj(n,e,t,s))return!0;if(s)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Xn(n,e,t,s,i,r,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=s,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=r,this.removeEmptyString=o}var pn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){pn[n]=new Xn(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];pn[e]=new Xn(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){pn[n]=new Xn(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){pn[n]=new Xn(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){pn[n]=new Xn(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){pn[n]=new Xn(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){pn[n]=new Xn(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){pn[n]=new Xn(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){pn[n]=new Xn(n,5,!1,n.toLowerCase(),null,!1,!1)});var KS=/[\-:]([a-z])/g;function QS(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(KS,QS);pn[e]=new Xn(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(KS,QS);pn[e]=new Xn(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(KS,QS);pn[e]=new Xn(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){pn[n]=new Xn(n,1,!1,n.toLowerCase(),null,!1,!1)});pn.xlinkHref=new Xn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){pn[n]=new Xn(n,1,!1,n.toLowerCase(),null,!0,!0)});function ZS(n,e,t,s){var i=pn.hasOwnProperty(e)?pn[e]:null;(i!==null?i.type!==0:s||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Aj(e,t,i,s)&&(t=null),s||i===null?xj(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,s=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,s?n.setAttributeNS(s,e,t):n.setAttribute(e,t))))}var oa=vj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,qy=Symbol.for("react.element"),od=Symbol.for("react.portal"),ad=Symbol.for("react.fragment"),JS=Symbol.for("react.strict_mode"),zb=Symbol.for("react.profiler"),MR=Symbol.for("react.provider"),NR=Symbol.for("react.context"),eE=Symbol.for("react.forward_ref"),Hb=Symbol.for("react.suspense"),Wb=Symbol.for("react.suspense_list"),tE=Symbol.for("react.memo"),va=Symbol.for("react.lazy"),DR=Symbol.for("react.offscreen"),bT=Symbol.iterator;function ep(n){return n===null||typeof n!="object"?null:(n=bT&&n[bT]||n["@@iterator"],typeof n=="function"?n:null)}var ft=Object.assign,Vx;function mp(n){if(Vx===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);Vx=e&&e[1]||""}return`
`+Vx+n}var $x=!1;function Ux(n,e){if(!n||$x)return"";$x=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var s=u}Reflect.construct(n,[],e)}else{try{e.call()}catch(u){s=u}n.call(e.prototype)}else{try{throw Error()}catch(u){s=u}n()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),r=s.stack.split(`
`),o=i.length-1,a=r.length-1;1<=o&&0<=a&&i[o]!==r[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==r[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==r[a]){var c=`
`+i[o].replace(" at new "," at ");return n.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",n.displayName)),c}while(1<=o&&0<=a);break}}}finally{$x=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?mp(n):""}function Sj(n){switch(n.tag){case 5:return mp(n.type);case 16:return mp("Lazy");case 13:return mp("Suspense");case 19:return mp("SuspenseList");case 0:case 2:case 15:return n=Ux(n.type,!1),n;case 11:return n=Ux(n.type.render,!1),n;case 1:return n=Ux(n.type,!0),n;default:return""}}function Gb(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case ad:return"Fragment";case od:return"Portal";case zb:return"Profiler";case JS:return"StrictMode";case Hb:return"Suspense";case Wb:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case NR:return(n.displayName||"Context")+".Consumer";case MR:return(n._context.displayName||"Context")+".Provider";case eE:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case tE:return e=n.displayName||null,e!==null?e:Gb(n.type)||"Memo";case va:e=n._payload,n=n._init;try{return Gb(n(e))}catch{}}return null}function Ej(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Gb(e);case 8:return e===JS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Dl(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function LR(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Cj(n){var e=LR(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),s=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,r=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){s=""+o,r.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Xy(n){n._valueTracker||(n._valueTracker=Cj(n))}function IR(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),s="";return n&&(s=LR(n)?n.checked?"true":"false":n.value),n=s,n!==t?(e.setValue(n),!0):!1}function C0(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function qb(n,e){var t=e.checked;return ft({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function AT(n,e){var t=e.defaultValue==null?"":e.defaultValue,s=e.checked!=null?e.checked:e.defaultChecked;t=Dl(e.value!=null?e.value:t),n._wrapperState={initialChecked:s,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function FR(n,e){e=e.checked,e!=null&&ZS(n,"checked",e,!1)}function Xb(n,e){FR(n,e);var t=Dl(e.value),s=e.type;if(t!=null)s==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(s==="submit"||s==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?Yb(n,e.type,t):e.hasOwnProperty("defaultValue")&&Yb(n,e.type,Dl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function ST(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var s=e.type;if(!(s!=="submit"&&s!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function Yb(n,e,t){(e!=="number"||C0(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var gp=Array.isArray;function kd(n,e,t,s){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&s&&(n[t].defaultSelected=!0)}else{for(t=""+Dl(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,s&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function Kb(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(H(91));return ft({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function ET(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(H(92));if(gp(t)){if(1<t.length)throw Error(H(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Dl(t)}}function OR(n,e){var t=Dl(e.value),s=Dl(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),s!=null&&(n.defaultValue=""+s)}function CT(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function jR(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qb(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?jR(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Yy,BR=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,s,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,s,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Yy=Yy||document.createElement("div"),Yy.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Yy.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function sm(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var $p={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Tj=["Webkit","ms","Moz","O"];Object.keys($p).forEach(function(n){Tj.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),$p[e]=$p[n]})});function VR(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||$p.hasOwnProperty(n)&&$p[n]?(""+e).trim():e+"px"}function $R(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var s=t.indexOf("--")===0,i=VR(t,e[t],s);t==="float"&&(t="cssFloat"),s?n.setProperty(t,i):n[t]=i}}var Pj=ft({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zb(n,e){if(e){if(Pj[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(H(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(H(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(H(61))}if(e.style!=null&&typeof e.style!="object")throw Error(H(62))}}function Jb(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var e1=null;function nE(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var t1=null,_d=null,Rd=null;function TT(n){if(n=Ty(n)){if(typeof t1!="function")throw Error(H(280));var e=n.stateNode;e&&(e=Xw(e),t1(n.stateNode,n.type,e))}}function UR(n){_d?Rd?Rd.push(n):Rd=[n]:_d=n}function zR(){if(_d){var n=_d,e=Rd;if(Rd=_d=null,TT(n),e)for(n=0;n<e.length;n++)TT(e[n])}}function HR(n,e){return n(e)}function WR(){}var zx=!1;function GR(n,e,t){if(zx)return n(e,t);zx=!0;try{return HR(n,e,t)}finally{zx=!1,(_d!==null||Rd!==null)&&(WR(),zR())}}function im(n,e){var t=n.stateNode;if(t===null)return null;var s=Xw(t);if(s===null)return null;t=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(n=n.type,s=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!s;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(H(231,e,typeof t));return t}var n1=!1;if(Xo)try{var tp={};Object.defineProperty(tp,"passive",{get:function(){n1=!0}}),window.addEventListener("test",tp,tp),window.removeEventListener("test",tp,tp)}catch{n1=!1}function kj(n,e,t,s,i,r,o,a,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(t,u)}catch(d){this.onError(d)}}var Up=!1,T0=null,P0=!1,s1=null,_j={onError:function(n){Up=!0,T0=n}};function Rj(n,e,t,s,i,r,o,a,c){Up=!1,T0=null,kj.apply(_j,arguments)}function Mj(n,e,t,s,i,r,o,a,c){if(Rj.apply(this,arguments),Up){if(Up){var u=T0;Up=!1,T0=null}else throw Error(H(198));P0||(P0=!0,s1=u)}}function zu(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function qR(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function PT(n){if(zu(n)!==n)throw Error(H(188))}function Nj(n){var e=n.alternate;if(!e){if(e=zu(n),e===null)throw Error(H(188));return e!==n?null:n}for(var t=n,s=e;;){var i=t.return;if(i===null)break;var r=i.alternate;if(r===null){if(s=i.return,s!==null){t=s;continue}break}if(i.child===r.child){for(r=i.child;r;){if(r===t)return PT(i),n;if(r===s)return PT(i),e;r=r.sibling}throw Error(H(188))}if(t.return!==s.return)t=i,s=r;else{for(var o=!1,a=i.child;a;){if(a===t){o=!0,t=i,s=r;break}if(a===s){o=!0,s=i,t=r;break}a=a.sibling}if(!o){for(a=r.child;a;){if(a===t){o=!0,t=r,s=i;break}if(a===s){o=!0,s=r,t=i;break}a=a.sibling}if(!o)throw Error(H(189))}}if(t.alternate!==s)throw Error(H(190))}if(t.tag!==3)throw Error(H(188));return t.stateNode.current===t?n:e}function XR(n){return n=Nj(n),n!==null?YR(n):null}function YR(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=YR(n);if(e!==null)return e;n=n.sibling}return null}var KR=$s.unstable_scheduleCallback,kT=$s.unstable_cancelCallback,Dj=$s.unstable_shouldYield,Lj=$s.unstable_requestPaint,kt=$s.unstable_now,Ij=$s.unstable_getCurrentPriorityLevel,sE=$s.unstable_ImmediatePriority,QR=$s.unstable_UserBlockingPriority,k0=$s.unstable_NormalPriority,Fj=$s.unstable_LowPriority,ZR=$s.unstable_IdlePriority,Hw=null,Ur=null;function Oj(n){if(Ur&&typeof Ur.onCommitFiberRoot=="function")try{Ur.onCommitFiberRoot(Hw,n,void 0,(n.current.flags&128)===128)}catch{}}var qi=Math.clz32?Math.clz32:Vj,jj=Math.log,Bj=Math.LN2;function Vj(n){return n>>>=0,n===0?32:31-(jj(n)/Bj|0)|0}var Ky=64,Qy=4194304;function yp(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function _0(n,e){var t=n.pendingLanes;if(t===0)return 0;var s=0,i=n.suspendedLanes,r=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~i;a!==0?s=yp(a):(r&=o,r!==0&&(s=yp(r)))}else o=t&~i,o!==0?s=yp(o):r!==0&&(s=yp(r));if(s===0)return 0;if(e!==0&&e!==s&&!(e&i)&&(i=s&-s,r=e&-e,i>=r||i===16&&(r&4194240)!==0))return e;if(s&4&&(s|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=s;0<e;)t=31-qi(e),i=1<<t,s|=n[t],e&=~i;return s}function $j(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Uj(n,e){for(var t=n.suspendedLanes,s=n.pingedLanes,i=n.expirationTimes,r=n.pendingLanes;0<r;){var o=31-qi(r),a=1<<o,c=i[o];c===-1?(!(a&t)||a&s)&&(i[o]=$j(a,e)):c<=e&&(n.expiredLanes|=a),r&=~a}}function i1(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function JR(){var n=Ky;return Ky<<=1,!(Ky&4194240)&&(Ky=64),n}function Hx(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Ey(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-qi(e),n[e]=t}function zj(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var s=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-qi(t),r=1<<i;e[i]=0,s[i]=-1,n[i]=-1,t&=~r}}function iE(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var s=31-qi(t),i=1<<s;i&e|n[s]&e&&(n[s]|=e),t&=~i}}var De=0;function e2(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var t2,rE,n2,s2,i2,r1=!1,Zy=[],El=null,Cl=null,Tl=null,rm=new Map,om=new Map,xa=[],Hj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _T(n,e){switch(n){case"focusin":case"focusout":El=null;break;case"dragenter":case"dragleave":Cl=null;break;case"mouseover":case"mouseout":Tl=null;break;case"pointerover":case"pointerout":rm.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":om.delete(e.pointerId)}}function np(n,e,t,s,i,r){return n===null||n.nativeEvent!==r?(n={blockedOn:e,domEventName:t,eventSystemFlags:s,nativeEvent:r,targetContainers:[i]},e!==null&&(e=Ty(e),e!==null&&rE(e)),n):(n.eventSystemFlags|=s,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function Wj(n,e,t,s,i){switch(e){case"focusin":return El=np(El,n,e,t,s,i),!0;case"dragenter":return Cl=np(Cl,n,e,t,s,i),!0;case"mouseover":return Tl=np(Tl,n,e,t,s,i),!0;case"pointerover":var r=i.pointerId;return rm.set(r,np(rm.get(r)||null,n,e,t,s,i)),!0;case"gotpointercapture":return r=i.pointerId,om.set(r,np(om.get(r)||null,n,e,t,s,i)),!0}return!1}function r2(n){var e=ac(n.target);if(e!==null){var t=zu(e);if(t!==null){if(e=t.tag,e===13){if(e=qR(t),e!==null){n.blockedOn=e,i2(n.priority,function(){n2(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Rv(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=o1(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var s=new t.constructor(t.type,t);e1=s,t.target.dispatchEvent(s),e1=null}else return e=Ty(t),e!==null&&rE(e),n.blockedOn=t,!1;e.shift()}return!0}function RT(n,e,t){Rv(n)&&t.delete(e)}function Gj(){r1=!1,El!==null&&Rv(El)&&(El=null),Cl!==null&&Rv(Cl)&&(Cl=null),Tl!==null&&Rv(Tl)&&(Tl=null),rm.forEach(RT),om.forEach(RT)}function sp(n,e){n.blockedOn===e&&(n.blockedOn=null,r1||(r1=!0,$s.unstable_scheduleCallback($s.unstable_NormalPriority,Gj)))}function am(n){function e(i){return sp(i,n)}if(0<Zy.length){sp(Zy[0],n);for(var t=1;t<Zy.length;t++){var s=Zy[t];s.blockedOn===n&&(s.blockedOn=null)}}for(El!==null&&sp(El,n),Cl!==null&&sp(Cl,n),Tl!==null&&sp(Tl,n),rm.forEach(e),om.forEach(e),t=0;t<xa.length;t++)s=xa[t],s.blockedOn===n&&(s.blockedOn=null);for(;0<xa.length&&(t=xa[0],t.blockedOn===null);)r2(t),t.blockedOn===null&&xa.shift()}var Md=oa.ReactCurrentBatchConfig,R0=!0;function qj(n,e,t,s){var i=De,r=Md.transition;Md.transition=null;try{De=1,oE(n,e,t,s)}finally{De=i,Md.transition=r}}function Xj(n,e,t,s){var i=De,r=Md.transition;Md.transition=null;try{De=4,oE(n,e,t,s)}finally{De=i,Md.transition=r}}function oE(n,e,t,s){if(R0){var i=o1(n,e,t,s);if(i===null)eb(n,e,s,M0,t),_T(n,s);else if(Wj(i,n,e,t,s))s.stopPropagation();else if(_T(n,s),e&4&&-1<Hj.indexOf(n)){for(;i!==null;){var r=Ty(i);if(r!==null&&t2(r),r=o1(n,e,t,s),r===null&&eb(n,e,s,M0,t),r===i)break;i=r}i!==null&&s.stopPropagation()}else eb(n,e,s,null,t)}}var M0=null;function o1(n,e,t,s){if(M0=null,n=nE(s),n=ac(n),n!==null)if(e=zu(n),e===null)n=null;else if(t=e.tag,t===13){if(n=qR(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return M0=n,null}function o2(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ij()){case sE:return 1;case QR:return 4;case k0:case Fj:return 16;case ZR:return 536870912;default:return 16}default:return 16}}var bl=null,aE=null,Mv=null;function a2(){if(Mv)return Mv;var n,e=aE,t=e.length,s,i="value"in bl?bl.value:bl.textContent,r=i.length;for(n=0;n<t&&e[n]===i[n];n++);var o=t-n;for(s=1;s<=o&&e[t-s]===i[r-s];s++);return Mv=i.slice(n,1<s?1-s:void 0)}function Nv(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Jy(){return!0}function MT(){return!1}function Ws(n){function e(t,s,i,r,o){this._reactName=t,this._targetInst=i,this.type=s,this.nativeEvent=r,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(r):r[a]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?Jy:MT,this.isPropagationStopped=MT,this}return ft(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Jy)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Jy)},persist:function(){},isPersistent:Jy}),e}var Ff={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lE=Ws(Ff),Cy=ft({},Ff,{view:0,detail:0}),Yj=Ws(Cy),Wx,Gx,ip,Ww=ft({},Cy,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cE,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ip&&(ip&&n.type==="mousemove"?(Wx=n.screenX-ip.screenX,Gx=n.screenY-ip.screenY):Gx=Wx=0,ip=n),Wx)},movementY:function(n){return"movementY"in n?n.movementY:Gx}}),NT=Ws(Ww),Kj=ft({},Ww,{dataTransfer:0}),Qj=Ws(Kj),Zj=ft({},Cy,{relatedTarget:0}),qx=Ws(Zj),Jj=ft({},Ff,{animationName:0,elapsedTime:0,pseudoElement:0}),eB=Ws(Jj),tB=ft({},Ff,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),nB=Ws(tB),sB=ft({},Ff,{data:0}),DT=Ws(sB),iB={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rB={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oB={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aB(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=oB[n])?!!e[n]:!1}function cE(){return aB}var lB=ft({},Cy,{key:function(n){if(n.key){var e=iB[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=Nv(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?rB[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cE,charCode:function(n){return n.type==="keypress"?Nv(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Nv(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),cB=Ws(lB),uB=ft({},Ww,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),LT=Ws(uB),dB=ft({},Cy,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cE}),hB=Ws(dB),fB=ft({},Ff,{propertyName:0,elapsedTime:0,pseudoElement:0}),pB=Ws(fB),mB=ft({},Ww,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),gB=Ws(mB),yB=[9,13,27,32],uE=Xo&&"CompositionEvent"in window,zp=null;Xo&&"documentMode"in document&&(zp=document.documentMode);var vB=Xo&&"TextEvent"in window&&!zp,l2=Xo&&(!uE||zp&&8<zp&&11>=zp),IT=" ",FT=!1;function c2(n,e){switch(n){case"keyup":return yB.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function u2(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ld=!1;function wB(n,e){switch(n){case"compositionend":return u2(e);case"keypress":return e.which!==32?null:(FT=!0,IT);case"textInput":return n=e.data,n===IT&&FT?null:n;default:return null}}function xB(n,e){if(ld)return n==="compositionend"||!uE&&c2(n,e)?(n=a2(),Mv=aE=bl=null,ld=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return l2&&e.locale!=="ko"?null:e.data;default:return null}}var bB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function OT(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!bB[n.type]:e==="textarea"}function d2(n,e,t,s){UR(s),e=N0(e,"onChange"),0<e.length&&(t=new lE("onChange","change",null,t,s),n.push({event:t,listeners:e}))}var Hp=null,lm=null;function AB(n){A2(n,0)}function Gw(n){var e=dd(n);if(IR(e))return n}function SB(n,e){if(n==="change")return e}var h2=!1;if(Xo){var Xx;if(Xo){var Yx="oninput"in document;if(!Yx){var jT=document.createElement("div");jT.setAttribute("oninput","return;"),Yx=typeof jT.oninput=="function"}Xx=Yx}else Xx=!1;h2=Xx&&(!document.documentMode||9<document.documentMode)}function BT(){Hp&&(Hp.detachEvent("onpropertychange",f2),lm=Hp=null)}function f2(n){if(n.propertyName==="value"&&Gw(lm)){var e=[];d2(e,lm,n,nE(n)),GR(AB,e)}}function EB(n,e,t){n==="focusin"?(BT(),Hp=e,lm=t,Hp.attachEvent("onpropertychange",f2)):n==="focusout"&&BT()}function CB(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Gw(lm)}function TB(n,e){if(n==="click")return Gw(e)}function PB(n,e){if(n==="input"||n==="change")return Gw(e)}function kB(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Yi=typeof Object.is=="function"?Object.is:kB;function cm(n,e){if(Yi(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),s=Object.keys(e);if(t.length!==s.length)return!1;for(s=0;s<t.length;s++){var i=t[s];if(!Ub.call(e,i)||!Yi(n[i],e[i]))return!1}return!0}function VT(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function $T(n,e){var t=VT(n);n=0;for(var s;t;){if(t.nodeType===3){if(s=n+t.textContent.length,n<=e&&s>=e)return{node:t,offset:e-n};n=s}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=VT(t)}}function p2(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?p2(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function m2(){for(var n=window,e=C0();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=C0(n.document)}return e}function dE(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function _B(n){var e=m2(),t=n.focusedElem,s=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&p2(t.ownerDocument.documentElement,t)){if(s!==null&&dE(t)){if(e=s.start,n=s.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,r=Math.min(s.start,i);s=s.end===void 0?r:Math.min(s.end,i),!n.extend&&r>s&&(i=s,s=r,r=i),i=$T(t,r);var o=$T(t,s);i&&o&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),r>s?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var RB=Xo&&"documentMode"in document&&11>=document.documentMode,cd=null,a1=null,Wp=null,l1=!1;function UT(n,e,t){var s=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;l1||cd==null||cd!==C0(s)||(s=cd,"selectionStart"in s&&dE(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Wp&&cm(Wp,s)||(Wp=s,s=N0(a1,"onSelect"),0<s.length&&(e=new lE("onSelect","select",null,e,t),n.push({event:e,listeners:s}),e.target=cd)))}function ev(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var ud={animationend:ev("Animation","AnimationEnd"),animationiteration:ev("Animation","AnimationIteration"),animationstart:ev("Animation","AnimationStart"),transitionend:ev("Transition","TransitionEnd")},Kx={},g2={};Xo&&(g2=document.createElement("div").style,"AnimationEvent"in window||(delete ud.animationend.animation,delete ud.animationiteration.animation,delete ud.animationstart.animation),"TransitionEvent"in window||delete ud.transitionend.transition);function qw(n){if(Kx[n])return Kx[n];if(!ud[n])return n;var e=ud[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in g2)return Kx[n]=e[t];return n}var y2=qw("animationend"),v2=qw("animationiteration"),w2=qw("animationstart"),x2=qw("transitionend"),b2=new Map,zT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Hl(n,e){b2.set(n,e),Uu(e,[n])}for(var Qx=0;Qx<zT.length;Qx++){var Zx=zT[Qx],MB=Zx.toLowerCase(),NB=Zx[0].toUpperCase()+Zx.slice(1);Hl(MB,"on"+NB)}Hl(y2,"onAnimationEnd");Hl(v2,"onAnimationIteration");Hl(w2,"onAnimationStart");Hl("dblclick","onDoubleClick");Hl("focusin","onFocus");Hl("focusout","onBlur");Hl(x2,"onTransitionEnd");bf("onMouseEnter",["mouseout","mouseover"]);bf("onMouseLeave",["mouseout","mouseover"]);bf("onPointerEnter",["pointerout","pointerover"]);bf("onPointerLeave",["pointerout","pointerover"]);Uu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Uu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Uu("onBeforeInput",["compositionend","keypress","textInput","paste"]);Uu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Uu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Uu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DB=new Set("cancel close invalid load scroll toggle".split(" ").concat(vp));function HT(n,e,t){var s=n.type||"unknown-event";n.currentTarget=t,Mj(s,e,void 0,n),n.currentTarget=null}function A2(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var s=n[t],i=s.event;s=s.listeners;e:{var r=void 0;if(e)for(var o=s.length-1;0<=o;o--){var a=s[o],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==r&&i.isPropagationStopped())break e;HT(i,a,u),r=c}else for(o=0;o<s.length;o++){if(a=s[o],c=a.instance,u=a.currentTarget,a=a.listener,c!==r&&i.isPropagationStopped())break e;HT(i,a,u),r=c}}}if(P0)throw n=s1,P0=!1,s1=null,n}function Ye(n,e){var t=e[f1];t===void 0&&(t=e[f1]=new Set);var s=n+"__bubble";t.has(s)||(S2(e,n,2,!1),t.add(s))}function Jx(n,e,t){var s=0;e&&(s|=4),S2(t,n,s,e)}var tv="_reactListening"+Math.random().toString(36).slice(2);function um(n){if(!n[tv]){n[tv]=!0,RR.forEach(function(t){t!=="selectionchange"&&(DB.has(t)||Jx(t,!1,n),Jx(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[tv]||(e[tv]=!0,Jx("selectionchange",!1,e))}}function S2(n,e,t,s){switch(o2(e)){case 1:var i=qj;break;case 4:i=Xj;break;default:i=oE}t=i.bind(null,e,t,n),i=void 0,!n1||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),s?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function eb(n,e,t,s,i){var r=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var a=s.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ac(a),o===null)return;if(c=o.tag,c===5||c===6){s=r=o;continue e}a=a.parentNode}}s=s.return}GR(function(){var u=r,d=nE(t),h=[];e:{var f=b2.get(n);if(f!==void 0){var p=lE,y=n;switch(n){case"keypress":if(Nv(t)===0)break e;case"keydown":case"keyup":p=cB;break;case"focusin":y="focus",p=qx;break;case"focusout":y="blur",p=qx;break;case"beforeblur":case"afterblur":p=qx;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=NT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Qj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=hB;break;case y2:case v2:case w2:p=eB;break;case x2:p=pB;break;case"scroll":p=Yj;break;case"wheel":p=gB;break;case"copy":case"cut":case"paste":p=nB;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=LT}var m=(e&4)!==0,b=!m&&n==="scroll",g=m?f!==null?f+"Capture":null:f;m=[];for(var v=u,A;v!==null;){A=v;var E=A.stateNode;if(A.tag===5&&E!==null&&(A=E,g!==null&&(E=im(v,g),E!=null&&m.push(dm(v,E,A)))),b)break;v=v.return}0<m.length&&(f=new p(f,y,null,t,d),h.push({event:f,listeners:m}))}}if(!(e&7)){e:{if(f=n==="mouseover"||n==="pointerover",p=n==="mouseout"||n==="pointerout",f&&t!==e1&&(y=t.relatedTarget||t.fromElement)&&(ac(y)||y[Yo]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(y=t.relatedTarget||t.toElement,p=u,y=y?ac(y):null,y!==null&&(b=zu(y),y!==b||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=u),p!==y)){if(m=NT,E="onMouseLeave",g="onMouseEnter",v="mouse",(n==="pointerout"||n==="pointerover")&&(m=LT,E="onPointerLeave",g="onPointerEnter",v="pointer"),b=p==null?f:dd(p),A=y==null?f:dd(y),f=new m(E,v+"leave",p,t,d),f.target=b,f.relatedTarget=A,E=null,ac(d)===u&&(m=new m(g,v+"enter",y,t,d),m.target=A,m.relatedTarget=b,E=m),b=E,p&&y)t:{for(m=p,g=y,v=0,A=m;A;A=Ku(A))v++;for(A=0,E=g;E;E=Ku(E))A++;for(;0<v-A;)m=Ku(m),v--;for(;0<A-v;)g=Ku(g),A--;for(;v--;){if(m===g||g!==null&&m===g.alternate)break t;m=Ku(m),g=Ku(g)}m=null}else m=null;p!==null&&WT(h,f,p,m,!1),y!==null&&b!==null&&WT(h,b,y,m,!0)}}e:{if(f=u?dd(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var T=SB;else if(OT(f))if(h2)T=PB;else{T=CB;var k=EB}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(T=TB);if(T&&(T=T(n,u))){d2(h,T,t,d);break e}k&&k(n,f,u),n==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&Yb(f,"number",f.value)}switch(k=u?dd(u):window,n){case"focusin":(OT(k)||k.contentEditable==="true")&&(cd=k,a1=u,Wp=null);break;case"focusout":Wp=a1=cd=null;break;case"mousedown":l1=!0;break;case"contextmenu":case"mouseup":case"dragend":l1=!1,UT(h,t,d);break;case"selectionchange":if(RB)break;case"keydown":case"keyup":UT(h,t,d)}var _;if(uE)e:{switch(n){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else ld?c2(n,t)&&(R="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(R="onCompositionStart");R&&(l2&&t.locale!=="ko"&&(ld||R!=="onCompositionStart"?R==="onCompositionEnd"&&ld&&(_=a2()):(bl=d,aE="value"in bl?bl.value:bl.textContent,ld=!0)),k=N0(u,R),0<k.length&&(R=new DT(R,n,null,t,d),h.push({event:R,listeners:k}),_?R.data=_:(_=u2(t),_!==null&&(R.data=_)))),(_=vB?wB(n,t):xB(n,t))&&(u=N0(u,"onBeforeInput"),0<u.length&&(d=new DT("onBeforeInput","beforeinput",null,t,d),h.push({event:d,listeners:u}),d.data=_))}A2(h,e)})}function dm(n,e,t){return{instance:n,listener:e,currentTarget:t}}function N0(n,e){for(var t=e+"Capture",s=[];n!==null;){var i=n,r=i.stateNode;i.tag===5&&r!==null&&(i=r,r=im(n,t),r!=null&&s.unshift(dm(n,r,i)),r=im(n,e),r!=null&&s.push(dm(n,r,i))),n=n.return}return s}function Ku(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function WT(n,e,t,s,i){for(var r=e._reactName,o=[];t!==null&&t!==s;){var a=t,c=a.alternate,u=a.stateNode;if(c!==null&&c===s)break;a.tag===5&&u!==null&&(a=u,i?(c=im(t,r),c!=null&&o.unshift(dm(t,c,a))):i||(c=im(t,r),c!=null&&o.push(dm(t,c,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var LB=/\r\n?/g,IB=/\u0000|\uFFFD/g;function GT(n){return(typeof n=="string"?n:""+n).replace(LB,`
`).replace(IB,"")}function nv(n,e,t){if(e=GT(e),GT(n)!==e&&t)throw Error(H(425))}function D0(){}var c1=null,u1=null;function d1(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var h1=typeof setTimeout=="function"?setTimeout:void 0,FB=typeof clearTimeout=="function"?clearTimeout:void 0,qT=typeof Promise=="function"?Promise:void 0,OB=typeof queueMicrotask=="function"?queueMicrotask:typeof qT<"u"?function(n){return qT.resolve(null).then(n).catch(jB)}:h1;function jB(n){setTimeout(function(){throw n})}function tb(n,e){var t=e,s=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(s===0){n.removeChild(i),am(e);return}s--}else t!=="$"&&t!=="$?"&&t!=="$!"||s++;t=i}while(t);am(e)}function Pl(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function XT(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Of=Math.random().toString(36).slice(2),jr="__reactFiber$"+Of,hm="__reactProps$"+Of,Yo="__reactContainer$"+Of,f1="__reactEvents$"+Of,BB="__reactListeners$"+Of,VB="__reactHandles$"+Of;function ac(n){var e=n[jr];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Yo]||t[jr]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=XT(n);n!==null;){if(t=n[jr])return t;n=XT(n)}return e}n=t,t=n.parentNode}return null}function Ty(n){return n=n[jr]||n[Yo],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function dd(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(H(33))}function Xw(n){return n[hm]||null}var p1=[],hd=-1;function Wl(n){return{current:n}}function Qe(n){0>hd||(n.current=p1[hd],p1[hd]=null,hd--)}function Ge(n,e){hd++,p1[hd]=n.current,n.current=e}var Ll={},Rn=Wl(Ll),us=Wl(!1),Lu=Ll;function Af(n,e){var t=n.type.contextTypes;if(!t)return Ll;var s=n.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===e)return s.__reactInternalMemoizedMaskedChildContext;var i={},r;for(r in t)i[r]=e[r];return s&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function ds(n){return n=n.childContextTypes,n!=null}function L0(){Qe(us),Qe(Rn)}function YT(n,e,t){if(Rn.current!==Ll)throw Error(H(168));Ge(Rn,e),Ge(us,t)}function E2(n,e,t){var s=n.stateNode;if(e=e.childContextTypes,typeof s.getChildContext!="function")return t;s=s.getChildContext();for(var i in s)if(!(i in e))throw Error(H(108,Ej(n)||"Unknown",i));return ft({},t,s)}function I0(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Ll,Lu=Rn.current,Ge(Rn,n),Ge(us,us.current),!0}function KT(n,e,t){var s=n.stateNode;if(!s)throw Error(H(169));t?(n=E2(n,e,Lu),s.__reactInternalMemoizedMergedChildContext=n,Qe(us),Qe(Rn),Ge(Rn,n)):Qe(us),Ge(us,t)}var oo=null,Yw=!1,nb=!1;function C2(n){oo===null?oo=[n]:oo.push(n)}function $B(n){Yw=!0,C2(n)}function Gl(){if(!nb&&oo!==null){nb=!0;var n=0,e=De;try{var t=oo;for(De=1;n<t.length;n++){var s=t[n];do s=s(!0);while(s!==null)}oo=null,Yw=!1}catch(i){throw oo!==null&&(oo=oo.slice(n+1)),KR(sE,Gl),i}finally{De=e,nb=!1}}return null}var fd=[],pd=0,F0=null,O0=0,ai=[],li=0,Iu=null,zo=1,Ho="";function Zl(n,e){fd[pd++]=O0,fd[pd++]=F0,F0=n,O0=e}function T2(n,e,t){ai[li++]=zo,ai[li++]=Ho,ai[li++]=Iu,Iu=n;var s=zo;n=Ho;var i=32-qi(s)-1;s&=~(1<<i),t+=1;var r=32-qi(e)+i;if(30<r){var o=i-i%5;r=(s&(1<<o)-1).toString(32),s>>=o,i-=o,zo=1<<32-qi(e)+i|t<<i|s,Ho=r+n}else zo=1<<r|t<<i|s,Ho=n}function hE(n){n.return!==null&&(Zl(n,1),T2(n,1,0))}function fE(n){for(;n===F0;)F0=fd[--pd],fd[pd]=null,O0=fd[--pd],fd[pd]=null;for(;n===Iu;)Iu=ai[--li],ai[li]=null,Ho=ai[--li],ai[li]=null,zo=ai[--li],ai[li]=null}var js=null,Os=null,nt=!1,Wi=null;function P2(n,e){var t=ui(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function QT(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,js=n,Os=Pl(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,js=n,Os=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Iu!==null?{id:zo,overflow:Ho}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=ui(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,js=n,Os=null,!0):!1;default:return!1}}function m1(n){return(n.mode&1)!==0&&(n.flags&128)===0}function g1(n){if(nt){var e=Os;if(e){var t=e;if(!QT(n,e)){if(m1(n))throw Error(H(418));e=Pl(t.nextSibling);var s=js;e&&QT(n,e)?P2(s,t):(n.flags=n.flags&-4097|2,nt=!1,js=n)}}else{if(m1(n))throw Error(H(418));n.flags=n.flags&-4097|2,nt=!1,js=n}}}function ZT(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;js=n}function sv(n){if(n!==js)return!1;if(!nt)return ZT(n),nt=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!d1(n.type,n.memoizedProps)),e&&(e=Os)){if(m1(n))throw k2(),Error(H(418));for(;e;)P2(n,e),e=Pl(e.nextSibling)}if(ZT(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(H(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Os=Pl(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Os=null}}else Os=js?Pl(n.stateNode.nextSibling):null;return!0}function k2(){for(var n=Os;n;)n=Pl(n.nextSibling)}function Sf(){Os=js=null,nt=!1}function pE(n){Wi===null?Wi=[n]:Wi.push(n)}var UB=oa.ReactCurrentBatchConfig;function rp(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(H(309));var s=t.stateNode}if(!s)throw Error(H(147,n));var i=s,r=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===r?e.ref:(e=function(o){var a=i.refs;o===null?delete a[r]:a[r]=o},e._stringRef=r,e)}if(typeof n!="string")throw Error(H(284));if(!t._owner)throw Error(H(290,n))}return n}function iv(n,e){throw n=Object.prototype.toString.call(e),Error(H(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function JT(n){var e=n._init;return e(n._payload)}function _2(n){function e(g,v){if(n){var A=g.deletions;A===null?(g.deletions=[v],g.flags|=16):A.push(v)}}function t(g,v){if(!n)return null;for(;v!==null;)e(g,v),v=v.sibling;return null}function s(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function i(g,v){return g=Ml(g,v),g.index=0,g.sibling=null,g}function r(g,v,A){return g.index=A,n?(A=g.alternate,A!==null?(A=A.index,A<v?(g.flags|=2,v):A):(g.flags|=2,v)):(g.flags|=1048576,v)}function o(g){return n&&g.alternate===null&&(g.flags|=2),g}function a(g,v,A,E){return v===null||v.tag!==6?(v=cb(A,g.mode,E),v.return=g,v):(v=i(v,A),v.return=g,v)}function c(g,v,A,E){var T=A.type;return T===ad?d(g,v,A.props.children,E,A.key):v!==null&&(v.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===va&&JT(T)===v.type)?(E=i(v,A.props),E.ref=rp(g,v,A),E.return=g,E):(E=Bv(A.type,A.key,A.props,null,g.mode,E),E.ref=rp(g,v,A),E.return=g,E)}function u(g,v,A,E){return v===null||v.tag!==4||v.stateNode.containerInfo!==A.containerInfo||v.stateNode.implementation!==A.implementation?(v=ub(A,g.mode,E),v.return=g,v):(v=i(v,A.children||[]),v.return=g,v)}function d(g,v,A,E,T){return v===null||v.tag!==7?(v=Mu(A,g.mode,E,T),v.return=g,v):(v=i(v,A),v.return=g,v)}function h(g,v,A){if(typeof v=="string"&&v!==""||typeof v=="number")return v=cb(""+v,g.mode,A),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case qy:return A=Bv(v.type,v.key,v.props,null,g.mode,A),A.ref=rp(g,null,v),A.return=g,A;case od:return v=ub(v,g.mode,A),v.return=g,v;case va:var E=v._init;return h(g,E(v._payload),A)}if(gp(v)||ep(v))return v=Mu(v,g.mode,A,null),v.return=g,v;iv(g,v)}return null}function f(g,v,A,E){var T=v!==null?v.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return T!==null?null:a(g,v,""+A,E);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case qy:return A.key===T?c(g,v,A,E):null;case od:return A.key===T?u(g,v,A,E):null;case va:return T=A._init,f(g,v,T(A._payload),E)}if(gp(A)||ep(A))return T!==null?null:d(g,v,A,E,null);iv(g,A)}return null}function p(g,v,A,E,T){if(typeof E=="string"&&E!==""||typeof E=="number")return g=g.get(A)||null,a(v,g,""+E,T);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case qy:return g=g.get(E.key===null?A:E.key)||null,c(v,g,E,T);case od:return g=g.get(E.key===null?A:E.key)||null,u(v,g,E,T);case va:var k=E._init;return p(g,v,A,k(E._payload),T)}if(gp(E)||ep(E))return g=g.get(A)||null,d(v,g,E,T,null);iv(v,E)}return null}function y(g,v,A,E){for(var T=null,k=null,_=v,R=v=0,M=null;_!==null&&R<A.length;R++){_.index>R?(M=_,_=null):M=_.sibling;var N=f(g,_,A[R],E);if(N===null){_===null&&(_=M);break}n&&_&&N.alternate===null&&e(g,_),v=r(N,v,R),k===null?T=N:k.sibling=N,k=N,_=M}if(R===A.length)return t(g,_),nt&&Zl(g,R),T;if(_===null){for(;R<A.length;R++)_=h(g,A[R],E),_!==null&&(v=r(_,v,R),k===null?T=_:k.sibling=_,k=_);return nt&&Zl(g,R),T}for(_=s(g,_);R<A.length;R++)M=p(_,g,R,A[R],E),M!==null&&(n&&M.alternate!==null&&_.delete(M.key===null?R:M.key),v=r(M,v,R),k===null?T=M:k.sibling=M,k=M);return n&&_.forEach(function(L){return e(g,L)}),nt&&Zl(g,R),T}function m(g,v,A,E){var T=ep(A);if(typeof T!="function")throw Error(H(150));if(A=T.call(A),A==null)throw Error(H(151));for(var k=T=null,_=v,R=v=0,M=null,N=A.next();_!==null&&!N.done;R++,N=A.next()){_.index>R?(M=_,_=null):M=_.sibling;var L=f(g,_,N.value,E);if(L===null){_===null&&(_=M);break}n&&_&&L.alternate===null&&e(g,_),v=r(L,v,R),k===null?T=L:k.sibling=L,k=L,_=M}if(N.done)return t(g,_),nt&&Zl(g,R),T;if(_===null){for(;!N.done;R++,N=A.next())N=h(g,N.value,E),N!==null&&(v=r(N,v,R),k===null?T=N:k.sibling=N,k=N);return nt&&Zl(g,R),T}for(_=s(g,_);!N.done;R++,N=A.next())N=p(_,g,R,N.value,E),N!==null&&(n&&N.alternate!==null&&_.delete(N.key===null?R:N.key),v=r(N,v,R),k===null?T=N:k.sibling=N,k=N);return n&&_.forEach(function(O){return e(g,O)}),nt&&Zl(g,R),T}function b(g,v,A,E){if(typeof A=="object"&&A!==null&&A.type===ad&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case qy:e:{for(var T=A.key,k=v;k!==null;){if(k.key===T){if(T=A.type,T===ad){if(k.tag===7){t(g,k.sibling),v=i(k,A.props.children),v.return=g,g=v;break e}}else if(k.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===va&&JT(T)===k.type){t(g,k.sibling),v=i(k,A.props),v.ref=rp(g,k,A),v.return=g,g=v;break e}t(g,k);break}else e(g,k);k=k.sibling}A.type===ad?(v=Mu(A.props.children,g.mode,E,A.key),v.return=g,g=v):(E=Bv(A.type,A.key,A.props,null,g.mode,E),E.ref=rp(g,v,A),E.return=g,g=E)}return o(g);case od:e:{for(k=A.key;v!==null;){if(v.key===k)if(v.tag===4&&v.stateNode.containerInfo===A.containerInfo&&v.stateNode.implementation===A.implementation){t(g,v.sibling),v=i(v,A.children||[]),v.return=g,g=v;break e}else{t(g,v);break}else e(g,v);v=v.sibling}v=ub(A,g.mode,E),v.return=g,g=v}return o(g);case va:return k=A._init,b(g,v,k(A._payload),E)}if(gp(A))return y(g,v,A,E);if(ep(A))return m(g,v,A,E);iv(g,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,v!==null&&v.tag===6?(t(g,v.sibling),v=i(v,A),v.return=g,g=v):(t(g,v),v=cb(A,g.mode,E),v.return=g,g=v),o(g)):t(g,v)}return b}var Ef=_2(!0),R2=_2(!1),j0=Wl(null),B0=null,md=null,mE=null;function gE(){mE=md=B0=null}function yE(n){var e=j0.current;Qe(j0),n._currentValue=e}function y1(n,e,t){for(;n!==null;){var s=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),n===t)break;n=n.return}}function Nd(n,e){B0=n,mE=md=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(ls=!0),n.firstContext=null)}function gi(n){var e=n._currentValue;if(mE!==n)if(n={context:n,memoizedValue:e,next:null},md===null){if(B0===null)throw Error(H(308));md=n,B0.dependencies={lanes:0,firstContext:n}}else md=md.next=n;return e}var lc=null;function vE(n){lc===null?lc=[n]:lc.push(n)}function M2(n,e,t,s){var i=e.interleaved;return i===null?(t.next=t,vE(e)):(t.next=i.next,i.next=t),e.interleaved=t,Ko(n,s)}function Ko(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var wa=!1;function wE(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function N2(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Wo(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function kl(n,e,t){var s=n.updateQueue;if(s===null)return null;if(s=s.shared,Ee&2){var i=s.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),s.pending=e,Ko(n,t)}return i=s.interleaved,i===null?(e.next=e,vE(s)):(e.next=i.next,i.next=e),s.interleaved=e,Ko(n,t)}function Dv(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var s=e.lanes;s&=n.pendingLanes,t|=s,e.lanes=t,iE(n,t)}}function eP(n,e){var t=n.updateQueue,s=n.alternate;if(s!==null&&(s=s.updateQueue,t===s)){var i=null,r=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};r===null?i=r=o:r=r.next=o,t=t.next}while(t!==null);r===null?i=r=e:r=r.next=e}else i=r=e;t={baseState:s.baseState,firstBaseUpdate:i,lastBaseUpdate:r,shared:s.shared,effects:s.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function V0(n,e,t,s){var i=n.updateQueue;wa=!1;var r=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var c=a,u=c.next;c.next=null,o===null?r=u:o.next=u,o=c;var d=n.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=c))}if(r!==null){var h=i.baseState;o=0,d=u=c=null,a=r;do{var f=a.lane,p=a.eventTime;if((s&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=n,m=a;switch(f=e,p=t,m.tag){case 1:if(y=m.payload,typeof y=="function"){h=y.call(p,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=m.payload,f=typeof y=="function"?y.call(p,h,f):y,f==null)break e;h=ft({},h,f);break e;case 2:wa=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=p,c=h):d=d.next=p,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(c=h),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else r===null&&(i.shared.lanes=0);Ou|=o,n.lanes=o,n.memoizedState=h}}function tP(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var s=n[e],i=s.callback;if(i!==null){if(s.callback=null,s=t,typeof i!="function")throw Error(H(191,i));i.call(s)}}}var Py={},zr=Wl(Py),fm=Wl(Py),pm=Wl(Py);function cc(n){if(n===Py)throw Error(H(174));return n}function xE(n,e){switch(Ge(pm,e),Ge(fm,n),Ge(zr,Py),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Qb(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=Qb(e,n)}Qe(zr),Ge(zr,e)}function Cf(){Qe(zr),Qe(fm),Qe(pm)}function D2(n){cc(pm.current);var e=cc(zr.current),t=Qb(e,n.type);e!==t&&(Ge(fm,n),Ge(zr,t))}function bE(n){fm.current===n&&(Qe(zr),Qe(fm))}var lt=Wl(0);function $0(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var sb=[];function AE(){for(var n=0;n<sb.length;n++)sb[n]._workInProgressVersionPrimary=null;sb.length=0}var Lv=oa.ReactCurrentDispatcher,ib=oa.ReactCurrentBatchConfig,Fu=0,dt=null,Vt=null,Qt=null,U0=!1,Gp=!1,mm=0,zB=0;function gn(){throw Error(H(321))}function SE(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Yi(n[t],e[t]))return!1;return!0}function EE(n,e,t,s,i,r){if(Fu=r,dt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Lv.current=n===null||n.memoizedState===null?qB:XB,n=t(s,i),Gp){r=0;do{if(Gp=!1,mm=0,25<=r)throw Error(H(301));r+=1,Qt=Vt=null,e.updateQueue=null,Lv.current=YB,n=t(s,i)}while(Gp)}if(Lv.current=z0,e=Vt!==null&&Vt.next!==null,Fu=0,Qt=Vt=dt=null,U0=!1,e)throw Error(H(300));return n}function CE(){var n=mm!==0;return mm=0,n}function dr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qt===null?dt.memoizedState=Qt=n:Qt=Qt.next=n,Qt}function yi(){if(Vt===null){var n=dt.alternate;n=n!==null?n.memoizedState:null}else n=Vt.next;var e=Qt===null?dt.memoizedState:Qt.next;if(e!==null)Qt=e,Vt=n;else{if(n===null)throw Error(H(310));Vt=n,n={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},Qt===null?dt.memoizedState=Qt=n:Qt=Qt.next=n}return Qt}function gm(n,e){return typeof e=="function"?e(n):e}function rb(n){var e=yi(),t=e.queue;if(t===null)throw Error(H(311));t.lastRenderedReducer=n;var s=Vt,i=s.baseQueue,r=t.pending;if(r!==null){if(i!==null){var o=i.next;i.next=r.next,r.next=o}s.baseQueue=i=r,t.pending=null}if(i!==null){r=i.next,s=s.baseState;var a=o=null,c=null,u=r;do{var d=u.lane;if((Fu&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:n(s,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=h,o=s):c=c.next=h,dt.lanes|=d,Ou|=d}u=u.next}while(u!==null&&u!==r);c===null?o=s:c.next=a,Yi(s,e.memoizedState)||(ls=!0),e.memoizedState=s,e.baseState=o,e.baseQueue=c,t.lastRenderedState=s}if(n=t.interleaved,n!==null){i=n;do r=i.lane,dt.lanes|=r,Ou|=r,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function ob(n){var e=yi(),t=e.queue;if(t===null)throw Error(H(311));t.lastRenderedReducer=n;var s=t.dispatch,i=t.pending,r=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do r=n(r,o.action),o=o.next;while(o!==i);Yi(r,e.memoizedState)||(ls=!0),e.memoizedState=r,e.baseQueue===null&&(e.baseState=r),t.lastRenderedState=r}return[r,s]}function L2(){}function I2(n,e){var t=dt,s=yi(),i=e(),r=!Yi(s.memoizedState,i);if(r&&(s.memoizedState=i,ls=!0),s=s.queue,TE(j2.bind(null,t,s,n),[n]),s.getSnapshot!==e||r||Qt!==null&&Qt.memoizedState.tag&1){if(t.flags|=2048,ym(9,O2.bind(null,t,s,i,e),void 0,null),Zt===null)throw Error(H(349));Fu&30||F2(t,e,i)}return i}function F2(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=dt.updateQueue,e===null?(e={lastEffect:null,stores:null},dt.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function O2(n,e,t,s){e.value=t,e.getSnapshot=s,B2(e)&&V2(n)}function j2(n,e,t){return t(function(){B2(e)&&V2(n)})}function B2(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Yi(n,t)}catch{return!0}}function V2(n){var e=Ko(n,1);e!==null&&Xi(e,n,1,-1)}function nP(n){var e=dr();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gm,lastRenderedState:n},e.queue=n,n=n.dispatch=GB.bind(null,dt,n),[e.memoizedState,n]}function ym(n,e,t,s){return n={tag:n,create:e,destroy:t,deps:s,next:null},e=dt.updateQueue,e===null?(e={lastEffect:null,stores:null},dt.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(s=t.next,t.next=n,n.next=s,e.lastEffect=n)),n}function $2(){return yi().memoizedState}function Iv(n,e,t,s){var i=dr();dt.flags|=n,i.memoizedState=ym(1|e,t,void 0,s===void 0?null:s)}function Kw(n,e,t,s){var i=yi();s=s===void 0?null:s;var r=void 0;if(Vt!==null){var o=Vt.memoizedState;if(r=o.destroy,s!==null&&SE(s,o.deps)){i.memoizedState=ym(e,t,r,s);return}}dt.flags|=n,i.memoizedState=ym(1|e,t,r,s)}function sP(n,e){return Iv(8390656,8,n,e)}function TE(n,e){return Kw(2048,8,n,e)}function U2(n,e){return Kw(4,2,n,e)}function z2(n,e){return Kw(4,4,n,e)}function H2(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function W2(n,e,t){return t=t!=null?t.concat([n]):null,Kw(4,4,H2.bind(null,e,n),t)}function PE(){}function G2(n,e){var t=yi();e=e===void 0?null:e;var s=t.memoizedState;return s!==null&&e!==null&&SE(e,s[1])?s[0]:(t.memoizedState=[n,e],n)}function q2(n,e){var t=yi();e=e===void 0?null:e;var s=t.memoizedState;return s!==null&&e!==null&&SE(e,s[1])?s[0]:(n=n(),t.memoizedState=[n,e],n)}function X2(n,e,t){return Fu&21?(Yi(t,e)||(t=JR(),dt.lanes|=t,Ou|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,ls=!0),n.memoizedState=t)}function HB(n,e){var t=De;De=t!==0&&4>t?t:4,n(!0);var s=ib.transition;ib.transition={};try{n(!1),e()}finally{De=t,ib.transition=s}}function Y2(){return yi().memoizedState}function WB(n,e,t){var s=Rl(n);if(t={lane:s,action:t,hasEagerState:!1,eagerState:null,next:null},K2(n))Q2(e,t);else if(t=M2(n,e,t,s),t!==null){var i=Wn();Xi(t,n,s,i),Z2(t,e,s)}}function GB(n,e,t){var s=Rl(n),i={lane:s,action:t,hasEagerState:!1,eagerState:null,next:null};if(K2(n))Q2(e,i);else{var r=n.alternate;if(n.lanes===0&&(r===null||r.lanes===0)&&(r=e.lastRenderedReducer,r!==null))try{var o=e.lastRenderedState,a=r(o,t);if(i.hasEagerState=!0,i.eagerState=a,Yi(a,o)){var c=e.interleaved;c===null?(i.next=i,vE(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}t=M2(n,e,i,s),t!==null&&(i=Wn(),Xi(t,n,s,i),Z2(t,e,s))}}function K2(n){var e=n.alternate;return n===dt||e!==null&&e===dt}function Q2(n,e){Gp=U0=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function Z2(n,e,t){if(t&4194240){var s=e.lanes;s&=n.pendingLanes,t|=s,e.lanes=t,iE(n,t)}}var z0={readContext:gi,useCallback:gn,useContext:gn,useEffect:gn,useImperativeHandle:gn,useInsertionEffect:gn,useLayoutEffect:gn,useMemo:gn,useReducer:gn,useRef:gn,useState:gn,useDebugValue:gn,useDeferredValue:gn,useTransition:gn,useMutableSource:gn,useSyncExternalStore:gn,useId:gn,unstable_isNewReconciler:!1},qB={readContext:gi,useCallback:function(n,e){return dr().memoizedState=[n,e===void 0?null:e],n},useContext:gi,useEffect:sP,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,Iv(4194308,4,H2.bind(null,e,n),t)},useLayoutEffect:function(n,e){return Iv(4194308,4,n,e)},useInsertionEffect:function(n,e){return Iv(4,2,n,e)},useMemo:function(n,e){var t=dr();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var s=dr();return e=t!==void 0?t(e):e,s.memoizedState=s.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},s.queue=n,n=n.dispatch=WB.bind(null,dt,n),[s.memoizedState,n]},useRef:function(n){var e=dr();return n={current:n},e.memoizedState=n},useState:nP,useDebugValue:PE,useDeferredValue:function(n){return dr().memoizedState=n},useTransition:function(){var n=nP(!1),e=n[0];return n=HB.bind(null,n[1]),dr().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var s=dt,i=dr();if(nt){if(t===void 0)throw Error(H(407));t=t()}else{if(t=e(),Zt===null)throw Error(H(349));Fu&30||F2(s,e,t)}i.memoizedState=t;var r={value:t,getSnapshot:e};return i.queue=r,sP(j2.bind(null,s,r,n),[n]),s.flags|=2048,ym(9,O2.bind(null,s,r,t,e),void 0,null),t},useId:function(){var n=dr(),e=Zt.identifierPrefix;if(nt){var t=Ho,s=zo;t=(s&~(1<<32-qi(s)-1)).toString(32)+t,e=":"+e+"R"+t,t=mm++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=zB++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},XB={readContext:gi,useCallback:G2,useContext:gi,useEffect:TE,useImperativeHandle:W2,useInsertionEffect:U2,useLayoutEffect:z2,useMemo:q2,useReducer:rb,useRef:$2,useState:function(){return rb(gm)},useDebugValue:PE,useDeferredValue:function(n){var e=yi();return X2(e,Vt.memoizedState,n)},useTransition:function(){var n=rb(gm)[0],e=yi().memoizedState;return[n,e]},useMutableSource:L2,useSyncExternalStore:I2,useId:Y2,unstable_isNewReconciler:!1},YB={readContext:gi,useCallback:G2,useContext:gi,useEffect:TE,useImperativeHandle:W2,useInsertionEffect:U2,useLayoutEffect:z2,useMemo:q2,useReducer:ob,useRef:$2,useState:function(){return ob(gm)},useDebugValue:PE,useDeferredValue:function(n){var e=yi();return Vt===null?e.memoizedState=n:X2(e,Vt.memoizedState,n)},useTransition:function(){var n=ob(gm)[0],e=yi().memoizedState;return[n,e]},useMutableSource:L2,useSyncExternalStore:I2,useId:Y2,unstable_isNewReconciler:!1};function ki(n,e){if(n&&n.defaultProps){e=ft({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function v1(n,e,t,s){e=n.memoizedState,t=t(s,e),t=t==null?e:ft({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var Qw={isMounted:function(n){return(n=n._reactInternals)?zu(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var s=Wn(),i=Rl(n),r=Wo(s,i);r.payload=e,t!=null&&(r.callback=t),e=kl(n,r,i),e!==null&&(Xi(e,n,i,s),Dv(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var s=Wn(),i=Rl(n),r=Wo(s,i);r.tag=1,r.payload=e,t!=null&&(r.callback=t),e=kl(n,r,i),e!==null&&(Xi(e,n,i,s),Dv(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Wn(),s=Rl(n),i=Wo(t,s);i.tag=2,e!=null&&(i.callback=e),e=kl(n,i,s),e!==null&&(Xi(e,n,s,t),Dv(e,n,s))}};function iP(n,e,t,s,i,r,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(s,r,o):e.prototype&&e.prototype.isPureReactComponent?!cm(t,s)||!cm(i,r):!0}function J2(n,e,t){var s=!1,i=Ll,r=e.contextType;return typeof r=="object"&&r!==null?r=gi(r):(i=ds(e)?Lu:Rn.current,s=e.contextTypes,r=(s=s!=null)?Af(n,i):Ll),e=new e(t,r),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Qw,n.stateNode=e,e._reactInternals=n,s&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=r),e}function rP(n,e,t,s){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,s),e.state!==n&&Qw.enqueueReplaceState(e,e.state,null)}function w1(n,e,t,s){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs={},wE(n);var r=e.contextType;typeof r=="object"&&r!==null?i.context=gi(r):(r=ds(e)?Lu:Rn.current,i.context=Af(n,r)),i.state=n.memoizedState,r=e.getDerivedStateFromProps,typeof r=="function"&&(v1(n,e,r,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Qw.enqueueReplaceState(i,i.state,null),V0(n,t,i,s),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function Tf(n,e){try{var t="",s=e;do t+=Sj(s),s=s.return;while(s);var i=t}catch(r){i=`
Error generating stack: `+r.message+`
`+r.stack}return{value:n,source:e,stack:i,digest:null}}function ab(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function x1(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var KB=typeof WeakMap=="function"?WeakMap:Map;function eM(n,e,t){t=Wo(-1,t),t.tag=3,t.payload={element:null};var s=e.value;return t.callback=function(){W0||(W0=!0,R1=s),x1(n,e)},t}function tM(n,e,t){t=Wo(-1,t),t.tag=3;var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var i=e.value;t.payload=function(){return s(i)},t.callback=function(){x1(n,e)}}var r=n.stateNode;return r!==null&&typeof r.componentDidCatch=="function"&&(t.callback=function(){x1(n,e),typeof s!="function"&&(_l===null?_l=new Set([this]):_l.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function oP(n,e,t){var s=n.pingCache;if(s===null){s=n.pingCache=new KB;var i=new Set;s.set(e,i)}else i=s.get(e),i===void 0&&(i=new Set,s.set(e,i));i.has(t)||(i.add(t),n=u3.bind(null,n,e,t),e.then(n,n))}function aP(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function lP(n,e,t,s,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Wo(-1,1),e.tag=2,kl(t,e,1))),t.lanes|=1),n)}var QB=oa.ReactCurrentOwner,ls=!1;function $n(n,e,t,s){e.child=n===null?R2(e,null,t,s):Ef(e,n.child,t,s)}function cP(n,e,t,s,i){t=t.render;var r=e.ref;return Nd(e,i),s=EE(n,e,t,s,r,i),t=CE(),n!==null&&!ls?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Qo(n,e,i)):(nt&&t&&hE(e),e.flags|=1,$n(n,e,s,i),e.child)}function uP(n,e,t,s,i){if(n===null){var r=t.type;return typeof r=="function"&&!IE(r)&&r.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=r,nM(n,e,r,s,i)):(n=Bv(t.type,null,s,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(r=n.child,!(n.lanes&i)){var o=r.memoizedProps;if(t=t.compare,t=t!==null?t:cm,t(o,s)&&n.ref===e.ref)return Qo(n,e,i)}return e.flags|=1,n=Ml(r,s),n.ref=e.ref,n.return=e,e.child=n}function nM(n,e,t,s,i){if(n!==null){var r=n.memoizedProps;if(cm(r,s)&&n.ref===e.ref)if(ls=!1,e.pendingProps=s=r,(n.lanes&i)!==0)n.flags&131072&&(ls=!0);else return e.lanes=n.lanes,Qo(n,e,i)}return b1(n,e,t,s,i)}function sM(n,e,t){var s=e.pendingProps,i=s.children,r=n!==null?n.memoizedState:null;if(s.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ge(yd,Ds),Ds|=t;else{if(!(t&1073741824))return n=r!==null?r.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Ge(yd,Ds),Ds|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=r!==null?r.baseLanes:t,Ge(yd,Ds),Ds|=s}else r!==null?(s=r.baseLanes|t,e.memoizedState=null):s=t,Ge(yd,Ds),Ds|=s;return $n(n,e,i,t),e.child}function iM(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function b1(n,e,t,s,i){var r=ds(t)?Lu:Rn.current;return r=Af(e,r),Nd(e,i),t=EE(n,e,t,s,r,i),s=CE(),n!==null&&!ls?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Qo(n,e,i)):(nt&&s&&hE(e),e.flags|=1,$n(n,e,t,i),e.child)}function dP(n,e,t,s,i){if(ds(t)){var r=!0;I0(e)}else r=!1;if(Nd(e,i),e.stateNode===null)Fv(n,e),J2(e,t,s),w1(e,t,s,i),s=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,u=t.contextType;typeof u=="object"&&u!==null?u=gi(u):(u=ds(t)?Lu:Rn.current,u=Af(e,u));var d=t.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==s||c!==u)&&rP(e,o,s,u),wa=!1;var f=e.memoizedState;o.state=f,V0(e,s,o,i),c=e.memoizedState,a!==s||f!==c||us.current||wa?(typeof d=="function"&&(v1(e,t,d,s),c=e.memoizedState),(a=wa||iP(e,t,a,s,f,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=c),o.props=s,o.state=c,o.context=u,s=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{o=e.stateNode,N2(n,e),a=e.memoizedProps,u=e.type===e.elementType?a:ki(e.type,a),o.props=u,h=e.pendingProps,f=o.context,c=t.contextType,typeof c=="object"&&c!==null?c=gi(c):(c=ds(t)?Lu:Rn.current,c=Af(e,c));var p=t.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==c)&&rP(e,o,s,c),wa=!1,f=e.memoizedState,o.state=f,V0(e,s,o,i);var y=e.memoizedState;a!==h||f!==y||us.current||wa?(typeof p=="function"&&(v1(e,t,p,s),y=e.memoizedState),(u=wa||iP(e,t,u,s,f,y,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,y,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,y,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=y),o.props=s,o.state=y,o.context=c,s=u):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),s=!1)}return A1(n,e,t,s,r,i)}function A1(n,e,t,s,i,r){iM(n,e);var o=(e.flags&128)!==0;if(!s&&!o)return i&&KT(e,t,!1),Qo(n,e,r);s=e.stateNode,QB.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:s.render();return e.flags|=1,n!==null&&o?(e.child=Ef(e,n.child,null,r),e.child=Ef(e,null,a,r)):$n(n,e,a,r),e.memoizedState=s.state,i&&KT(e,t,!0),e.child}function rM(n){var e=n.stateNode;e.pendingContext?YT(n,e.pendingContext,e.pendingContext!==e.context):e.context&&YT(n,e.context,!1),xE(n,e.containerInfo)}function hP(n,e,t,s,i){return Sf(),pE(i),e.flags|=256,$n(n,e,t,s),e.child}var S1={dehydrated:null,treeContext:null,retryLane:0};function E1(n){return{baseLanes:n,cachePool:null,transitions:null}}function oM(n,e,t){var s=e.pendingProps,i=lt.current,r=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(r=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),Ge(lt,i&1),n===null)return g1(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=s.children,n=s.fallback,r?(s=e.mode,r=e.child,o={mode:"hidden",children:o},!(s&1)&&r!==null?(r.childLanes=0,r.pendingProps=o):r=ex(o,s,0,null),n=Mu(n,s,t,null),r.return=e,n.return=e,r.sibling=n,e.child=r,e.child.memoizedState=E1(t),e.memoizedState=S1,n):kE(e,o));if(i=n.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return ZB(n,e,o,s,a,i,t);if(r){r=s.fallback,o=e.mode,i=n.child,a=i.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&e.child!==i?(s=e.child,s.childLanes=0,s.pendingProps=c,e.deletions=null):(s=Ml(i,c),s.subtreeFlags=i.subtreeFlags&14680064),a!==null?r=Ml(a,r):(r=Mu(r,o,t,null),r.flags|=2),r.return=e,s.return=e,s.sibling=r,e.child=s,s=r,r=e.child,o=n.child.memoizedState,o=o===null?E1(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},r.memoizedState=o,r.childLanes=n.childLanes&~t,e.memoizedState=S1,s}return r=n.child,n=r.sibling,s=Ml(r,{mode:"visible",children:s.children}),!(e.mode&1)&&(s.lanes=t),s.return=e,s.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=s,e.memoizedState=null,s}function kE(n,e){return e=ex({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function rv(n,e,t,s){return s!==null&&pE(s),Ef(e,n.child,null,t),n=kE(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function ZB(n,e,t,s,i,r,o){if(t)return e.flags&256?(e.flags&=-257,s=ab(Error(H(422))),rv(n,e,o,s)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(r=s.fallback,i=e.mode,s=ex({mode:"visible",children:s.children},i,0,null),r=Mu(r,i,o,null),r.flags|=2,s.return=e,r.return=e,s.sibling=r,e.child=s,e.mode&1&&Ef(e,n.child,null,o),e.child.memoizedState=E1(o),e.memoizedState=S1,r);if(!(e.mode&1))return rv(n,e,o,null);if(i.data==="$!"){if(s=i.nextSibling&&i.nextSibling.dataset,s)var a=s.dgst;return s=a,r=Error(H(419)),s=ab(r,s,void 0),rv(n,e,o,s)}if(a=(o&n.childLanes)!==0,ls||a){if(s=Zt,s!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(s.suspendedLanes|o)?0:i,i!==0&&i!==r.retryLane&&(r.retryLane=i,Ko(n,i),Xi(s,n,i,-1))}return LE(),s=ab(Error(H(421))),rv(n,e,o,s)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=d3.bind(null,n),i._reactRetry=e,null):(n=r.treeContext,Os=Pl(i.nextSibling),js=e,nt=!0,Wi=null,n!==null&&(ai[li++]=zo,ai[li++]=Ho,ai[li++]=Iu,zo=n.id,Ho=n.overflow,Iu=e),e=kE(e,s.children),e.flags|=4096,e)}function fP(n,e,t){n.lanes|=e;var s=n.alternate;s!==null&&(s.lanes|=e),y1(n.return,e,t)}function lb(n,e,t,s,i){var r=n.memoizedState;r===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:t,tailMode:i}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=s,r.tail=t,r.tailMode=i)}function aM(n,e,t){var s=e.pendingProps,i=s.revealOrder,r=s.tail;if($n(n,e,s.children,t),s=lt.current,s&2)s=s&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&fP(n,t,e);else if(n.tag===19)fP(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}s&=1}if(Ge(lt,s),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&$0(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),lb(e,!1,i,t,r);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&$0(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}lb(e,!0,t,null,r);break;case"together":lb(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Fv(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Qo(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Ou|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(H(153));if(e.child!==null){for(n=e.child,t=Ml(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Ml(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function JB(n,e,t){switch(e.tag){case 3:rM(e),Sf();break;case 5:D2(e);break;case 1:ds(e.type)&&I0(e);break;case 4:xE(e,e.stateNode.containerInfo);break;case 10:var s=e.type._context,i=e.memoizedProps.value;Ge(j0,s._currentValue),s._currentValue=i;break;case 13:if(s=e.memoizedState,s!==null)return s.dehydrated!==null?(Ge(lt,lt.current&1),e.flags|=128,null):t&e.child.childLanes?oM(n,e,t):(Ge(lt,lt.current&1),n=Qo(n,e,t),n!==null?n.sibling:null);Ge(lt,lt.current&1);break;case 19:if(s=(t&e.childLanes)!==0,n.flags&128){if(s)return aM(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ge(lt,lt.current),s)break;return null;case 22:case 23:return e.lanes=0,sM(n,e,t)}return Qo(n,e,t)}var lM,C1,cM,uM;lM=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};C1=function(){};cM=function(n,e,t,s){var i=n.memoizedProps;if(i!==s){n=e.stateNode,cc(zr.current);var r=null;switch(t){case"input":i=qb(n,i),s=qb(n,s),r=[];break;case"select":i=ft({},i,{value:void 0}),s=ft({},s,{value:void 0}),r=[];break;case"textarea":i=Kb(n,i),s=Kb(n,s),r=[];break;default:typeof i.onClick!="function"&&typeof s.onClick=="function"&&(n.onclick=D0)}Zb(t,s);var o;t=null;for(u in i)if(!s.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(nm.hasOwnProperty(u)?r||(r=[]):(r=r||[]).push(u,null));for(u in s){var c=s[u];if(a=i!=null?i[u]:void 0,s.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(t||(t={}),t[o]=c[o])}else t||(r||(r=[]),r.push(u,t)),t=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(r=r||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(r=r||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(nm.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ye("scroll",n),r||a===c||(r=[])):(r=r||[]).push(u,c))}t&&(r=r||[]).push("style",t);var u=r;(e.updateQueue=u)&&(e.flags|=4)}};uM=function(n,e,t,s){t!==s&&(e.flags|=4)};function op(n,e){if(!nt)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:s.sibling=null}}function yn(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,s=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,s|=i.subtreeFlags&14680064,s|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,s|=i.subtreeFlags,s|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=s,n.childLanes=t,e}function e3(n,e,t){var s=e.pendingProps;switch(fE(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yn(e),null;case 1:return ds(e.type)&&L0(),yn(e),null;case 3:return s=e.stateNode,Cf(),Qe(us),Qe(Rn),AE(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(n===null||n.child===null)&&(sv(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Wi!==null&&(D1(Wi),Wi=null))),C1(n,e),yn(e),null;case 5:bE(e);var i=cc(pm.current);if(t=e.type,n!==null&&e.stateNode!=null)cM(n,e,t,s,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!s){if(e.stateNode===null)throw Error(H(166));return yn(e),null}if(n=cc(zr.current),sv(e)){s=e.stateNode,t=e.type;var r=e.memoizedProps;switch(s[jr]=e,s[hm]=r,n=(e.mode&1)!==0,t){case"dialog":Ye("cancel",s),Ye("close",s);break;case"iframe":case"object":case"embed":Ye("load",s);break;case"video":case"audio":for(i=0;i<vp.length;i++)Ye(vp[i],s);break;case"source":Ye("error",s);break;case"img":case"image":case"link":Ye("error",s),Ye("load",s);break;case"details":Ye("toggle",s);break;case"input":AT(s,r),Ye("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!r.multiple},Ye("invalid",s);break;case"textarea":ET(s,r),Ye("invalid",s)}Zb(t,r),i=null;for(var o in r)if(r.hasOwnProperty(o)){var a=r[o];o==="children"?typeof a=="string"?s.textContent!==a&&(r.suppressHydrationWarning!==!0&&nv(s.textContent,a,n),i=["children",a]):typeof a=="number"&&s.textContent!==""+a&&(r.suppressHydrationWarning!==!0&&nv(s.textContent,a,n),i=["children",""+a]):nm.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ye("scroll",s)}switch(t){case"input":Xy(s),ST(s,r,!0);break;case"textarea":Xy(s),CT(s);break;case"select":case"option":break;default:typeof r.onClick=="function"&&(s.onclick=D0)}s=i,e.updateQueue=s,s!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=jR(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof s.is=="string"?n=o.createElement(t,{is:s.is}):(n=o.createElement(t),t==="select"&&(o=n,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):n=o.createElementNS(n,t),n[jr]=e,n[hm]=s,lM(n,e,!1,!1),e.stateNode=n;e:{switch(o=Jb(t,s),t){case"dialog":Ye("cancel",n),Ye("close",n),i=s;break;case"iframe":case"object":case"embed":Ye("load",n),i=s;break;case"video":case"audio":for(i=0;i<vp.length;i++)Ye(vp[i],n);i=s;break;case"source":Ye("error",n),i=s;break;case"img":case"image":case"link":Ye("error",n),Ye("load",n),i=s;break;case"details":Ye("toggle",n),i=s;break;case"input":AT(n,s),i=qb(n,s),Ye("invalid",n);break;case"option":i=s;break;case"select":n._wrapperState={wasMultiple:!!s.multiple},i=ft({},s,{value:void 0}),Ye("invalid",n);break;case"textarea":ET(n,s),i=Kb(n,s),Ye("invalid",n);break;default:i=s}Zb(t,i),a=i;for(r in a)if(a.hasOwnProperty(r)){var c=a[r];r==="style"?$R(n,c):r==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&BR(n,c)):r==="children"?typeof c=="string"?(t!=="textarea"||c!=="")&&sm(n,c):typeof c=="number"&&sm(n,""+c):r!=="suppressContentEditableWarning"&&r!=="suppressHydrationWarning"&&r!=="autoFocus"&&(nm.hasOwnProperty(r)?c!=null&&r==="onScroll"&&Ye("scroll",n):c!=null&&ZS(n,r,c,o))}switch(t){case"input":Xy(n),ST(n,s,!1);break;case"textarea":Xy(n),CT(n);break;case"option":s.value!=null&&n.setAttribute("value",""+Dl(s.value));break;case"select":n.multiple=!!s.multiple,r=s.value,r!=null?kd(n,!!s.multiple,r,!1):s.defaultValue!=null&&kd(n,!!s.multiple,s.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=D0)}switch(t){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return yn(e),null;case 6:if(n&&e.stateNode!=null)uM(n,e,n.memoizedProps,s);else{if(typeof s!="string"&&e.stateNode===null)throw Error(H(166));if(t=cc(pm.current),cc(zr.current),sv(e)){if(s=e.stateNode,t=e.memoizedProps,s[jr]=e,(r=s.nodeValue!==t)&&(n=js,n!==null))switch(n.tag){case 3:nv(s.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&nv(s.nodeValue,t,(n.mode&1)!==0)}r&&(e.flags|=4)}else s=(t.nodeType===9?t:t.ownerDocument).createTextNode(s),s[jr]=e,e.stateNode=s}return yn(e),null;case 13:if(Qe(lt),s=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(nt&&Os!==null&&e.mode&1&&!(e.flags&128))k2(),Sf(),e.flags|=98560,r=!1;else if(r=sv(e),s!==null&&s.dehydrated!==null){if(n===null){if(!r)throw Error(H(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(H(317));r[jr]=e}else Sf(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;yn(e),r=!1}else Wi!==null&&(D1(Wi),Wi=null),r=!0;if(!r)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(s=s!==null,s!==(n!==null&&n.memoizedState!==null)&&s&&(e.child.flags|=8192,e.mode&1&&(n===null||lt.current&1?$t===0&&($t=3):LE())),e.updateQueue!==null&&(e.flags|=4),yn(e),null);case 4:return Cf(),C1(n,e),n===null&&um(e.stateNode.containerInfo),yn(e),null;case 10:return yE(e.type._context),yn(e),null;case 17:return ds(e.type)&&L0(),yn(e),null;case 19:if(Qe(lt),r=e.memoizedState,r===null)return yn(e),null;if(s=(e.flags&128)!==0,o=r.rendering,o===null)if(s)op(r,!1);else{if($t!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=$0(n),o!==null){for(e.flags|=128,op(r,!1),s=o.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),e.subtreeFlags=0,s=t,t=e.child;t!==null;)r=t,n=s,r.flags&=14680066,o=r.alternate,o===null?(r.childLanes=0,r.lanes=n,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,n=o.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Ge(lt,lt.current&1|2),e.child}n=n.sibling}r.tail!==null&&kt()>Pf&&(e.flags|=128,s=!0,op(r,!1),e.lanes=4194304)}else{if(!s)if(n=$0(o),n!==null){if(e.flags|=128,s=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),op(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!nt)return yn(e),null}else 2*kt()-r.renderingStartTime>Pf&&t!==1073741824&&(e.flags|=128,s=!0,op(r,!1),e.lanes=4194304);r.isBackwards?(o.sibling=e.child,e.child=o):(t=r.last,t!==null?t.sibling=o:e.child=o,r.last=o)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=kt(),e.sibling=null,t=lt.current,Ge(lt,s?t&1|2:t&1),e):(yn(e),null);case 22:case 23:return DE(),s=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==s&&(e.flags|=8192),s&&e.mode&1?Ds&1073741824&&(yn(e),e.subtreeFlags&6&&(e.flags|=8192)):yn(e),null;case 24:return null;case 25:return null}throw Error(H(156,e.tag))}function t3(n,e){switch(fE(e),e.tag){case 1:return ds(e.type)&&L0(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Cf(),Qe(us),Qe(Rn),AE(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return bE(e),null;case 13:if(Qe(lt),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(H(340));Sf()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Qe(lt),null;case 4:return Cf(),null;case 10:return yE(e.type._context),null;case 22:case 23:return DE(),null;case 24:return null;default:return null}}var ov=!1,Pn=!1,n3=typeof WeakSet=="function"?WeakSet:Set,Z=null;function gd(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(s){Et(n,e,s)}else t.current=null}function T1(n,e,t){try{t()}catch(s){Et(n,e,s)}}var pP=!1;function s3(n,e){if(c1=R0,n=m2(),dE(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var s=t.getSelection&&t.getSelection();if(s&&s.rangeCount!==0){t=s.anchorNode;var i=s.anchorOffset,r=s.focusNode;s=s.focusOffset;try{t.nodeType,r.nodeType}catch{t=null;break e}var o=0,a=-1,c=-1,u=0,d=0,h=n,f=null;t:for(;;){for(var p;h!==t||i!==0&&h.nodeType!==3||(a=o+i),h!==r||s!==0&&h.nodeType!==3||(c=o+s),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===n)break t;if(f===t&&++u===i&&(a=o),f===r&&++d===s&&(c=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}t=a===-1||c===-1?null:{start:a,end:c}}else t=null}t=t||{start:0,end:0}}else t=null;for(u1={focusedElem:n,selectionRange:t},R0=!1,Z=e;Z!==null;)if(e=Z,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,Z=n;else for(;Z!==null;){e=Z;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var m=y.memoizedProps,b=y.memoizedState,g=e.stateNode,v=g.getSnapshotBeforeUpdate(e.elementType===e.type?m:ki(e.type,m),b);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var A=e.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(E){Et(e,e.return,E)}if(n=e.sibling,n!==null){n.return=e.return,Z=n;break}Z=e.return}return y=pP,pP=!1,y}function qp(n,e,t){var s=e.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var i=s=s.next;do{if((i.tag&n)===n){var r=i.destroy;i.destroy=void 0,r!==void 0&&T1(e,t,r)}i=i.next}while(i!==s)}}function Zw(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var s=t.create;t.destroy=s()}t=t.next}while(t!==e)}}function P1(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function dM(n){var e=n.alternate;e!==null&&(n.alternate=null,dM(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[jr],delete e[hm],delete e[f1],delete e[BB],delete e[VB])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function hM(n){return n.tag===5||n.tag===3||n.tag===4}function mP(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||hM(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function k1(n,e,t){var s=n.tag;if(s===5||s===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=D0));else if(s!==4&&(n=n.child,n!==null))for(k1(n,e,t),n=n.sibling;n!==null;)k1(n,e,t),n=n.sibling}function _1(n,e,t){var s=n.tag;if(s===5||s===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(s!==4&&(n=n.child,n!==null))for(_1(n,e,t),n=n.sibling;n!==null;)_1(n,e,t),n=n.sibling}var an=null,Hi=!1;function ha(n,e,t){for(t=t.child;t!==null;)fM(n,e,t),t=t.sibling}function fM(n,e,t){if(Ur&&typeof Ur.onCommitFiberUnmount=="function")try{Ur.onCommitFiberUnmount(Hw,t)}catch{}switch(t.tag){case 5:Pn||gd(t,e);case 6:var s=an,i=Hi;an=null,ha(n,e,t),an=s,Hi=i,an!==null&&(Hi?(n=an,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):an.removeChild(t.stateNode));break;case 18:an!==null&&(Hi?(n=an,t=t.stateNode,n.nodeType===8?tb(n.parentNode,t):n.nodeType===1&&tb(n,t),am(n)):tb(an,t.stateNode));break;case 4:s=an,i=Hi,an=t.stateNode.containerInfo,Hi=!0,ha(n,e,t),an=s,Hi=i;break;case 0:case 11:case 14:case 15:if(!Pn&&(s=t.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){i=s=s.next;do{var r=i,o=r.destroy;r=r.tag,o!==void 0&&(r&2||r&4)&&T1(t,e,o),i=i.next}while(i!==s)}ha(n,e,t);break;case 1:if(!Pn&&(gd(t,e),s=t.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=t.memoizedProps,s.state=t.memoizedState,s.componentWillUnmount()}catch(a){Et(t,e,a)}ha(n,e,t);break;case 21:ha(n,e,t);break;case 22:t.mode&1?(Pn=(s=Pn)||t.memoizedState!==null,ha(n,e,t),Pn=s):ha(n,e,t);break;default:ha(n,e,t)}}function gP(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new n3),e.forEach(function(s){var i=h3.bind(null,n,s);t.has(s)||(t.add(s),s.then(i,i))})}}function Ai(n,e){var t=e.deletions;if(t!==null)for(var s=0;s<t.length;s++){var i=t[s];try{var r=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:an=a.stateNode,Hi=!1;break e;case 3:an=a.stateNode.containerInfo,Hi=!0;break e;case 4:an=a.stateNode.containerInfo,Hi=!0;break e}a=a.return}if(an===null)throw Error(H(160));fM(r,o,i),an=null,Hi=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){Et(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)pM(e,n),e=e.sibling}function pM(n,e){var t=n.alternate,s=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Ai(e,n),ar(n),s&4){try{qp(3,n,n.return),Zw(3,n)}catch(m){Et(n,n.return,m)}try{qp(5,n,n.return)}catch(m){Et(n,n.return,m)}}break;case 1:Ai(e,n),ar(n),s&512&&t!==null&&gd(t,t.return);break;case 5:if(Ai(e,n),ar(n),s&512&&t!==null&&gd(t,t.return),n.flags&32){var i=n.stateNode;try{sm(i,"")}catch(m){Et(n,n.return,m)}}if(s&4&&(i=n.stateNode,i!=null)){var r=n.memoizedProps,o=t!==null?t.memoizedProps:r,a=n.type,c=n.updateQueue;if(n.updateQueue=null,c!==null)try{a==="input"&&r.type==="radio"&&r.name!=null&&FR(i,r),Jb(a,o);var u=Jb(a,r);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?$R(i,h):d==="dangerouslySetInnerHTML"?BR(i,h):d==="children"?sm(i,h):ZS(i,d,h,u)}switch(a){case"input":Xb(i,r);break;case"textarea":OR(i,r);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!r.multiple;var p=r.value;p!=null?kd(i,!!r.multiple,p,!1):f!==!!r.multiple&&(r.defaultValue!=null?kd(i,!!r.multiple,r.defaultValue,!0):kd(i,!!r.multiple,r.multiple?[]:"",!1))}i[hm]=r}catch(m){Et(n,n.return,m)}}break;case 6:if(Ai(e,n),ar(n),s&4){if(n.stateNode===null)throw Error(H(162));i=n.stateNode,r=n.memoizedProps;try{i.nodeValue=r}catch(m){Et(n,n.return,m)}}break;case 3:if(Ai(e,n),ar(n),s&4&&t!==null&&t.memoizedState.isDehydrated)try{am(e.containerInfo)}catch(m){Et(n,n.return,m)}break;case 4:Ai(e,n),ar(n);break;case 13:Ai(e,n),ar(n),i=n.child,i.flags&8192&&(r=i.memoizedState!==null,i.stateNode.isHidden=r,!r||i.alternate!==null&&i.alternate.memoizedState!==null||(ME=kt())),s&4&&gP(n);break;case 22:if(d=t!==null&&t.memoizedState!==null,n.mode&1?(Pn=(u=Pn)||d,Ai(e,n),Pn=u):Ai(e,n),ar(n),s&8192){if(u=n.memoizedState!==null,(n.stateNode.isHidden=u)&&!d&&n.mode&1)for(Z=n,d=n.child;d!==null;){for(h=Z=d;Z!==null;){switch(f=Z,p=f.child,f.tag){case 0:case 11:case 14:case 15:qp(4,f,f.return);break;case 1:gd(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){s=f,t=f.return;try{e=s,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(m){Et(s,t,m)}}break;case 5:gd(f,f.return);break;case 22:if(f.memoizedState!==null){vP(h);continue}}p!==null?(p.return=f,Z=p):vP(h)}d=d.sibling}e:for(d=null,h=n;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(r=i.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none"):(a=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=VR("display",o))}catch(m){Et(n,n.return,m)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(m){Et(n,n.return,m)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ai(e,n),ar(n),s&4&&gP(n);break;case 21:break;default:Ai(e,n),ar(n)}}function ar(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(hM(t)){var s=t;break e}t=t.return}throw Error(H(160))}switch(s.tag){case 5:var i=s.stateNode;s.flags&32&&(sm(i,""),s.flags&=-33);var r=mP(n);_1(n,r,i);break;case 3:case 4:var o=s.stateNode.containerInfo,a=mP(n);k1(n,a,o);break;default:throw Error(H(161))}}catch(c){Et(n,n.return,c)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function i3(n,e,t){Z=n,mM(n)}function mM(n,e,t){for(var s=(n.mode&1)!==0;Z!==null;){var i=Z,r=i.child;if(i.tag===22&&s){var o=i.memoizedState!==null||ov;if(!o){var a=i.alternate,c=a!==null&&a.memoizedState!==null||Pn;a=ov;var u=Pn;if(ov=o,(Pn=c)&&!u)for(Z=i;Z!==null;)o=Z,c=o.child,o.tag===22&&o.memoizedState!==null?wP(i):c!==null?(c.return=o,Z=c):wP(i);for(;r!==null;)Z=r,mM(r),r=r.sibling;Z=i,ov=a,Pn=u}yP(n)}else i.subtreeFlags&8772&&r!==null?(r.return=i,Z=r):yP(n)}}function yP(n){for(;Z!==null;){var e=Z;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Pn||Zw(5,e);break;case 1:var s=e.stateNode;if(e.flags&4&&!Pn)if(t===null)s.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:ki(e.type,t.memoizedProps);s.componentDidUpdate(i,t.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var r=e.updateQueue;r!==null&&tP(e,r,s);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}tP(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&t.focus();break;case"img":c.src&&(t.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&am(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}Pn||e.flags&512&&P1(e)}catch(f){Et(e,e.return,f)}}if(e===n){Z=null;break}if(t=e.sibling,t!==null){t.return=e.return,Z=t;break}Z=e.return}}function vP(n){for(;Z!==null;){var e=Z;if(e===n){Z=null;break}var t=e.sibling;if(t!==null){t.return=e.return,Z=t;break}Z=e.return}}function wP(n){for(;Z!==null;){var e=Z;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{Zw(4,e)}catch(c){Et(e,t,c)}break;case 1:var s=e.stateNode;if(typeof s.componentDidMount=="function"){var i=e.return;try{s.componentDidMount()}catch(c){Et(e,i,c)}}var r=e.return;try{P1(e)}catch(c){Et(e,r,c)}break;case 5:var o=e.return;try{P1(e)}catch(c){Et(e,o,c)}}}catch(c){Et(e,e.return,c)}if(e===n){Z=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Z=a;break}Z=e.return}}var r3=Math.ceil,H0=oa.ReactCurrentDispatcher,_E=oa.ReactCurrentOwner,fi=oa.ReactCurrentBatchConfig,Ee=0,Zt=null,Dt=null,fn=0,Ds=0,yd=Wl(0),$t=0,vm=null,Ou=0,Jw=0,RE=0,Xp=null,as=null,ME=0,Pf=1/0,so=null,W0=!1,R1=null,_l=null,av=!1,Al=null,G0=0,Yp=0,M1=null,Ov=-1,jv=0;function Wn(){return Ee&6?kt():Ov!==-1?Ov:Ov=kt()}function Rl(n){return n.mode&1?Ee&2&&fn!==0?fn&-fn:UB.transition!==null?(jv===0&&(jv=JR()),jv):(n=De,n!==0||(n=window.event,n=n===void 0?16:o2(n.type)),n):1}function Xi(n,e,t,s){if(50<Yp)throw Yp=0,M1=null,Error(H(185));Ey(n,t,s),(!(Ee&2)||n!==Zt)&&(n===Zt&&(!(Ee&2)&&(Jw|=t),$t===4&&ba(n,fn)),hs(n,s),t===1&&Ee===0&&!(e.mode&1)&&(Pf=kt()+500,Yw&&Gl()))}function hs(n,e){var t=n.callbackNode;Uj(n,e);var s=_0(n,n===Zt?fn:0);if(s===0)t!==null&&kT(t),n.callbackNode=null,n.callbackPriority=0;else if(e=s&-s,n.callbackPriority!==e){if(t!=null&&kT(t),e===1)n.tag===0?$B(xP.bind(null,n)):C2(xP.bind(null,n)),OB(function(){!(Ee&6)&&Gl()}),t=null;else{switch(e2(s)){case 1:t=sE;break;case 4:t=QR;break;case 16:t=k0;break;case 536870912:t=ZR;break;default:t=k0}t=SM(t,gM.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function gM(n,e){if(Ov=-1,jv=0,Ee&6)throw Error(H(327));var t=n.callbackNode;if(Dd()&&n.callbackNode!==t)return null;var s=_0(n,n===Zt?fn:0);if(s===0)return null;if(s&30||s&n.expiredLanes||e)e=q0(n,s);else{e=s;var i=Ee;Ee|=2;var r=vM();(Zt!==n||fn!==e)&&(so=null,Pf=kt()+500,Ru(n,e));do try{l3();break}catch(a){yM(n,a)}while(!0);gE(),H0.current=r,Ee=i,Dt!==null?e=0:(Zt=null,fn=0,e=$t)}if(e!==0){if(e===2&&(i=i1(n),i!==0&&(s=i,e=N1(n,i))),e===1)throw t=vm,Ru(n,0),ba(n,s),hs(n,kt()),t;if(e===6)ba(n,s);else{if(i=n.current.alternate,!(s&30)&&!o3(i)&&(e=q0(n,s),e===2&&(r=i1(n),r!==0&&(s=r,e=N1(n,r))),e===1))throw t=vm,Ru(n,0),ba(n,s),hs(n,kt()),t;switch(n.finishedWork=i,n.finishedLanes=s,e){case 0:case 1:throw Error(H(345));case 2:Jl(n,as,so);break;case 3:if(ba(n,s),(s&130023424)===s&&(e=ME+500-kt(),10<e)){if(_0(n,0)!==0)break;if(i=n.suspendedLanes,(i&s)!==s){Wn(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=h1(Jl.bind(null,n,as,so),e);break}Jl(n,as,so);break;case 4:if(ba(n,s),(s&4194240)===s)break;for(e=n.eventTimes,i=-1;0<s;){var o=31-qi(s);r=1<<o,o=e[o],o>i&&(i=o),s&=~r}if(s=i,s=kt()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*r3(s/1960))-s,10<s){n.timeoutHandle=h1(Jl.bind(null,n,as,so),s);break}Jl(n,as,so);break;case 5:Jl(n,as,so);break;default:throw Error(H(329))}}}return hs(n,kt()),n.callbackNode===t?gM.bind(null,n):null}function N1(n,e){var t=Xp;return n.current.memoizedState.isDehydrated&&(Ru(n,e).flags|=256),n=q0(n,e),n!==2&&(e=as,as=t,e!==null&&D1(e)),n}function D1(n){as===null?as=n:as.push.apply(as,n)}function o3(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var s=0;s<t.length;s++){var i=t[s],r=i.getSnapshot;i=i.value;try{if(!Yi(r(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ba(n,e){for(e&=~RE,e&=~Jw,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-qi(e),s=1<<t;n[t]=-1,e&=~s}}function xP(n){if(Ee&6)throw Error(H(327));Dd();var e=_0(n,0);if(!(e&1))return hs(n,kt()),null;var t=q0(n,e);if(n.tag!==0&&t===2){var s=i1(n);s!==0&&(e=s,t=N1(n,s))}if(t===1)throw t=vm,Ru(n,0),ba(n,e),hs(n,kt()),t;if(t===6)throw Error(H(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Jl(n,as,so),hs(n,kt()),null}function NE(n,e){var t=Ee;Ee|=1;try{return n(e)}finally{Ee=t,Ee===0&&(Pf=kt()+500,Yw&&Gl())}}function ju(n){Al!==null&&Al.tag===0&&!(Ee&6)&&Dd();var e=Ee;Ee|=1;var t=fi.transition,s=De;try{if(fi.transition=null,De=1,n)return n()}finally{De=s,fi.transition=t,Ee=e,!(Ee&6)&&Gl()}}function DE(){Ds=yd.current,Qe(yd)}function Ru(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,FB(t)),Dt!==null)for(t=Dt.return;t!==null;){var s=t;switch(fE(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&L0();break;case 3:Cf(),Qe(us),Qe(Rn),AE();break;case 5:bE(s);break;case 4:Cf();break;case 13:Qe(lt);break;case 19:Qe(lt);break;case 10:yE(s.type._context);break;case 22:case 23:DE()}t=t.return}if(Zt=n,Dt=n=Ml(n.current,null),fn=Ds=e,$t=0,vm=null,RE=Jw=Ou=0,as=Xp=null,lc!==null){for(e=0;e<lc.length;e++)if(t=lc[e],s=t.interleaved,s!==null){t.interleaved=null;var i=s.next,r=t.pending;if(r!==null){var o=r.next;r.next=i,s.next=o}t.pending=s}lc=null}return n}function yM(n,e){do{var t=Dt;try{if(gE(),Lv.current=z0,U0){for(var s=dt.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}U0=!1}if(Fu=0,Qt=Vt=dt=null,Gp=!1,mm=0,_E.current=null,t===null||t.return===null){$t=1,vm=e,Dt=null;break}e:{var r=n,o=t.return,a=t,c=e;if(e=fn,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=aP(o);if(p!==null){p.flags&=-257,lP(p,o,a,r,e),p.mode&1&&oP(r,u,e),e=p,c=u;var y=e.updateQueue;if(y===null){var m=new Set;m.add(c),e.updateQueue=m}else y.add(c);break e}else{if(!(e&1)){oP(r,u,e),LE();break e}c=Error(H(426))}}else if(nt&&a.mode&1){var b=aP(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),lP(b,o,a,r,e),pE(Tf(c,a));break e}}r=c=Tf(c,a),$t!==4&&($t=2),Xp===null?Xp=[r]:Xp.push(r),r=o;do{switch(r.tag){case 3:r.flags|=65536,e&=-e,r.lanes|=e;var g=eM(r,c,e);eP(r,g);break e;case 1:a=c;var v=r.type,A=r.stateNode;if(!(r.flags&128)&&(typeof v.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(_l===null||!_l.has(A)))){r.flags|=65536,e&=-e,r.lanes|=e;var E=tM(r,a,e);eP(r,E);break e}}r=r.return}while(r!==null)}xM(t)}catch(T){e=T,Dt===t&&t!==null&&(Dt=t=t.return);continue}break}while(!0)}function vM(){var n=H0.current;return H0.current=z0,n===null?z0:n}function LE(){($t===0||$t===3||$t===2)&&($t=4),Zt===null||!(Ou&268435455)&&!(Jw&268435455)||ba(Zt,fn)}function q0(n,e){var t=Ee;Ee|=2;var s=vM();(Zt!==n||fn!==e)&&(so=null,Ru(n,e));do try{a3();break}catch(i){yM(n,i)}while(!0);if(gE(),Ee=t,H0.current=s,Dt!==null)throw Error(H(261));return Zt=null,fn=0,$t}function a3(){for(;Dt!==null;)wM(Dt)}function l3(){for(;Dt!==null&&!Dj();)wM(Dt)}function wM(n){var e=AM(n.alternate,n,Ds);n.memoizedProps=n.pendingProps,e===null?xM(n):Dt=e,_E.current=null}function xM(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=t3(t,e),t!==null){t.flags&=32767,Dt=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{$t=6,Dt=null;return}}else if(t=e3(t,e,Ds),t!==null){Dt=t;return}if(e=e.sibling,e!==null){Dt=e;return}Dt=e=n}while(e!==null);$t===0&&($t=5)}function Jl(n,e,t){var s=De,i=fi.transition;try{fi.transition=null,De=1,c3(n,e,t,s)}finally{fi.transition=i,De=s}return null}function c3(n,e,t,s){do Dd();while(Al!==null);if(Ee&6)throw Error(H(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(H(177));n.callbackNode=null,n.callbackPriority=0;var r=t.lanes|t.childLanes;if(zj(n,r),n===Zt&&(Dt=Zt=null,fn=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||av||(av=!0,SM(k0,function(){return Dd(),null})),r=(t.flags&15990)!==0,t.subtreeFlags&15990||r){r=fi.transition,fi.transition=null;var o=De;De=1;var a=Ee;Ee|=4,_E.current=null,s3(n,t),pM(t,n),_B(u1),R0=!!c1,u1=c1=null,n.current=t,i3(t),Lj(),Ee=a,De=o,fi.transition=r}else n.current=t;if(av&&(av=!1,Al=n,G0=i),r=n.pendingLanes,r===0&&(_l=null),Oj(t.stateNode),hs(n,kt()),e!==null)for(s=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],s(i.value,{componentStack:i.stack,digest:i.digest});if(W0)throw W0=!1,n=R1,R1=null,n;return G0&1&&n.tag!==0&&Dd(),r=n.pendingLanes,r&1?n===M1?Yp++:(Yp=0,M1=n):Yp=0,Gl(),null}function Dd(){if(Al!==null){var n=e2(G0),e=fi.transition,t=De;try{if(fi.transition=null,De=16>n?16:n,Al===null)var s=!1;else{if(n=Al,Al=null,G0=0,Ee&6)throw Error(H(331));var i=Ee;for(Ee|=4,Z=n.current;Z!==null;){var r=Z,o=r.child;if(Z.flags&16){var a=r.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(Z=u;Z!==null;){var d=Z;switch(d.tag){case 0:case 11:case 15:qp(8,d,r)}var h=d.child;if(h!==null)h.return=d,Z=h;else for(;Z!==null;){d=Z;var f=d.sibling,p=d.return;if(dM(d),d===u){Z=null;break}if(f!==null){f.return=p,Z=f;break}Z=p}}}var y=r.alternate;if(y!==null){var m=y.child;if(m!==null){y.child=null;do{var b=m.sibling;m.sibling=null,m=b}while(m!==null)}}Z=r}}if(r.subtreeFlags&2064&&o!==null)o.return=r,Z=o;else e:for(;Z!==null;){if(r=Z,r.flags&2048)switch(r.tag){case 0:case 11:case 15:qp(9,r,r.return)}var g=r.sibling;if(g!==null){g.return=r.return,Z=g;break e}Z=r.return}}var v=n.current;for(Z=v;Z!==null;){o=Z;var A=o.child;if(o.subtreeFlags&2064&&A!==null)A.return=o,Z=A;else e:for(o=v;Z!==null;){if(a=Z,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Zw(9,a)}}catch(T){Et(a,a.return,T)}if(a===o){Z=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,Z=E;break e}Z=a.return}}if(Ee=i,Gl(),Ur&&typeof Ur.onPostCommitFiberRoot=="function")try{Ur.onPostCommitFiberRoot(Hw,n)}catch{}s=!0}return s}finally{De=t,fi.transition=e}}return!1}function bP(n,e,t){e=Tf(t,e),e=eM(n,e,1),n=kl(n,e,1),e=Wn(),n!==null&&(Ey(n,1,e),hs(n,e))}function Et(n,e,t){if(n.tag===3)bP(n,n,t);else for(;e!==null;){if(e.tag===3){bP(e,n,t);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(_l===null||!_l.has(s))){n=Tf(t,n),n=tM(e,n,1),e=kl(e,n,1),n=Wn(),e!==null&&(Ey(e,1,n),hs(e,n));break}}e=e.return}}function u3(n,e,t){var s=n.pingCache;s!==null&&s.delete(e),e=Wn(),n.pingedLanes|=n.suspendedLanes&t,Zt===n&&(fn&t)===t&&($t===4||$t===3&&(fn&130023424)===fn&&500>kt()-ME?Ru(n,0):RE|=t),hs(n,e)}function bM(n,e){e===0&&(n.mode&1?(e=Qy,Qy<<=1,!(Qy&130023424)&&(Qy=4194304)):e=1);var t=Wn();n=Ko(n,e),n!==null&&(Ey(n,e,t),hs(n,t))}function d3(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),bM(n,t)}function h3(n,e){var t=0;switch(n.tag){case 13:var s=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:s=n.stateNode;break;default:throw Error(H(314))}s!==null&&s.delete(e),bM(n,t)}var AM;AM=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||us.current)ls=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return ls=!1,JB(n,e,t);ls=!!(n.flags&131072)}else ls=!1,nt&&e.flags&1048576&&T2(e,O0,e.index);switch(e.lanes=0,e.tag){case 2:var s=e.type;Fv(n,e),n=e.pendingProps;var i=Af(e,Rn.current);Nd(e,t),i=EE(null,e,s,n,i,t);var r=CE();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ds(s)?(r=!0,I0(e)):r=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,wE(e),i.updater=Qw,e.stateNode=i,i._reactInternals=e,w1(e,s,n,t),e=A1(null,e,s,!0,r,t)):(e.tag=0,nt&&r&&hE(e),$n(null,e,i,t),e=e.child),e;case 16:s=e.elementType;e:{switch(Fv(n,e),n=e.pendingProps,i=s._init,s=i(s._payload),e.type=s,i=e.tag=p3(s),n=ki(s,n),i){case 0:e=b1(null,e,s,n,t);break e;case 1:e=dP(null,e,s,n,t);break e;case 11:e=cP(null,e,s,n,t);break e;case 14:e=uP(null,e,s,ki(s.type,n),t);break e}throw Error(H(306,s,""))}return e;case 0:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:ki(s,i),b1(n,e,s,i,t);case 1:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:ki(s,i),dP(n,e,s,i,t);case 3:e:{if(rM(e),n===null)throw Error(H(387));s=e.pendingProps,r=e.memoizedState,i=r.element,N2(n,e),V0(e,s,null,t);var o=e.memoizedState;if(s=o.element,r.isDehydrated)if(r={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=r,e.memoizedState=r,e.flags&256){i=Tf(Error(H(423)),e),e=hP(n,e,s,t,i);break e}else if(s!==i){i=Tf(Error(H(424)),e),e=hP(n,e,s,t,i);break e}else for(Os=Pl(e.stateNode.containerInfo.firstChild),js=e,nt=!0,Wi=null,t=R2(e,null,s,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Sf(),s===i){e=Qo(n,e,t);break e}$n(n,e,s,t)}e=e.child}return e;case 5:return D2(e),n===null&&g1(e),s=e.type,i=e.pendingProps,r=n!==null?n.memoizedProps:null,o=i.children,d1(s,i)?o=null:r!==null&&d1(s,r)&&(e.flags|=32),iM(n,e),$n(n,e,o,t),e.child;case 6:return n===null&&g1(e),null;case 13:return oM(n,e,t);case 4:return xE(e,e.stateNode.containerInfo),s=e.pendingProps,n===null?e.child=Ef(e,null,s,t):$n(n,e,s,t),e.child;case 11:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:ki(s,i),cP(n,e,s,i,t);case 7:return $n(n,e,e.pendingProps,t),e.child;case 8:return $n(n,e,e.pendingProps.children,t),e.child;case 12:return $n(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(s=e.type._context,i=e.pendingProps,r=e.memoizedProps,o=i.value,Ge(j0,s._currentValue),s._currentValue=o,r!==null)if(Yi(r.value,o)){if(r.children===i.children&&!us.current){e=Qo(n,e,t);break e}}else for(r=e.child,r!==null&&(r.return=e);r!==null;){var a=r.dependencies;if(a!==null){o=r.child;for(var c=a.firstContext;c!==null;){if(c.context===s){if(r.tag===1){c=Wo(-1,t&-t),c.tag=2;var u=r.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}r.lanes|=t,c=r.alternate,c!==null&&(c.lanes|=t),y1(r.return,t,e),a.lanes|=t;break}c=c.next}}else if(r.tag===10)o=r.type===e.type?null:r.child;else if(r.tag===18){if(o=r.return,o===null)throw Error(H(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),y1(o,t,e),o=r.sibling}else o=r.child;if(o!==null)o.return=r;else for(o=r;o!==null;){if(o===e){o=null;break}if(r=o.sibling,r!==null){r.return=o.return,o=r;break}o=o.return}r=o}$n(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,s=e.pendingProps.children,Nd(e,t),i=gi(i),s=s(i),e.flags|=1,$n(n,e,s,t),e.child;case 14:return s=e.type,i=ki(s,e.pendingProps),i=ki(s.type,i),uP(n,e,s,i,t);case 15:return nM(n,e,e.type,e.pendingProps,t);case 17:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:ki(s,i),Fv(n,e),e.tag=1,ds(s)?(n=!0,I0(e)):n=!1,Nd(e,t),J2(e,s,i),w1(e,s,i,t),A1(null,e,s,!0,n,t);case 19:return aM(n,e,t);case 22:return sM(n,e,t)}throw Error(H(156,e.tag))};function SM(n,e){return KR(n,e)}function f3(n,e,t,s){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ui(n,e,t,s){return new f3(n,e,t,s)}function IE(n){return n=n.prototype,!(!n||!n.isReactComponent)}function p3(n){if(typeof n=="function")return IE(n)?1:0;if(n!=null){if(n=n.$$typeof,n===eE)return 11;if(n===tE)return 14}return 2}function Ml(n,e){var t=n.alternate;return t===null?(t=ui(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function Bv(n,e,t,s,i,r){var o=2;if(s=n,typeof n=="function")IE(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case ad:return Mu(t.children,i,r,e);case JS:o=8,i|=8;break;case zb:return n=ui(12,t,e,i|2),n.elementType=zb,n.lanes=r,n;case Hb:return n=ui(13,t,e,i),n.elementType=Hb,n.lanes=r,n;case Wb:return n=ui(19,t,e,i),n.elementType=Wb,n.lanes=r,n;case DR:return ex(t,i,r,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case MR:o=10;break e;case NR:o=9;break e;case eE:o=11;break e;case tE:o=14;break e;case va:o=16,s=null;break e}throw Error(H(130,n==null?n:typeof n,""))}return e=ui(o,t,e,i),e.elementType=n,e.type=s,e.lanes=r,e}function Mu(n,e,t,s){return n=ui(7,n,s,e),n.lanes=t,n}function ex(n,e,t,s){return n=ui(22,n,s,e),n.elementType=DR,n.lanes=t,n.stateNode={isHidden:!1},n}function cb(n,e,t){return n=ui(6,n,null,e),n.lanes=t,n}function ub(n,e,t){return e=ui(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function m3(n,e,t,s,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hx(0),this.expirationTimes=Hx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hx(0),this.identifierPrefix=s,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function FE(n,e,t,s,i,r,o,a,c){return n=new m3(n,e,t,a,c),e===1?(e=1,r===!0&&(e|=8)):e=0,r=ui(3,null,null,e),n.current=r,r.stateNode=n,r.memoizedState={element:s,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},wE(r),n}function g3(n,e,t){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:od,key:s==null?null:""+s,children:n,containerInfo:e,implementation:t}}function EM(n){if(!n)return Ll;n=n._reactInternals;e:{if(zu(n)!==n||n.tag!==1)throw Error(H(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ds(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(H(171))}if(n.tag===1){var t=n.type;if(ds(t))return E2(n,t,e)}return e}function CM(n,e,t,s,i,r,o,a,c){return n=FE(t,s,!0,n,i,r,o,a,c),n.context=EM(null),t=n.current,s=Wn(),i=Rl(t),r=Wo(s,i),r.callback=e??null,kl(t,r,i),n.current.lanes=i,Ey(n,i,s),hs(n,s),n}function tx(n,e,t,s){var i=e.current,r=Wn(),o=Rl(i);return t=EM(t),e.context===null?e.context=t:e.pendingContext=t,e=Wo(r,o),e.payload={element:n},s=s===void 0?null:s,s!==null&&(e.callback=s),n=kl(i,e,o),n!==null&&(Xi(n,i,o,r),Dv(n,i,o)),o}function X0(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function AP(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function OE(n,e){AP(n,e),(n=n.alternate)&&AP(n,e)}function y3(){return null}var TM=typeof reportError=="function"?reportError:function(n){console.error(n)};function jE(n){this._internalRoot=n}nx.prototype.render=jE.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(H(409));tx(n,e,null,null)};nx.prototype.unmount=jE.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;ju(function(){tx(null,n,null,null)}),e[Yo]=null}};function nx(n){this._internalRoot=n}nx.prototype.unstable_scheduleHydration=function(n){if(n){var e=s2();n={blockedOn:null,target:n,priority:e};for(var t=0;t<xa.length&&e!==0&&e<xa[t].priority;t++);xa.splice(t,0,n),t===0&&r2(n)}};function BE(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function sx(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function SP(){}function v3(n,e,t,s,i){if(i){if(typeof s=="function"){var r=s;s=function(){var u=X0(o);r.call(u)}}var o=CM(e,s,n,0,null,!1,!1,"",SP);return n._reactRootContainer=o,n[Yo]=o.current,um(n.nodeType===8?n.parentNode:n),ju(),o}for(;i=n.lastChild;)n.removeChild(i);if(typeof s=="function"){var a=s;s=function(){var u=X0(c);a.call(u)}}var c=FE(n,0,!1,null,null,!1,!1,"",SP);return n._reactRootContainer=c,n[Yo]=c.current,um(n.nodeType===8?n.parentNode:n),ju(function(){tx(e,c,t,s)}),c}function ix(n,e,t,s,i){var r=t._reactRootContainer;if(r){var o=r;if(typeof i=="function"){var a=i;i=function(){var c=X0(o);a.call(c)}}tx(e,o,n,i)}else o=v3(t,e,n,i,s);return X0(o)}t2=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=yp(e.pendingLanes);t!==0&&(iE(e,t|1),hs(e,kt()),!(Ee&6)&&(Pf=kt()+500,Gl()))}break;case 13:ju(function(){var s=Ko(n,1);if(s!==null){var i=Wn();Xi(s,n,1,i)}}),OE(n,1)}};rE=function(n){if(n.tag===13){var e=Ko(n,134217728);if(e!==null){var t=Wn();Xi(e,n,134217728,t)}OE(n,134217728)}};n2=function(n){if(n.tag===13){var e=Rl(n),t=Ko(n,e);if(t!==null){var s=Wn();Xi(t,n,e,s)}OE(n,e)}};s2=function(){return De};i2=function(n,e){var t=De;try{return De=n,e()}finally{De=t}};t1=function(n,e,t){switch(e){case"input":if(Xb(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var s=t[e];if(s!==n&&s.form===n.form){var i=Xw(s);if(!i)throw Error(H(90));IR(s),Xb(s,i)}}}break;case"textarea":OR(n,t);break;case"select":e=t.value,e!=null&&kd(n,!!t.multiple,e,!1)}};HR=NE;WR=ju;var w3={usingClientEntryPoint:!1,Events:[Ty,dd,Xw,UR,zR,NE]},ap={findFiberByHostInstance:ac,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},x3={bundleType:ap.bundleType,version:ap.version,rendererPackageName:ap.rendererPackageName,rendererConfig:ap.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:oa.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=XR(n),n===null?null:n.stateNode},findFiberByHostInstance:ap.findFiberByHostInstance||y3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lv.isDisabled&&lv.supportsFiber)try{Hw=lv.inject(x3),Ur=lv}catch{}}Hs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=w3;Hs.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!BE(e))throw Error(H(200));return g3(n,e,null,t)};Hs.createRoot=function(n,e){if(!BE(n))throw Error(H(299));var t=!1,s="",i=TM;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=FE(n,1,!1,null,null,t,!1,s,i),n[Yo]=e.current,um(n.nodeType===8?n.parentNode:n),new jE(e)};Hs.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(H(188)):(n=Object.keys(n).join(","),Error(H(268,n)));return n=XR(e),n=n===null?null:n.stateNode,n};Hs.flushSync=function(n){return ju(n)};Hs.hydrate=function(n,e,t){if(!sx(e))throw Error(H(200));return ix(null,n,e,!0,t)};Hs.hydrateRoot=function(n,e,t){if(!BE(n))throw Error(H(405));var s=t!=null&&t.hydratedSources||null,i=!1,r="",o=TM;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=CM(e,null,n,1,t??null,i,!1,r,o),n[Yo]=e.current,um(n),s)for(n=0;n<s.length;n++)t=s[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new nx(e)};Hs.render=function(n,e,t){if(!sx(e))throw Error(H(200));return ix(null,n,e,!1,t)};Hs.unmountComponentAtNode=function(n){if(!sx(n))throw Error(H(40));return n._reactRootContainer?(ju(function(){ix(null,null,n,!1,function(){n._reactRootContainer=null,n[Yo]=null})}),!0):!1};Hs.unstable_batchedUpdates=NE;Hs.unstable_renderSubtreeIntoContainer=function(n,e,t,s){if(!sx(t))throw Error(H(200));if(n==null||n._reactInternals===void 0)throw Error(H(38));return ix(n,e,t,!1,s)};Hs.version="18.3.1-next-f1338f8080-20240426";function PM(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(PM)}catch(n){console.error(n)}}PM(),PR.exports=Hs;var ky=PR.exports;const kM=HS(ky);var _M,EP=ky;_M=EP.createRoot,EP.hydrateRoot;const b3=1,A3=1e6;let db=0;function S3(){return db=(db+1)%Number.MAX_SAFE_INTEGER,db.toString()}const hb=new Map,CP=n=>{if(hb.has(n))return;const e=setTimeout(()=>{hb.delete(n),Kp({type:"REMOVE_TOAST",toastId:n})},A3);hb.set(n,e)},E3=(n,e)=>{switch(e.type){case"ADD_TOAST":return{...n,toasts:[e.toast,...n.toasts].slice(0,b3)};case"UPDATE_TOAST":return{...n,toasts:n.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=e;return t?CP(t):n.toasts.forEach(s=>{CP(s.id)}),{...n,toasts:n.toasts.map(s=>s.id===t||t===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(t=>t.id!==e.toastId)}}},Vv=[];let $v={toasts:[]};function Kp(n){$v=E3($v,n),Vv.forEach(e=>{e($v)})}function C3({...n}){const e=S3(),t=i=>Kp({type:"UPDATE_TOAST",toast:{...i,id:e}}),s=()=>Kp({type:"DISMISS_TOAST",toastId:e});return Kp({type:"ADD_TOAST",toast:{...n,id:e,open:!0,onOpenChange:i=>{i||s()}}}),{id:e,dismiss:s,update:t}}function T3(){const[n,e]=P.useState($v);return P.useEffect(()=>(Vv.push(e),()=>{const t=Vv.indexOf(e);t>-1&&Vv.splice(t,1)}),[n]),{...n,toast:C3,dismiss:t=>Kp({type:"DISMISS_TOAST",toastId:t})}}function _t(n,e,{checkForDefaultPrevented:t=!0}={}){return function(i){if(n==null||n(i),t===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function TP(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function RM(...n){return e=>{let t=!1;const s=n.map(i=>{const r=TP(i,e);return!t&&typeof r=="function"&&(t=!0),r});if(t)return()=>{for(let i=0;i<s.length;i++){const r=s[i];typeof r=="function"?r():TP(n[i],null)}}}}function Us(...n){return P.useCallback(RM(...n),n)}function jf(n,e=[]){let t=[];function s(r,o){const a=P.createContext(o),c=t.length;t=[...t,o];const u=h=>{var g;const{scope:f,children:p,...y}=h,m=((g=f==null?void 0:f[n])==null?void 0:g[c])||a,b=P.useMemo(()=>y,Object.values(y));return x.jsx(m.Provider,{value:b,children:p})};u.displayName=r+"Provider";function d(h,f){var m;const p=((m=f==null?void 0:f[n])==null?void 0:m[c])||a,y=P.useContext(p);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${r}\``)}return[u,d]}const i=()=>{const r=t.map(o=>P.createContext(o));return function(a){const c=(a==null?void 0:a[n])||r;return P.useMemo(()=>({[`__scope${n}`]:{...a,[n]:c}}),[a,c])}};return i.scopeName=n,[s,P3(i,...e)]}function P3(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const s=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(r){const o=s.reduce((a,{useScope:c,scopeName:u})=>{const h=c(r)[`__scope${u}`];return{...a,...h}},{});return P.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}function Y0(n){const e=_3(n),t=P.forwardRef((s,i)=>{const{children:r,...o}=s,a=P.Children.toArray(r),c=a.find(M3);if(c){const u=c.props.children,d=a.map(h=>h===c?P.Children.count(u)>1?P.Children.only(null):P.isValidElement(u)?u.props.children:null:h);return x.jsx(e,{...o,ref:i,children:P.isValidElement(u)?P.cloneElement(u,void 0,d):null})}return x.jsx(e,{...o,ref:i,children:r})});return t.displayName=`${n}.Slot`,t}var k3=Y0("Slot");function _3(n){const e=P.forwardRef((t,s)=>{const{children:i,...r}=t;if(P.isValidElement(i)){const o=D3(i),a=N3(r,i.props);return i.type!==P.Fragment&&(a.ref=s?RM(s,o):o),P.cloneElement(i,a)}return P.Children.count(i)>1?P.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var MM=Symbol("radix.slottable");function R3(n){const e=({children:t})=>x.jsx(x.Fragment,{children:t});return e.displayName=`${n}.Slottable`,e.__radixId=MM,e}function M3(n){return P.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===MM}function N3(n,e){const t={...e};for(const s in e){const i=n[s],r=e[s];/^on[A-Z]/.test(s)?i&&r?t[s]=(...a)=>{const c=r(...a);return i(...a),c}:i&&(t[s]=i):s==="style"?t[s]={...i,...r}:s==="className"&&(t[s]=[i,r].filter(Boolean).join(" "))}return{...n,...t}}function D3(n){var s,i;let e=(s=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function NM(n){const e=n+"CollectionProvider",[t,s]=jf(e),[i,r]=t(e,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:b,children:g}=m,v=$.useRef(null),A=$.useRef(new Map).current;return x.jsx(i,{scope:b,itemMap:A,collectionRef:v,children:g})};o.displayName=e;const a=n+"CollectionSlot",c=Y0(a),u=$.forwardRef((m,b)=>{const{scope:g,children:v}=m,A=r(a,g),E=Us(b,A.collectionRef);return x.jsx(c,{ref:E,children:v})});u.displayName=a;const d=n+"CollectionItemSlot",h="data-radix-collection-item",f=Y0(d),p=$.forwardRef((m,b)=>{const{scope:g,children:v,...A}=m,E=$.useRef(null),T=Us(b,E),k=r(d,g);return $.useEffect(()=>(k.itemMap.set(E,{ref:E,...A}),()=>void k.itemMap.delete(E))),x.jsx(f,{[h]:"",ref:T,children:v})});p.displayName=d;function y(m){const b=r(n+"CollectionConsumer",m);return $.useCallback(()=>{const v=b.collectionRef.current;if(!v)return[];const A=Array.from(v.querySelectorAll(`[${h}]`));return Array.from(b.itemMap.values()).sort((k,_)=>A.indexOf(k.ref.current)-A.indexOf(_.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:o,Slot:u,ItemSlot:p},y,s]}var L3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],zt=L3.reduce((n,e)=>{const t=Y0(`Primitive.${e}`),s=P.forwardRef((i,r)=>{const{asChild:o,...a}=i,c=o?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),x.jsx(c,{...a,ref:r})});return s.displayName=`Primitive.${e}`,{...n,[e]:s}},{});function DM(n,e){n&&ky.flushSync(()=>n.dispatchEvent(e))}function Il(n){const e=P.useRef(n);return P.useEffect(()=>{e.current=n}),P.useMemo(()=>(...t)=>{var s;return(s=e.current)==null?void 0:s.call(e,...t)},[])}function I3(n,e=globalThis==null?void 0:globalThis.document){const t=Il(n);P.useEffect(()=>{const s=i=>{i.key==="Escape"&&t(i)};return e.addEventListener("keydown",s,{capture:!0}),()=>e.removeEventListener("keydown",s,{capture:!0})},[t,e])}var F3="DismissableLayer",L1="dismissableLayer.update",O3="dismissableLayer.pointerDownOutside",j3="dismissableLayer.focusOutside",PP,LM=P.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),VE=P.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:r,onInteractOutside:o,onDismiss:a,...c}=n,u=P.useContext(LM),[d,h]=P.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=P.useState({}),y=Us(e,_=>h(_)),m=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),g=m.indexOf(b),v=d?m.indexOf(d):-1,A=u.layersWithOutsidePointerEventsDisabled.size>0,E=v>=g,T=V3(_=>{const R=_.target,M=[...u.branches].some(N=>N.contains(R));!E||M||(i==null||i(_),o==null||o(_),_.defaultPrevented||a==null||a())},f),k=$3(_=>{const R=_.target;[...u.branches].some(N=>N.contains(R))||(r==null||r(_),o==null||o(_),_.defaultPrevented||a==null||a())},f);return I3(_=>{v===u.layers.size-1&&(s==null||s(_),!_.defaultPrevented&&a&&(_.preventDefault(),a()))},f),P.useEffect(()=>{if(d)return t&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(PP=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),kP(),()=>{t&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=PP)}},[d,f,t,u]),P.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),kP())},[d,u]),P.useEffect(()=>{const _=()=>p({});return document.addEventListener(L1,_),()=>document.removeEventListener(L1,_)},[]),x.jsx(zt.div,{...c,ref:y,style:{pointerEvents:A?E?"auto":"none":void 0,...n.style},onFocusCapture:_t(n.onFocusCapture,k.onFocusCapture),onBlurCapture:_t(n.onBlurCapture,k.onBlurCapture),onPointerDownCapture:_t(n.onPointerDownCapture,T.onPointerDownCapture)})});VE.displayName=F3;var B3="DismissableLayerBranch",IM=P.forwardRef((n,e)=>{const t=P.useContext(LM),s=P.useRef(null),i=Us(e,s);return P.useEffect(()=>{const r=s.current;if(r)return t.branches.add(r),()=>{t.branches.delete(r)}},[t.branches]),x.jsx(zt.div,{...n,ref:i})});IM.displayName=B3;function V3(n,e=globalThis==null?void 0:globalThis.document){const t=Il(n),s=P.useRef(!1),i=P.useRef(()=>{});return P.useEffect(()=>{const r=a=>{if(a.target&&!s.current){let c=function(){FM(O3,t,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);s.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",r)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",r),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>s.current=!0}}function $3(n,e=globalThis==null?void 0:globalThis.document){const t=Il(n),s=P.useRef(!1);return P.useEffect(()=>{const i=r=>{r.target&&!s.current&&FM(j3,t,{originalEvent:r},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function kP(){const n=new CustomEvent(L1);document.dispatchEvent(n)}function FM(n,e,t,{discrete:s}){const i=t.originalEvent.target,r=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),s?DM(i,r):i.dispatchEvent(r)}var U3=VE,z3=IM,qr=globalThis!=null&&globalThis.document?P.useLayoutEffect:()=>{},H3="Portal",OM=P.forwardRef((n,e)=>{var a;const{container:t,...s}=n,[i,r]=P.useState(!1);qr(()=>r(!0),[]);const o=t||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?kM.createPortal(x.jsx(zt.div,{...s,ref:e}),o):null});OM.displayName=H3;function W3(n,e){return P.useReducer((t,s)=>e[t][s]??t,n)}var rx=n=>{const{present:e,children:t}=n,s=G3(e),i=typeof t=="function"?t({present:s.isPresent}):P.Children.only(t),r=Us(s.ref,q3(i));return typeof t=="function"||s.isPresent?P.cloneElement(i,{ref:r}):null};rx.displayName="Presence";function G3(n){const[e,t]=P.useState(),s=P.useRef(null),i=P.useRef(n),r=P.useRef("none"),o=n?"mounted":"unmounted",[a,c]=W3(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return P.useEffect(()=>{const u=cv(s.current);r.current=a==="mounted"?u:"none"},[a]),qr(()=>{const u=s.current,d=i.current;if(d!==n){const f=r.current,p=cv(u);n?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&f!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,c]),qr(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,h=p=>{const m=cv(s.current).includes(p.animationName);if(p.target===e&&m&&(c("ANIMATION_END"),!i.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},f=p=>{p.target===e&&(r.current=cv(s.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:P.useCallback(u=>{s.current=u?getComputedStyle(u):null,t(u)},[])}}function cv(n){return(n==null?void 0:n.animationName)||"none"}function q3(n){var s,i;let e=(s=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var X3=YS[" useInsertionEffect ".trim().toString()]||qr;function ox({prop:n,defaultProp:e,onChange:t=()=>{},caller:s}){const[i,r,o]=Y3({defaultProp:e,onChange:t}),a=n!==void 0,c=a?n:i;{const d=P.useRef(n!==void 0);P.useEffect(()=>{const h=d.current;h!==a&&console.warn(`${s} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,s])}const u=P.useCallback(d=>{var h;if(a){const f=K3(d)?d(n):d;f!==n&&((h=o.current)==null||h.call(o,f))}else r(d)},[a,n,r,o]);return[c,u]}function Y3({defaultProp:n,onChange:e}){const[t,s]=P.useState(n),i=P.useRef(t),r=P.useRef(e);return X3(()=>{r.current=e},[e]),P.useEffect(()=>{var o;i.current!==t&&((o=r.current)==null||o.call(r,t),i.current=t)},[t,i]),[t,s,r]}function K3(n){return typeof n=="function"}var Q3=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Z3="VisuallyHidden",ax=P.forwardRef((n,e)=>x.jsx(zt.span,{...n,ref:e,style:{...Q3,...n.style}}));ax.displayName=Z3;var J3=ax,$E="ToastProvider",[UE,e4,t4]=NM("Toast"),[jM,_q]=jf("Toast",[t4]),[n4,lx]=jM($E),BM=n=>{const{__scopeToast:e,label:t="Notification",duration:s=5e3,swipeDirection:i="right",swipeThreshold:r=50,children:o}=n,[a,c]=P.useState(null),[u,d]=P.useState(0),h=P.useRef(!1),f=P.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${$E}\`. Expected non-empty \`string\`.`),x.jsx(UE.Provider,{scope:e,children:x.jsx(n4,{scope:e,label:t,duration:s,swipeDirection:i,swipeThreshold:r,toastCount:u,viewport:a,onViewportChange:c,onToastAdd:P.useCallback(()=>d(p=>p+1),[]),onToastRemove:P.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};BM.displayName=$E;var VM="ToastViewport",s4=["F8"],I1="toast.viewportPause",F1="toast.viewportResume",$M=P.forwardRef((n,e)=>{const{__scopeToast:t,hotkey:s=s4,label:i="Notifications ({hotkey})",...r}=n,o=lx(VM,t),a=e4(t),c=P.useRef(null),u=P.useRef(null),d=P.useRef(null),h=P.useRef(null),f=Us(e,h,o.onViewportChange),p=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=o.toastCount>0;P.useEffect(()=>{const b=g=>{var A;s.length!==0&&s.every(E=>g[E]||g.code===E)&&((A=h.current)==null||A.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[s]),P.useEffect(()=>{const b=c.current,g=h.current;if(y&&b&&g){const v=()=>{if(!o.isClosePausedRef.current){const k=new CustomEvent(I1);g.dispatchEvent(k),o.isClosePausedRef.current=!0}},A=()=>{if(o.isClosePausedRef.current){const k=new CustomEvent(F1);g.dispatchEvent(k),o.isClosePausedRef.current=!1}},E=k=>{!b.contains(k.relatedTarget)&&A()},T=()=>{b.contains(document.activeElement)||A()};return b.addEventListener("focusin",v),b.addEventListener("focusout",E),b.addEventListener("pointermove",v),b.addEventListener("pointerleave",T),window.addEventListener("blur",v),window.addEventListener("focus",A),()=>{b.removeEventListener("focusin",v),b.removeEventListener("focusout",E),b.removeEventListener("pointermove",v),b.removeEventListener("pointerleave",T),window.removeEventListener("blur",v),window.removeEventListener("focus",A)}}},[y,o.isClosePausedRef]);const m=P.useCallback(({tabbingDirection:b})=>{const v=a().map(A=>{const E=A.ref.current,T=[E,...g4(E)];return b==="forwards"?T:T.reverse()});return(b==="forwards"?v.reverse():v).flat()},[a]);return P.useEffect(()=>{const b=h.current;if(b){const g=v=>{var T,k,_;const A=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!A){const R=document.activeElement,M=v.shiftKey;if(v.target===b&&M){(T=u.current)==null||T.focus();return}const O=m({tabbingDirection:M?"backwards":"forwards"}),U=O.findIndex(I=>I===R);fb(O.slice(U+1))?v.preventDefault():M?(k=u.current)==null||k.focus():(_=d.current)==null||_.focus()}};return b.addEventListener("keydown",g),()=>b.removeEventListener("keydown",g)}},[a,m]),x.jsxs(z3,{ref:c,role:"region","aria-label":i.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&x.jsx(O1,{ref:u,onFocusFromOutsideViewport:()=>{const b=m({tabbingDirection:"forwards"});fb(b)}}),x.jsx(UE.Slot,{scope:t,children:x.jsx(zt.ol,{tabIndex:-1,...r,ref:f})}),y&&x.jsx(O1,{ref:d,onFocusFromOutsideViewport:()=>{const b=m({tabbingDirection:"backwards"});fb(b)}})]})});$M.displayName=VM;var UM="ToastFocusProxy",O1=P.forwardRef((n,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:s,...i}=n,r=lx(UM,t);return x.jsx(ax,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=r.viewport)!=null&&u.contains(a))&&s()}})});O1.displayName=UM;var _y="Toast",i4="toast.swipeStart",r4="toast.swipeMove",o4="toast.swipeCancel",a4="toast.swipeEnd",zM=P.forwardRef((n,e)=>{const{forceMount:t,open:s,defaultOpen:i,onOpenChange:r,...o}=n,[a,c]=ox({prop:s,defaultProp:i??!0,onChange:r,caller:_y});return x.jsx(rx,{present:t||a,children:x.jsx(u4,{open:a,...o,ref:e,onClose:()=>c(!1),onPause:Il(n.onPause),onResume:Il(n.onResume),onSwipeStart:_t(n.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:_t(n.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:_t(n.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:_t(n.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});zM.displayName=_y;var[l4,c4]=jM(_y,{onClose(){}}),u4=P.forwardRef((n,e)=>{const{__scopeToast:t,type:s="foreground",duration:i,open:r,onClose:o,onEscapeKeyDown:a,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:p,...y}=n,m=lx(_y,t),[b,g]=P.useState(null),v=Us(e,I=>g(I)),A=P.useRef(null),E=P.useRef(null),T=i||m.duration,k=P.useRef(0),_=P.useRef(T),R=P.useRef(0),{onToastAdd:M,onToastRemove:N}=m,L=Il(()=>{var W;(b==null?void 0:b.contains(document.activeElement))&&((W=m.viewport)==null||W.focus()),o()}),O=P.useCallback(I=>{!I||I===1/0||(window.clearTimeout(R.current),k.current=new Date().getTime(),R.current=window.setTimeout(L,I))},[L]);P.useEffect(()=>{const I=m.viewport;if(I){const W=()=>{O(_.current),u==null||u()},B=()=>{const j=new Date().getTime()-k.current;_.current=_.current-j,window.clearTimeout(R.current),c==null||c()};return I.addEventListener(I1,B),I.addEventListener(F1,W),()=>{I.removeEventListener(I1,B),I.removeEventListener(F1,W)}}},[m.viewport,T,c,u,O]),P.useEffect(()=>{r&&!m.isClosePausedRef.current&&O(T)},[r,T,m.isClosePausedRef,O]),P.useEffect(()=>(M(),()=>N()),[M,N]);const U=P.useMemo(()=>b?KM(b):null,[b]);return m.viewport?x.jsxs(x.Fragment,{children:[U&&x.jsx(d4,{__scopeToast:t,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:U}),x.jsx(l4,{scope:t,onClose:L,children:ky.createPortal(x.jsx(UE.ItemSlot,{scope:t,children:x.jsx(U3,{asChild:!0,onEscapeKeyDown:_t(a,()=>{m.isFocusedToastEscapeKeyDownRef.current||L(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:x.jsx(zt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":r?"open":"closed","data-swipe-direction":m.swipeDirection,...y,ref:v,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:_t(n.onKeyDown,I=>{I.key==="Escape"&&(a==null||a(I.nativeEvent),I.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,L()))}),onPointerDown:_t(n.onPointerDown,I=>{I.button===0&&(A.current={x:I.clientX,y:I.clientY})}),onPointerMove:_t(n.onPointerMove,I=>{if(!A.current)return;const W=I.clientX-A.current.x,B=I.clientY-A.current.y,j=!!E.current,D=["left","right"].includes(m.swipeDirection),F=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,z=D?F(0,W):0,te=D?0:F(0,B),G=I.pointerType==="touch"?10:2,X={x:z,y:te},se={originalEvent:I,delta:X};j?(E.current=X,uv(r4,h,se,{discrete:!1})):_P(X,m.swipeDirection,G)?(E.current=X,uv(i4,d,se,{discrete:!1}),I.target.setPointerCapture(I.pointerId)):(Math.abs(W)>G||Math.abs(B)>G)&&(A.current=null)}),onPointerUp:_t(n.onPointerUp,I=>{const W=E.current,B=I.target;if(B.hasPointerCapture(I.pointerId)&&B.releasePointerCapture(I.pointerId),E.current=null,A.current=null,W){const j=I.currentTarget,D={originalEvent:I,delta:W};_P(W,m.swipeDirection,m.swipeThreshold)?uv(a4,p,D,{discrete:!0}):uv(o4,f,D,{discrete:!0}),j.addEventListener("click",F=>F.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),d4=n=>{const{__scopeToast:e,children:t,...s}=n,i=lx(_y,e),[r,o]=P.useState(!1),[a,c]=P.useState(!1);return p4(()=>o(!0)),P.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:x.jsx(OM,{asChild:!0,children:x.jsx(ax,{...s,children:r&&x.jsxs(x.Fragment,{children:[i.label," ",t]})})})},h4="ToastTitle",HM=P.forwardRef((n,e)=>{const{__scopeToast:t,...s}=n;return x.jsx(zt.div,{...s,ref:e})});HM.displayName=h4;var f4="ToastDescription",WM=P.forwardRef((n,e)=>{const{__scopeToast:t,...s}=n;return x.jsx(zt.div,{...s,ref:e})});WM.displayName=f4;var GM="ToastAction",qM=P.forwardRef((n,e)=>{const{altText:t,...s}=n;return t.trim()?x.jsx(YM,{altText:t,asChild:!0,children:x.jsx(zE,{...s,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${GM}\`. Expected non-empty \`string\`.`),null)});qM.displayName=GM;var XM="ToastClose",zE=P.forwardRef((n,e)=>{const{__scopeToast:t,...s}=n,i=c4(XM,t);return x.jsx(YM,{asChild:!0,children:x.jsx(zt.button,{type:"button",...s,ref:e,onClick:_t(n.onClick,i.onClose)})})});zE.displayName=XM;var YM=P.forwardRef((n,e)=>{const{__scopeToast:t,altText:s,...i}=n;return x.jsx(zt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...i,ref:e})});function KM(n){const e=[];return Array.from(n.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&e.push(s.textContent),m4(s)){const i=s.ariaHidden||s.hidden||s.style.display==="none",r=s.dataset.radixToastAnnounceExclude==="";if(!i)if(r){const o=s.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...KM(s))}}),e}function uv(n,e,t,{discrete:s}){const i=t.originalEvent.currentTarget,r=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),s?DM(i,r):i.dispatchEvent(r)}var _P=(n,e,t=0)=>{const s=Math.abs(n.x),i=Math.abs(n.y),r=s>i;return e==="left"||e==="right"?r&&s>t:!r&&i>t};function p4(n=()=>{}){const e=Il(n);qr(()=>{let t=0,s=0;return t=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(s)}},[e])}function m4(n){return n.nodeType===n.ELEMENT_NODE}function g4(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const i=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||i?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function fb(n){const e=document.activeElement;return n.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var y4=BM,QM=$M,ZM=zM,JM=HM,eN=WM,tN=qM,nN=zE;function sN(n){var e,t,s="";if(typeof n=="string"||typeof n=="number")s+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=sN(n[e]))&&(s&&(s+=" "),s+=t)}else for(t in n)n[t]&&(s&&(s+=" "),s+=t);return s}function Bf(){for(var n,e,t=0,s="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=sN(n))&&(s&&(s+=" "),s+=e);return s}const RP=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,MP=Bf,iN=(n,e)=>t=>{var s;if((e==null?void 0:e.variants)==null)return MP(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:i,defaultVariants:r}=e,o=Object.keys(i).map(u=>{const d=t==null?void 0:t[u],h=r==null?void 0:r[u];if(d===null)return null;const f=RP(d)||RP(h);return i[u][f]}),a=t&&Object.entries(t).reduce((u,d)=>{let[h,f]=d;return f===void 0||(u[h]=f),u},{}),c=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((u,d)=>{let{class:h,className:f,...p}=d;return Object.entries(p).every(y=>{let[m,b]=y;return Array.isArray(b)?b.includes({...r,...a}[m]):{...r,...a}[m]===b})?[...u,h,f]:u},[]);return MP(n,o,c,t==null?void 0:t.class,t==null?void 0:t.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v4=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),rN=(...n)=>n.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var w4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x4=P.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:i="",children:r,iconNode:o,...a},c)=>P.createElement("svg",{ref:c,...w4,width:e,height:e,stroke:n,strokeWidth:s?Number(t)*24/Number(e):t,className:rN("lucide",i),...a},[...o.map(([u,d])=>P.createElement(u,d)),...Array.isArray(r)?r:[r]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=(n,e)=>{const t=P.forwardRef(({className:s,...i},r)=>P.createElement(x4,{ref:r,iconNode:e,className:rN(`lucide-${v4(n)}`,s),...i}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b4=ke("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wm=ke("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oN=ke("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=ke("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S4=ke("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E4=ke("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aN=ke("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lN=ke("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C4=ke("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cN=ke("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xm=ke("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cx=ke("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vf=ke("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=ke("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T4=ke("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P4=ke("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=ke("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bm=ke("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0=ke("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=ke("MapPinned",[["path",{d:"M18 8c0 3.613-3.869 7.429-5.393 8.795a1 1 0 0 1-1.214 0C9.87 15.429 6 11.613 6 8a6 6 0 0 1 12 0",key:"11u0oz"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M8.714 14h-3.71a1 1 0 0 0-.948.683l-2.004 6A1 1 0 0 0 3 22h18a1 1 0 0 0 .948-1.316l-2-6a1 1 0 0 0-.949-.684h-3.712",key:"q8zwxj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=ke("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M4=ke("Plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N4=ke("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HE=ke("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=ke("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=ke("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=ke("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=ke("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $f=ke("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dN=ke("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=ke("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),WE="-",j4=n=>{const e=V4(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:s}=n;return{getClassGroupId:o=>{const a=o.split(WE);return a[0]===""&&a.length!==1&&a.shift(),hN(a,e)||B4(o)},getConflictingClassGroupIds:(o,a)=>{const c=t[o]||[];return a&&s[o]?[...c,...s[o]]:c}}},hN=(n,e)=>{var o;if(n.length===0)return e.classGroupId;const t=n[0],s=e.nextPart.get(t),i=s?hN(n.slice(1),s):void 0;if(i)return i;if(e.validators.length===0)return;const r=n.join(WE);return(o=e.validators.find(({validator:a})=>a(r)))==null?void 0:o.classGroupId},NP=/^\[(.+)\]$/,B4=n=>{if(NP.test(n)){const e=NP.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},V4=n=>{const{theme:e,prefix:t}=n,s={nextPart:new Map,validators:[]};return U4(Object.entries(n.classGroups),t).forEach(([r,o])=>{j1(o,s,r,e)}),s},j1=(n,e,t,s)=>{n.forEach(i=>{if(typeof i=="string"){const r=i===""?e:DP(e,i);r.classGroupId=t;return}if(typeof i=="function"){if($4(i)){j1(i(s),e,t,s);return}e.validators.push({validator:i,classGroupId:t});return}Object.entries(i).forEach(([r,o])=>{j1(o,DP(e,r),t,s)})})},DP=(n,e)=>{let t=n;return e.split(WE).forEach(s=>{t.nextPart.has(s)||t.nextPart.set(s,{nextPart:new Map,validators:[]}),t=t.nextPart.get(s)}),t},$4=n=>n.isThemeGetter,U4=(n,e)=>e?n.map(([t,s])=>{const i=s.map(r=>typeof r=="string"?e+r:typeof r=="object"?Object.fromEntries(Object.entries(r).map(([o,a])=>[e+o,a])):r);return[t,i]}):n,z4=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,s=new Map;const i=(r,o)=>{t.set(r,o),e++,e>n&&(e=0,s=t,t=new Map)};return{get(r){let o=t.get(r);if(o!==void 0)return o;if((o=s.get(r))!==void 0)return i(r,o),o},set(r,o){t.has(r)?t.set(r,o):i(r,o)}}},fN="!",H4=n=>{const{separator:e,experimentalParseClassName:t}=n,s=e.length===1,i=e[0],r=e.length,o=a=>{const c=[];let u=0,d=0,h;for(let b=0;b<a.length;b++){let g=a[b];if(u===0){if(g===i&&(s||a.slice(b,b+r)===e)){c.push(a.slice(d,b)),d=b+r;continue}if(g==="/"){h=b;continue}}g==="["?u++:g==="]"&&u--}const f=c.length===0?a:a.substring(d),p=f.startsWith(fN),y=p?f.substring(1):f,m=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:y,maybePostfixModifierPosition:m}};return t?a=>t({className:a,parseClassName:o}):o},W4=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(s=>{s[0]==="["?(e.push(...t.sort(),s),t=[]):t.push(s)}),e.push(...t.sort()),e},G4=n=>({cache:z4(n.cacheSize),parseClassName:H4(n),...j4(n)}),q4=/\s+/,X4=(n,e)=>{const{parseClassName:t,getClassGroupId:s,getConflictingClassGroupIds:i}=e,r=[],o=n.trim().split(q4);let a="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:p}=t(u);let y=!!p,m=s(y?f.substring(0,p):f);if(!m){if(!y){a=u+(a.length>0?" "+a:a);continue}if(m=s(f),!m){a=u+(a.length>0?" "+a:a);continue}y=!1}const b=W4(d).join(":"),g=h?b+fN:b,v=g+m;if(r.includes(v))continue;r.push(v);const A=i(m,y);for(let E=0;E<A.length;++E){const T=A[E];r.push(g+T)}a=u+(a.length>0?" "+a:a)}return a};function Y4(){let n=0,e,t,s="";for(;n<arguments.length;)(e=arguments[n++])&&(t=pN(e))&&(s&&(s+=" "),s+=t);return s}const pN=n=>{if(typeof n=="string")return n;let e,t="";for(let s=0;s<n.length;s++)n[s]&&(e=pN(n[s]))&&(t&&(t+=" "),t+=e);return t};function K4(n,...e){let t,s,i,r=o;function o(c){const u=e.reduce((d,h)=>h(d),n());return t=G4(u),s=t.cache.get,i=t.cache.set,r=a,a(c)}function a(c){const u=s(c);if(u)return u;const d=X4(c,t);return i(c,d),d}return function(){return r(Y4.apply(null,arguments))}}const Xe=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},mN=/^\[(?:([a-z-]+):)?(.+)\]$/i,Q4=/^\d+\/\d+$/,Z4=new Set(["px","full","screen"]),J4=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,eV=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,tV=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,nV=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,sV=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Zr=n=>Ld(n)||Z4.has(n)||Q4.test(n),fa=n=>Uf(n,"length",dV),Ld=n=>!!n&&!Number.isNaN(Number(n)),pb=n=>Uf(n,"number",Ld),lp=n=>!!n&&Number.isInteger(Number(n)),iV=n=>n.endsWith("%")&&Ld(n.slice(0,-1)),he=n=>mN.test(n),pa=n=>J4.test(n),rV=new Set(["length","size","percentage"]),oV=n=>Uf(n,rV,gN),aV=n=>Uf(n,"position",gN),lV=new Set(["image","url"]),cV=n=>Uf(n,lV,fV),uV=n=>Uf(n,"",hV),cp=()=>!0,Uf=(n,e,t)=>{const s=mN.exec(n);return s?s[1]?typeof e=="string"?s[1]===e:e.has(s[1]):t(s[2]):!1},dV=n=>eV.test(n)&&!tV.test(n),gN=()=>!1,hV=n=>nV.test(n),fV=n=>sV.test(n),pV=()=>{const n=Xe("colors"),e=Xe("spacing"),t=Xe("blur"),s=Xe("brightness"),i=Xe("borderColor"),r=Xe("borderRadius"),o=Xe("borderSpacing"),a=Xe("borderWidth"),c=Xe("contrast"),u=Xe("grayscale"),d=Xe("hueRotate"),h=Xe("invert"),f=Xe("gap"),p=Xe("gradientColorStops"),y=Xe("gradientColorStopPositions"),m=Xe("inset"),b=Xe("margin"),g=Xe("opacity"),v=Xe("padding"),A=Xe("saturate"),E=Xe("scale"),T=Xe("sepia"),k=Xe("skew"),_=Xe("space"),R=Xe("translate"),M=()=>["auto","contain","none"],N=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto",he,e],O=()=>[he,e],U=()=>["",Zr,fa],I=()=>["auto",Ld,he],W=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],B=()=>["solid","dashed","dotted","double","none"],j=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],D=()=>["start","end","center","between","around","evenly","stretch"],F=()=>["","0",he],z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],te=()=>[Ld,he];return{cacheSize:500,separator:":",theme:{colors:[cp],spacing:[Zr,fa],blur:["none","",pa,he],brightness:te(),borderColor:[n],borderRadius:["none","","full",pa,he],borderSpacing:O(),borderWidth:U(),contrast:te(),grayscale:F(),hueRotate:te(),invert:F(),gap:O(),gradientColorStops:[n],gradientColorStopPositions:[iV,fa],inset:L(),margin:L(),opacity:te(),padding:O(),saturate:te(),scale:te(),sepia:F(),skew:te(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",he]}],container:["container"],columns:[{columns:[pa]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...W(),he]}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",lp,he]}],basis:[{basis:L()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",he]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",lp,he]}],"grid-cols":[{"grid-cols":[cp]}],"col-start-end":[{col:["auto",{span:["full",lp,he]},he]}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":[cp]}],"row-start-end":[{row:["auto",{span:[lp,he]},he]}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",he]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",he]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...D()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...D(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...D(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",he,e]}],"min-w":[{"min-w":[he,e,"min","max","fit"]}],"max-w":[{"max-w":[he,e,"none","full","min","max","fit","prose",{screen:[pa]},pa]}],h:[{h:[he,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[he,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[he,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[he,e,"auto","min","max","fit"]}],"font-size":[{text:["base",pa,fa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",pb]}],"font-family":[{font:[cp]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",he]}],"line-clamp":[{"line-clamp":["none",Ld,pb]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Zr,he]}],"list-image":[{"list-image":["none",he]}],"list-style-type":[{list:["none","disc","decimal",he]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...B(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Zr,fa]}],"underline-offset":[{"underline-offset":["auto",Zr,he]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",he]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",he]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...W(),aV]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",oV]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},cV]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[r]}],"rounded-s":[{"rounded-s":[r]}],"rounded-e":[{"rounded-e":[r]}],"rounded-t":[{"rounded-t":[r]}],"rounded-r":[{"rounded-r":[r]}],"rounded-b":[{"rounded-b":[r]}],"rounded-l":[{"rounded-l":[r]}],"rounded-ss":[{"rounded-ss":[r]}],"rounded-se":[{"rounded-se":[r]}],"rounded-ee":[{"rounded-ee":[r]}],"rounded-es":[{"rounded-es":[r]}],"rounded-tl":[{"rounded-tl":[r]}],"rounded-tr":[{"rounded-tr":[r]}],"rounded-br":[{"rounded-br":[r]}],"rounded-bl":[{"rounded-bl":[r]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...B(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:B()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...B()]}],"outline-offset":[{"outline-offset":[Zr,he]}],"outline-w":[{outline:[Zr,fa]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:U()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[Zr,fa]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",pa,uV]}],"shadow-color":[{shadow:[cp]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...j(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":j()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[s]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",pa,he]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[A]}],sepia:[{sepia:[T]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[A]}],"backdrop-sepia":[{"backdrop-sepia":[T]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",he]}],duration:[{duration:te()}],ease:[{ease:["linear","in","out","in-out",he]}],delay:[{delay:te()}],animate:[{animate:["none","spin","ping","pulse","bounce",he]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[E]}],"scale-x":[{"scale-x":[E]}],"scale-y":[{"scale-y":[E]}],rotate:[{rotate:[lp,he]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",he]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",he]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",he]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[Zr,fa,pb]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},mV=K4(pV);function tr(...n){return mV(Bf(n))}const gV=y4,yN=P.forwardRef(({className:n,...e},t)=>x.jsx(QM,{ref:t,className:tr("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...e}));yN.displayName=QM.displayName;const yV=iN("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),vN=P.forwardRef(({className:n,variant:e,...t},s)=>x.jsx(ZM,{ref:s,className:tr(yV({variant:e}),n),...t}));vN.displayName=ZM.displayName;const vV=P.forwardRef(({className:n,...e},t)=>x.jsx(tN,{ref:t,className:tr("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",n),...e}));vV.displayName=tN.displayName;const wN=P.forwardRef(({className:n,...e},t)=>x.jsx(nN,{ref:t,className:tr("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...e,children:x.jsx(dN,{className:"h-4 w-4"})}));wN.displayName=nN.displayName;const xN=P.forwardRef(({className:n,...e},t)=>x.jsx(JM,{ref:t,className:tr("text-sm font-semibold",n),...e}));xN.displayName=JM.displayName;const bN=P.forwardRef(({className:n,...e},t)=>x.jsx(eN,{ref:t,className:tr("text-sm opacity-90",n),...e}));bN.displayName=eN.displayName;function wV(){const{toasts:n}=T3();return x.jsxs(gV,{children:[n.map(function({id:e,title:t,description:s,action:i,...r}){return x.jsxs(vN,{...r,children:[x.jsxs("div",{className:"grid gap-1",children:[t&&x.jsx(xN,{children:t}),s&&x.jsx(bN,{children:s})]}),i,x.jsx(wN,{})]},e)}),x.jsx(yN,{})]})}var LP=["light","dark"],xV="(prefers-color-scheme: dark)",bV=P.createContext(void 0),AV={setTheme:n=>{},themes:[]},SV=()=>{var n;return(n=P.useContext(bV))!=null?n:AV};P.memo(({forcedTheme:n,storageKey:e,attribute:t,enableSystem:s,enableColorScheme:i,defaultTheme:r,value:o,attrs:a,nonce:c})=>{let u=r==="system",d=t==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(y=>`'${y}'`).join(",")})`};`:`var d=document.documentElement,n='${t}',s='setAttribute';`,h=i?LP.includes(r)&&r?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${r}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(y,m=!1,b=!0)=>{let g=o?o[y]:y,v=m?y+"|| ''":`'${g}'`,A="";return i&&b&&!m&&LP.includes(y)&&(A+=`d.style.colorScheme = '${y}';`),t==="class"?m||g?A+=`c.add(${v})`:A+="null":g&&(A+=`d[s](n,${v})`),A},p=n?`!function(){${d}${f(n)}}()`:s?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${xV}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${u?"":"else{"+f(r,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(r,!1,!1)};}${h}}catch(t){}}();`;return P.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var EV=n=>{switch(n){case"success":return PV;case"info":return _V;case"warning":return kV;case"error":return RV;default:return null}},CV=Array(12).fill(0),TV=({visible:n,className:e})=>$.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":n},$.createElement("div",{className:"sonner-spinner"},CV.map((t,s)=>$.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),PV=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),kV=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),_V=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),RV=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),MV=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},$.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),$.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),NV=()=>{let[n,e]=$.useState(document.hidden);return $.useEffect(()=>{let t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n},B1=1,DV=class{constructor(){this.subscribe=n=>(this.subscribers.push(n),()=>{let e=this.subscribers.indexOf(n);this.subscribers.splice(e,1)}),this.publish=n=>{this.subscribers.forEach(e=>e(n))},this.addToast=n=>{this.publish(n),this.toasts=[...this.toasts,n]},this.create=n=>{var e;let{message:t,...s}=n,i=typeof(n==null?void 0:n.id)=="number"||((e=n.id)==null?void 0:e.length)>0?n.id:B1++,r=this.toasts.find(a=>a.id===i),o=n.dismissible===void 0?!0:n.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),r?this.toasts=this.toasts.map(a=>a.id===i?(this.publish({...a,...n,id:i,title:t}),{...a,...n,id:i,dismissible:o,title:t}):a):this.addToast({title:t,...s,dismissible:o,id:i}),i},this.dismiss=n=>(this.dismissedToasts.add(n),n||this.toasts.forEach(e=>{this.subscribers.forEach(t=>t({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:n,dismiss:!0})),n),this.message=(n,e)=>this.create({...e,message:n}),this.error=(n,e)=>this.create({...e,message:n,type:"error"}),this.success=(n,e)=>this.create({...e,type:"success",message:n}),this.info=(n,e)=>this.create({...e,type:"info",message:n}),this.warning=(n,e)=>this.create({...e,type:"warning",message:n}),this.loading=(n,e)=>this.create({...e,type:"loading",message:n}),this.promise=(n,e)=>{if(!e)return;let t;e.loading!==void 0&&(t=this.create({...e,promise:n,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let s=n instanceof Promise?n:n(),i=t!==void 0,r,o=s.then(async c=>{if(r=["resolve",c],$.isValidElement(c))i=!1,this.create({id:t,type:"default",message:c});else if(IV(c)&&!c.ok){i=!1;let u=typeof e.error=="function"?await e.error(`HTTP error! status: ${c.status}`):e.error,d=typeof e.description=="function"?await e.description(`HTTP error! status: ${c.status}`):e.description;this.create({id:t,type:"error",message:u,description:d})}else if(e.success!==void 0){i=!1;let u=typeof e.success=="function"?await e.success(c):e.success,d=typeof e.description=="function"?await e.description(c):e.description;this.create({id:t,type:"success",message:u,description:d})}}).catch(async c=>{if(r=["reject",c],e.error!==void 0){i=!1;let u=typeof e.error=="function"?await e.error(c):e.error,d=typeof e.description=="function"?await e.description(c):e.description;this.create({id:t,type:"error",message:u,description:d})}}).finally(()=>{var c;i&&(this.dismiss(t),t=void 0),(c=e.finally)==null||c.call(e)}),a=()=>new Promise((c,u)=>o.then(()=>r[0]==="reject"?u(r[1]):c(r[1])).catch(u));return typeof t!="string"&&typeof t!="number"?{unwrap:a}:Object.assign(t,{unwrap:a})},this.custom=(n,e)=>{let t=(e==null?void 0:e.id)||B1++;return this.create({jsx:n(t),id:t,...e}),t},this.getActiveToasts=()=>this.toasts.filter(n=>!this.dismissedToasts.has(n.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},rs=new DV,LV=(n,e)=>{let t=(e==null?void 0:e.id)||B1++;return rs.addToast({title:n,...e,id:t}),t},IV=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",FV=LV,OV=()=>rs.toasts,jV=()=>rs.getActiveToasts();Object.assign(FV,{success:rs.success,info:rs.info,warning:rs.warning,error:rs.error,custom:rs.custom,message:rs.message,promise:rs.promise,dismiss:rs.dismiss,loading:rs.loading},{getHistory:OV,getToasts:jV});function BV(n,{insertAt:e}={}){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",e==="top"&&t.firstChild?t.insertBefore(s,t.firstChild):t.appendChild(s),s.styleSheet?s.styleSheet.cssText=n:s.appendChild(document.createTextNode(n))}BV(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function dv(n){return n.label!==void 0}var VV=3,$V="32px",UV="16px",IP=4e3,zV=356,HV=14,WV=20,GV=200;function Si(...n){return n.filter(Boolean).join(" ")}function qV(n){let[e,t]=n.split("-"),s=[];return e&&s.push(e),t&&s.push(t),s}var XV=n=>{var e,t,s,i,r,o,a,c,u,d,h;let{invert:f,toast:p,unstyled:y,interacting:m,setHeights:b,visibleToasts:g,heights:v,index:A,toasts:E,expanded:T,removeToast:k,defaultRichColors:_,closeButton:R,style:M,cancelButtonStyle:N,actionButtonStyle:L,className:O="",descriptionClassName:U="",duration:I,position:W,gap:B,loadingIcon:j,expandByDefault:D,classNames:F,icons:z,closeButtonAriaLabel:te="Close toast",pauseWhenPageIsHidden:G}=n,[X,se]=$.useState(null),[ye,Se]=$.useState(null),[ne,Mn]=$.useState(!1),[pt,be]=$.useState(!1),[mt,mn]=$.useState(!1),[ge,Re]=$.useState(!1),[it,rt]=$.useState(!1),[sr,vi]=$.useState(0),[ir,Hy]=$.useState(0),rr=$.useRef(p.duration||I||IP),Wy=$.useRef(null),Qr=$.useRef(null),Lx=A===0,Ix=A+1<=g,Yn=p.type,Nn=p.dismissible!==!1,aa=p.className||"",or=p.descriptionClassName||"",la=$.useMemo(()=>v.findIndex(ce=>ce.toastId===p.id)||0,[v,p.id]),UO=$.useMemo(()=>{var ce;return(ce=p.closeButton)!=null?ce:R},[p.closeButton,R]),dT=$.useMemo(()=>p.duration||I||IP,[p.duration,I]),Fx=$.useRef(0),Xu=$.useRef(0),hT=$.useRef(0),Yu=$.useRef(null),[zO,HO]=W.split("-"),fT=$.useMemo(()=>v.reduce((ce,Le,Ze)=>Ze>=la?ce:ce+Le.height,0),[v,la]),pT=NV(),WO=p.invert||f,Ox=Yn==="loading";Xu.current=$.useMemo(()=>la*B+fT,[la,fT]),$.useEffect(()=>{rr.current=dT},[dT]),$.useEffect(()=>{Mn(!0)},[]),$.useEffect(()=>{let ce=Qr.current;if(ce){let Le=ce.getBoundingClientRect().height;return Hy(Le),b(Ze=>[{toastId:p.id,height:Le,position:p.position},...Ze]),()=>b(Ze=>Ze.filter(wi=>wi.toastId!==p.id))}},[b,p.id]),$.useLayoutEffect(()=>{if(!ne)return;let ce=Qr.current,Le=ce.style.height;ce.style.height="auto";let Ze=ce.getBoundingClientRect().height;ce.style.height=Le,Hy(Ze),b(wi=>wi.find(xi=>xi.toastId===p.id)?wi.map(xi=>xi.toastId===p.id?{...xi,height:Ze}:xi):[{toastId:p.id,height:Ze,position:p.position},...wi])},[ne,p.title,p.description,b,p.id]);let ca=$.useCallback(()=>{be(!0),vi(Xu.current),b(ce=>ce.filter(Le=>Le.toastId!==p.id)),setTimeout(()=>{k(p)},GV)},[p,k,b,Xu]);$.useEffect(()=>{if(p.promise&&Yn==="loading"||p.duration===1/0||p.type==="loading")return;let ce;return T||m||G&&pT?(()=>{if(hT.current<Fx.current){let Le=new Date().getTime()-Fx.current;rr.current=rr.current-Le}hT.current=new Date().getTime()})():rr.current!==1/0&&(Fx.current=new Date().getTime(),ce=setTimeout(()=>{var Le;(Le=p.onAutoClose)==null||Le.call(p,p),ca()},rr.current)),()=>clearTimeout(ce)},[T,m,p,Yn,G,pT,ca]),$.useEffect(()=>{p.delete&&ca()},[ca,p.delete]);function GO(){var ce,Le,Ze;return z!=null&&z.loading?$.createElement("div",{className:Si(F==null?void 0:F.loader,(ce=p==null?void 0:p.classNames)==null?void 0:ce.loader,"sonner-loader"),"data-visible":Yn==="loading"},z.loading):j?$.createElement("div",{className:Si(F==null?void 0:F.loader,(Le=p==null?void 0:p.classNames)==null?void 0:Le.loader,"sonner-loader"),"data-visible":Yn==="loading"},j):$.createElement(TV,{className:Si(F==null?void 0:F.loader,(Ze=p==null?void 0:p.classNames)==null?void 0:Ze.loader),visible:Yn==="loading"})}return $.createElement("li",{tabIndex:0,ref:Qr,className:Si(O,aa,F==null?void 0:F.toast,(e=p==null?void 0:p.classNames)==null?void 0:e.toast,F==null?void 0:F.default,F==null?void 0:F[Yn],(t=p==null?void 0:p.classNames)==null?void 0:t[Yn]),"data-sonner-toast":"","data-rich-colors":(s=p.richColors)!=null?s:_,"data-styled":!(p.jsx||p.unstyled||y),"data-mounted":ne,"data-promise":!!p.promise,"data-swiped":it,"data-removed":pt,"data-visible":Ix,"data-y-position":zO,"data-x-position":HO,"data-index":A,"data-front":Lx,"data-swiping":mt,"data-dismissible":Nn,"data-type":Yn,"data-invert":WO,"data-swipe-out":ge,"data-swipe-direction":ye,"data-expanded":!!(T||D&&ne),style:{"--index":A,"--toasts-before":A,"--z-index":E.length-A,"--offset":`${pt?sr:Xu.current}px`,"--initial-height":D?"auto":`${ir}px`,...M,...p.style},onDragEnd:()=>{mn(!1),se(null),Yu.current=null},onPointerDown:ce=>{Ox||!Nn||(Wy.current=new Date,vi(Xu.current),ce.target.setPointerCapture(ce.pointerId),ce.target.tagName!=="BUTTON"&&(mn(!0),Yu.current={x:ce.clientX,y:ce.clientY}))},onPointerUp:()=>{var ce,Le,Ze,wi;if(ge||!Nn)return;Yu.current=null;let xi=Number(((ce=Qr.current)==null?void 0:ce.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ua=Number(((Le=Qr.current)==null?void 0:Le.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Yl=new Date().getTime()-((Ze=Wy.current)==null?void 0:Ze.getTime()),bi=X==="x"?xi:ua,da=Math.abs(bi)/Yl;if(Math.abs(bi)>=WV||da>.11){vi(Xu.current),(wi=p.onDismiss)==null||wi.call(p,p),Se(X==="x"?xi>0?"right":"left":ua>0?"down":"up"),ca(),Re(!0),rt(!1);return}mn(!1),se(null)},onPointerMove:ce=>{var Le,Ze,wi,xi;if(!Yu.current||!Nn||((Le=window.getSelection())==null?void 0:Le.toString().length)>0)return;let ua=ce.clientY-Yu.current.y,Yl=ce.clientX-Yu.current.x,bi=(Ze=n.swipeDirections)!=null?Ze:qV(W);!X&&(Math.abs(Yl)>1||Math.abs(ua)>1)&&se(Math.abs(Yl)>Math.abs(ua)?"x":"y");let da={x:0,y:0};X==="y"?(bi.includes("top")||bi.includes("bottom"))&&(bi.includes("top")&&ua<0||bi.includes("bottom")&&ua>0)&&(da.y=ua):X==="x"&&(bi.includes("left")||bi.includes("right"))&&(bi.includes("left")&&Yl<0||bi.includes("right")&&Yl>0)&&(da.x=Yl),(Math.abs(da.x)>0||Math.abs(da.y)>0)&&rt(!0),(wi=Qr.current)==null||wi.style.setProperty("--swipe-amount-x",`${da.x}px`),(xi=Qr.current)==null||xi.style.setProperty("--swipe-amount-y",`${da.y}px`)}},UO&&!p.jsx?$.createElement("button",{"aria-label":te,"data-disabled":Ox,"data-close-button":!0,onClick:Ox||!Nn?()=>{}:()=>{var ce;ca(),(ce=p.onDismiss)==null||ce.call(p,p)},className:Si(F==null?void 0:F.closeButton,(i=p==null?void 0:p.classNames)==null?void 0:i.closeButton)},(r=z==null?void 0:z.close)!=null?r:MV):null,p.jsx||P.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:$.createElement($.Fragment,null,Yn||p.icon||p.promise?$.createElement("div",{"data-icon":"",className:Si(F==null?void 0:F.icon,(o=p==null?void 0:p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||GO():null,p.type!=="loading"?p.icon||(z==null?void 0:z[Yn])||EV(Yn):null):null,$.createElement("div",{"data-content":"",className:Si(F==null?void 0:F.content,(a=p==null?void 0:p.classNames)==null?void 0:a.content)},$.createElement("div",{"data-title":"",className:Si(F==null?void 0:F.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?$.createElement("div",{"data-description":"",className:Si(U,or,F==null?void 0:F.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),P.isValidElement(p.cancel)?p.cancel:p.cancel&&dv(p.cancel)?$.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||N,onClick:ce=>{var Le,Ze;dv(p.cancel)&&Nn&&((Ze=(Le=p.cancel).onClick)==null||Ze.call(Le,ce),ca())},className:Si(F==null?void 0:F.cancelButton,(d=p==null?void 0:p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,P.isValidElement(p.action)?p.action:p.action&&dv(p.action)?$.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||L,onClick:ce=>{var Le,Ze;dv(p.action)&&((Ze=(Le=p.action).onClick)==null||Ze.call(Le,ce),!ce.defaultPrevented&&ca())},className:Si(F==null?void 0:F.actionButton,(h=p==null?void 0:p.classNames)==null?void 0:h.actionButton)},p.action.label):null))};function FP(){if(typeof window>"u"||typeof document>"u")return"ltr";let n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function YV(n,e){let t={};return[n,e].forEach((s,i)=>{let r=i===1,o=r?"--mobile-offset":"--offset",a=r?UV:$V;function c(u){["top","right","bottom","left"].forEach(d=>{t[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof s=="number"||typeof s=="string"?c(s):typeof s=="object"?["top","right","bottom","left"].forEach(u=>{s[u]===void 0?t[`${o}-${u}`]=a:t[`${o}-${u}`]=typeof s[u]=="number"?`${s[u]}px`:s[u]}):c(a)}),t}var KV=P.forwardRef(function(n,e){let{invert:t,position:s="bottom-right",hotkey:i=["altKey","KeyT"],expand:r,closeButton:o,className:a,offset:c,mobileOffset:u,theme:d="light",richColors:h,duration:f,style:p,visibleToasts:y=VV,toastOptions:m,dir:b=FP(),gap:g=HV,loadingIcon:v,icons:A,containerAriaLabel:E="Notifications",pauseWhenPageIsHidden:T}=n,[k,_]=$.useState([]),R=$.useMemo(()=>Array.from(new Set([s].concat(k.filter(G=>G.position).map(G=>G.position)))),[k,s]),[M,N]=$.useState([]),[L,O]=$.useState(!1),[U,I]=$.useState(!1),[W,B]=$.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),j=$.useRef(null),D=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),F=$.useRef(null),z=$.useRef(!1),te=$.useCallback(G=>{_(X=>{var se;return(se=X.find(ye=>ye.id===G.id))!=null&&se.delete||rs.dismiss(G.id),X.filter(({id:ye})=>ye!==G.id)})},[]);return $.useEffect(()=>rs.subscribe(G=>{if(G.dismiss){_(X=>X.map(se=>se.id===G.id?{...se,delete:!0}:se));return}setTimeout(()=>{kM.flushSync(()=>{_(X=>{let se=X.findIndex(ye=>ye.id===G.id);return se!==-1?[...X.slice(0,se),{...X[se],...G},...X.slice(se+1)]:[G,...X]})})})}),[]),$.useEffect(()=>{if(d!=="system"){B(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?B("dark"):B("light")),typeof window>"u")return;let G=window.matchMedia("(prefers-color-scheme: dark)");try{G.addEventListener("change",({matches:X})=>{B(X?"dark":"light")})}catch{G.addListener(({matches:se})=>{try{B(se?"dark":"light")}catch(ye){console.error(ye)}})}},[d]),$.useEffect(()=>{k.length<=1&&O(!1)},[k]),$.useEffect(()=>{let G=X=>{var se,ye;i.every(Se=>X[Se]||X.code===Se)&&(O(!0),(se=j.current)==null||se.focus()),X.code==="Escape"&&(document.activeElement===j.current||(ye=j.current)!=null&&ye.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",G),()=>document.removeEventListener("keydown",G)},[i]),$.useEffect(()=>{if(j.current)return()=>{F.current&&(F.current.focus({preventScroll:!0}),F.current=null,z.current=!1)}},[j.current]),$.createElement("section",{ref:e,"aria-label":`${E} ${D}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},R.map((G,X)=>{var se;let[ye,Se]=G.split("-");return k.length?$.createElement("ol",{key:G,dir:b==="auto"?FP():b,tabIndex:-1,ref:j,className:a,"data-sonner-toaster":!0,"data-theme":W,"data-y-position":ye,"data-lifted":L&&k.length>1&&!r,"data-x-position":Se,style:{"--front-toast-height":`${((se=M[0])==null?void 0:se.height)||0}px`,"--width":`${zV}px`,"--gap":`${g}px`,...p,...YV(c,u)},onBlur:ne=>{z.current&&!ne.currentTarget.contains(ne.relatedTarget)&&(z.current=!1,F.current&&(F.current.focus({preventScroll:!0}),F.current=null))},onFocus:ne=>{ne.target instanceof HTMLElement&&ne.target.dataset.dismissible==="false"||z.current||(z.current=!0,F.current=ne.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{U||O(!1)},onDragEnd:()=>O(!1),onPointerDown:ne=>{ne.target instanceof HTMLElement&&ne.target.dataset.dismissible==="false"||I(!0)},onPointerUp:()=>I(!1)},k.filter(ne=>!ne.position&&X===0||ne.position===G).map((ne,Mn)=>{var pt,be;return $.createElement(XV,{key:ne.id,icons:A,index:Mn,toast:ne,defaultRichColors:h,duration:(pt=m==null?void 0:m.duration)!=null?pt:f,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:t,visibleToasts:y,closeButton:(be=m==null?void 0:m.closeButton)!=null?be:o,interacting:U,position:G,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:te,toasts:k.filter(mt=>mt.position==ne.position),heights:M.filter(mt=>mt.position==ne.position),setHeights:N,expandByDefault:r,gap:g,loadingIcon:v,expanded:L,pauseWhenPageIsHidden:T,swipeDirections:n.swipeDirections})})):null}))});const QV=({...n})=>{const{theme:e="system"}=SV();return x.jsx(KV,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...n})};var ZV=YS[" useId ".trim().toString()]||(()=>{}),JV=0;function AN(n){const[e,t]=P.useState(ZV());return qr(()=>{t(s=>s??String(JV++))},[n]),e?`radix-${e}`:""}const e5=["top","right","bottom","left"],Fl=Math.min,Is=Math.max,Q0=Math.round,hv=Math.floor,Hr=n=>({x:n,y:n}),t5={left:"right",right:"left",bottom:"top",top:"bottom"},n5={start:"end",end:"start"};function V1(n,e,t){return Is(n,Fl(e,t))}function Zo(n,e){return typeof n=="function"?n(e):n}function Jo(n){return n.split("-")[0]}function zf(n){return n.split("-")[1]}function GE(n){return n==="x"?"y":"x"}function qE(n){return n==="y"?"height":"width"}const s5=new Set(["top","bottom"]);function $r(n){return s5.has(Jo(n))?"y":"x"}function XE(n){return GE($r(n))}function i5(n,e,t){t===void 0&&(t=!1);const s=zf(n),i=XE(n),r=qE(i);let o=i==="x"?s===(t?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[r]>e.floating[r]&&(o=Z0(o)),[o,Z0(o)]}function r5(n){const e=Z0(n);return[$1(n),e,$1(e)]}function $1(n){return n.replace(/start|end/g,e=>n5[e])}const OP=["left","right"],jP=["right","left"],o5=["top","bottom"],a5=["bottom","top"];function l5(n,e,t){switch(n){case"top":case"bottom":return t?e?jP:OP:e?OP:jP;case"left":case"right":return e?o5:a5;default:return[]}}function c5(n,e,t,s){const i=zf(n);let r=l5(Jo(n),t==="start",s);return i&&(r=r.map(o=>o+"-"+i),e&&(r=r.concat(r.map($1)))),r}function Z0(n){return n.replace(/left|right|bottom|top/g,e=>t5[e])}function u5(n){return{top:0,right:0,bottom:0,left:0,...n}}function SN(n){return typeof n!="number"?u5(n):{top:n,right:n,bottom:n,left:n}}function J0(n){const{x:e,y:t,width:s,height:i}=n;return{width:s,height:i,top:t,left:e,right:e+s,bottom:t+i,x:e,y:t}}function BP(n,e,t){let{reference:s,floating:i}=n;const r=$r(e),o=XE(e),a=qE(o),c=Jo(e),u=r==="y",d=s.x+s.width/2-i.width/2,h=s.y+s.height/2-i.height/2,f=s[a]/2-i[a]/2;let p;switch(c){case"top":p={x:d,y:s.y-i.height};break;case"bottom":p={x:d,y:s.y+s.height};break;case"right":p={x:s.x+s.width,y:h};break;case"left":p={x:s.x-i.width,y:h};break;default:p={x:s.x,y:s.y}}switch(zf(e)){case"start":p[o]-=f*(t&&u?-1:1);break;case"end":p[o]+=f*(t&&u?-1:1);break}return p}const d5=async(n,e,t)=>{const{placement:s="bottom",strategy:i="absolute",middleware:r=[],platform:o}=t,a=r.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:n,floating:e,strategy:i}),{x:d,y:h}=BP(u,s,c),f=s,p={},y=0;for(let m=0;m<a.length;m++){const{name:b,fn:g}=a[m],{x:v,y:A,data:E,reset:T}=await g({x:d,y:h,initialPlacement:s,placement:f,strategy:i,middlewareData:p,rects:u,platform:o,elements:{reference:n,floating:e}});d=v??d,h=A??h,p={...p,[b]:{...p[b],...E}},T&&y<=50&&(y++,typeof T=="object"&&(T.placement&&(f=T.placement),T.rects&&(u=T.rects===!0?await o.getElementRects({reference:n,floating:e,strategy:i}):T.rects),{x:d,y:h}=BP(u,f,c)),m=-1)}return{x:d,y:h,placement:f,strategy:i,middlewareData:p}};async function Am(n,e){var t;e===void 0&&(e={});const{x:s,y:i,platform:r,rects:o,elements:a,strategy:c}=n,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:p=0}=Zo(e,n),y=SN(p),b=a[f?h==="floating"?"reference":"floating":h],g=J0(await r.getClippingRect({element:(t=await(r.isElement==null?void 0:r.isElement(b)))==null||t?b:b.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:c})),v=h==="floating"?{x:s,y:i,width:o.floating.width,height:o.floating.height}:o.reference,A=await(r.getOffsetParent==null?void 0:r.getOffsetParent(a.floating)),E=await(r.isElement==null?void 0:r.isElement(A))?await(r.getScale==null?void 0:r.getScale(A))||{x:1,y:1}:{x:1,y:1},T=J0(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:A,strategy:c}):v);return{top:(g.top-T.top+y.top)/E.y,bottom:(T.bottom-g.bottom+y.bottom)/E.y,left:(g.left-T.left+y.left)/E.x,right:(T.right-g.right+y.right)/E.x}}const h5=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:s,placement:i,rects:r,platform:o,elements:a,middlewareData:c}=e,{element:u,padding:d=0}=Zo(n,e)||{};if(u==null)return{};const h=SN(d),f={x:t,y:s},p=XE(i),y=qE(p),m=await o.getDimensions(u),b=p==="y",g=b?"top":"left",v=b?"bottom":"right",A=b?"clientHeight":"clientWidth",E=r.reference[y]+r.reference[p]-f[p]-r.floating[y],T=f[p]-r.reference[p],k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let _=k?k[A]:0;(!_||!await(o.isElement==null?void 0:o.isElement(k)))&&(_=a.floating[A]||r.floating[y]);const R=E/2-T/2,M=_/2-m[y]/2-1,N=Fl(h[g],M),L=Fl(h[v],M),O=N,U=_-m[y]-L,I=_/2-m[y]/2+R,W=V1(O,I,U),B=!c.arrow&&zf(i)!=null&&I!==W&&r.reference[y]/2-(I<O?N:L)-m[y]/2<0,j=B?I<O?I-O:I-U:0;return{[p]:f[p]+j,data:{[p]:W,centerOffset:I-W-j,...B&&{alignmentOffset:j}},reset:B}}}),f5=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,s;const{placement:i,middlewareData:r,rects:o,initialPlacement:a,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:m=!0,...b}=Zo(n,e);if((t=r.arrow)!=null&&t.alignmentOffset)return{};const g=Jo(i),v=$r(a),A=Jo(a)===a,E=await(c.isRTL==null?void 0:c.isRTL(u.floating)),T=f||(A||!m?[Z0(a)]:r5(a)),k=y!=="none";!f&&k&&T.push(...c5(a,m,y,E));const _=[a,...T],R=await Am(e,b),M=[];let N=((s=r.flip)==null?void 0:s.overflows)||[];if(d&&M.push(R[g]),h){const I=i5(i,o,E);M.push(R[I[0]],R[I[1]])}if(N=[...N,{placement:i,overflows:M}],!M.every(I=>I<=0)){var L,O;const I=(((L=r.flip)==null?void 0:L.index)||0)+1,W=_[I];if(W&&(!(h==="alignment"?v!==$r(W):!1)||N.every(D=>D.overflows[0]>0&&$r(D.placement)===v)))return{data:{index:I,overflows:N},reset:{placement:W}};let B=(O=N.filter(j=>j.overflows[0]<=0).sort((j,D)=>j.overflows[1]-D.overflows[1])[0])==null?void 0:O.placement;if(!B)switch(p){case"bestFit":{var U;const j=(U=N.filter(D=>{if(k){const F=$r(D.placement);return F===v||F==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(F=>F>0).reduce((F,z)=>F+z,0)]).sort((D,F)=>D[1]-F[1])[0])==null?void 0:U[0];j&&(B=j);break}case"initialPlacement":B=a;break}if(i!==B)return{reset:{placement:B}}}return{}}}};function VP(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function $P(n){return e5.some(e=>n[e]>=0)}const p5=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:s="referenceHidden",...i}=Zo(n,e);switch(s){case"referenceHidden":{const r=await Am(e,{...i,elementContext:"reference"}),o=VP(r,t.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:$P(o)}}}case"escaped":{const r=await Am(e,{...i,altBoundary:!0}),o=VP(r,t.floating);return{data:{escapedOffsets:o,escaped:$P(o)}}}default:return{}}}}},EN=new Set(["left","top"]);async function m5(n,e){const{placement:t,platform:s,elements:i}=n,r=await(s.isRTL==null?void 0:s.isRTL(i.floating)),o=Jo(t),a=zf(t),c=$r(t)==="y",u=EN.has(o)?-1:1,d=r&&c?-1:1,h=Zo(e,n);let{mainAxis:f,crossAxis:p,alignmentAxis:y}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof y=="number"&&(p=a==="end"?y*-1:y),c?{x:p*d,y:f*u}:{x:f*u,y:p*d}}const g5=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,s;const{x:i,y:r,placement:o,middlewareData:a}=e,c=await m5(e,n);return o===((t=a.offset)==null?void 0:t.placement)&&(s=a.arrow)!=null&&s.alignmentOffset?{}:{x:i+c.x,y:r+c.y,data:{...c,placement:o}}}}},y5=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:s,placement:i}=e,{mainAxis:r=!0,crossAxis:o=!1,limiter:a={fn:b=>{let{x:g,y:v}=b;return{x:g,y:v}}},...c}=Zo(n,e),u={x:t,y:s},d=await Am(e,c),h=$r(Jo(i)),f=GE(h);let p=u[f],y=u[h];if(r){const b=f==="y"?"top":"left",g=f==="y"?"bottom":"right",v=p+d[b],A=p-d[g];p=V1(v,p,A)}if(o){const b=h==="y"?"top":"left",g=h==="y"?"bottom":"right",v=y+d[b],A=y-d[g];y=V1(v,y,A)}const m=a.fn({...e,[f]:p,[h]:y});return{...m,data:{x:m.x-t,y:m.y-s,enabled:{[f]:r,[h]:o}}}}}},v5=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:s,placement:i,rects:r,middlewareData:o}=e,{offset:a=0,mainAxis:c=!0,crossAxis:u=!0}=Zo(n,e),d={x:t,y:s},h=$r(i),f=GE(h);let p=d[f],y=d[h];const m=Zo(a,e),b=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const A=f==="y"?"height":"width",E=r.reference[f]-r.floating[A]+b.mainAxis,T=r.reference[f]+r.reference[A]-b.mainAxis;p<E?p=E:p>T&&(p=T)}if(u){var g,v;const A=f==="y"?"width":"height",E=EN.has(Jo(i)),T=r.reference[h]-r.floating[A]+(E&&((g=o.offset)==null?void 0:g[h])||0)+(E?0:b.crossAxis),k=r.reference[h]+r.reference[A]+(E?0:((v=o.offset)==null?void 0:v[h])||0)-(E?b.crossAxis:0);y<T?y=T:y>k&&(y=k)}return{[f]:p,[h]:y}}}},w5=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,s;const{placement:i,rects:r,platform:o,elements:a}=e,{apply:c=()=>{},...u}=Zo(n,e),d=await Am(e,u),h=Jo(i),f=zf(i),p=$r(i)==="y",{width:y,height:m}=r.floating;let b,g;h==="top"||h==="bottom"?(b=h,g=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(g=h,b=f==="end"?"top":"bottom");const v=m-d.top-d.bottom,A=y-d.left-d.right,E=Fl(m-d[b],v),T=Fl(y-d[g],A),k=!e.middlewareData.shift;let _=E,R=T;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(R=A),(s=e.middlewareData.shift)!=null&&s.enabled.y&&(_=v),k&&!f){const N=Is(d.left,0),L=Is(d.right,0),O=Is(d.top,0),U=Is(d.bottom,0);p?R=y-2*(N!==0||L!==0?N+L:Is(d.left,d.right)):_=m-2*(O!==0||U!==0?O+U:Is(d.top,d.bottom))}await c({...e,availableWidth:R,availableHeight:_});const M=await o.getDimensions(a.floating);return y!==M.width||m!==M.height?{reset:{rects:!0}}:{}}}};function ux(){return typeof window<"u"}function Hf(n){return CN(n)?(n.nodeName||"").toLowerCase():"#document"}function Bs(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Kr(n){var e;return(e=(CN(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function CN(n){return ux()?n instanceof Node||n instanceof Bs(n).Node:!1}function Ki(n){return ux()?n instanceof Element||n instanceof Bs(n).Element:!1}function Xr(n){return ux()?n instanceof HTMLElement||n instanceof Bs(n).HTMLElement:!1}function UP(n){return!ux()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Bs(n).ShadowRoot}const x5=new Set(["inline","contents"]);function Ry(n){const{overflow:e,overflowX:t,overflowY:s,display:i}=Qi(n);return/auto|scroll|overlay|hidden|clip/.test(e+s+t)&&!x5.has(i)}const b5=new Set(["table","td","th"]);function A5(n){return b5.has(Hf(n))}const S5=[":popover-open",":modal"];function dx(n){return S5.some(e=>{try{return n.matches(e)}catch{return!1}})}const E5=["transform","translate","scale","rotate","perspective"],C5=["transform","translate","scale","rotate","perspective","filter"],T5=["paint","layout","strict","content"];function YE(n){const e=KE(),t=Ki(n)?Qi(n):n;return E5.some(s=>t[s]?t[s]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||C5.some(s=>(t.willChange||"").includes(s))||T5.some(s=>(t.contain||"").includes(s))}function P5(n){let e=Ol(n);for(;Xr(e)&&!kf(e);){if(YE(e))return e;if(dx(e))return null;e=Ol(e)}return null}function KE(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const k5=new Set(["html","body","#document"]);function kf(n){return k5.has(Hf(n))}function Qi(n){return Bs(n).getComputedStyle(n)}function hx(n){return Ki(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Ol(n){if(Hf(n)==="html")return n;const e=n.assignedSlot||n.parentNode||UP(n)&&n.host||Kr(n);return UP(e)?e.host:e}function TN(n){const e=Ol(n);return kf(e)?n.ownerDocument?n.ownerDocument.body:n.body:Xr(e)&&Ry(e)?e:TN(e)}function Sm(n,e,t){var s;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=TN(n),r=i===((s=n.ownerDocument)==null?void 0:s.body),o=Bs(i);if(r){const a=U1(o);return e.concat(o,o.visualViewport||[],Ry(i)?i:[],a&&t?Sm(a):[])}return e.concat(i,Sm(i,[],t))}function U1(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function PN(n){const e=Qi(n);let t=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const i=Xr(n),r=i?n.offsetWidth:t,o=i?n.offsetHeight:s,a=Q0(t)!==r||Q0(s)!==o;return a&&(t=r,s=o),{width:t,height:s,$:a}}function QE(n){return Ki(n)?n:n.contextElement}function Id(n){const e=QE(n);if(!Xr(e))return Hr(1);const t=e.getBoundingClientRect(),{width:s,height:i,$:r}=PN(e);let o=(r?Q0(t.width):t.width)/s,a=(r?Q0(t.height):t.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const _5=Hr(0);function kN(n){const e=Bs(n);return!KE()||!e.visualViewport?_5:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function R5(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Bs(n)?!1:e}function Bu(n,e,t,s){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),r=QE(n);let o=Hr(1);e&&(s?Ki(s)&&(o=Id(s)):o=Id(n));const a=R5(r,t,s)?kN(r):Hr(0);let c=(i.left+a.x)/o.x,u=(i.top+a.y)/o.y,d=i.width/o.x,h=i.height/o.y;if(r){const f=Bs(r),p=s&&Ki(s)?Bs(s):s;let y=f,m=U1(y);for(;m&&s&&p!==y;){const b=Id(m),g=m.getBoundingClientRect(),v=Qi(m),A=g.left+(m.clientLeft+parseFloat(v.paddingLeft))*b.x,E=g.top+(m.clientTop+parseFloat(v.paddingTop))*b.y;c*=b.x,u*=b.y,d*=b.x,h*=b.y,c+=A,u+=E,y=Bs(m),m=U1(y)}}return J0({width:d,height:h,x:c,y:u})}function ZE(n,e){const t=hx(n).scrollLeft;return e?e.left+t:Bu(Kr(n)).left+t}function _N(n,e,t){t===void 0&&(t=!1);const s=n.getBoundingClientRect(),i=s.left+e.scrollLeft-(t?0:ZE(n,s)),r=s.top+e.scrollTop;return{x:i,y:r}}function M5(n){let{elements:e,rect:t,offsetParent:s,strategy:i}=n;const r=i==="fixed",o=Kr(s),a=e?dx(e.floating):!1;if(s===o||a&&r)return t;let c={scrollLeft:0,scrollTop:0},u=Hr(1);const d=Hr(0),h=Xr(s);if((h||!h&&!r)&&((Hf(s)!=="body"||Ry(o))&&(c=hx(s)),Xr(s))){const p=Bu(s);u=Id(s),d.x=p.x+s.clientLeft,d.y=p.y+s.clientTop}const f=o&&!h&&!r?_N(o,c,!0):Hr(0);return{width:t.width*u.x,height:t.height*u.y,x:t.x*u.x-c.scrollLeft*u.x+d.x+f.x,y:t.y*u.y-c.scrollTop*u.y+d.y+f.y}}function N5(n){return Array.from(n.getClientRects())}function D5(n){const e=Kr(n),t=hx(n),s=n.ownerDocument.body,i=Is(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),r=Is(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let o=-t.scrollLeft+ZE(n);const a=-t.scrollTop;return Qi(s).direction==="rtl"&&(o+=Is(e.clientWidth,s.clientWidth)-i),{width:i,height:r,x:o,y:a}}function L5(n,e){const t=Bs(n),s=Kr(n),i=t.visualViewport;let r=s.clientWidth,o=s.clientHeight,a=0,c=0;if(i){r=i.width,o=i.height;const u=KE();(!u||u&&e==="fixed")&&(a=i.offsetLeft,c=i.offsetTop)}return{width:r,height:o,x:a,y:c}}const I5=new Set(["absolute","fixed"]);function F5(n,e){const t=Bu(n,!0,e==="fixed"),s=t.top+n.clientTop,i=t.left+n.clientLeft,r=Xr(n)?Id(n):Hr(1),o=n.clientWidth*r.x,a=n.clientHeight*r.y,c=i*r.x,u=s*r.y;return{width:o,height:a,x:c,y:u}}function zP(n,e,t){let s;if(e==="viewport")s=L5(n,t);else if(e==="document")s=D5(Kr(n));else if(Ki(e))s=F5(e,t);else{const i=kN(n);s={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return J0(s)}function RN(n,e){const t=Ol(n);return t===e||!Ki(t)||kf(t)?!1:Qi(t).position==="fixed"||RN(t,e)}function O5(n,e){const t=e.get(n);if(t)return t;let s=Sm(n,[],!1).filter(a=>Ki(a)&&Hf(a)!=="body"),i=null;const r=Qi(n).position==="fixed";let o=r?Ol(n):n;for(;Ki(o)&&!kf(o);){const a=Qi(o),c=YE(o);!c&&a.position==="fixed"&&(i=null),(r?!c&&!i:!c&&a.position==="static"&&!!i&&I5.has(i.position)||Ry(o)&&!c&&RN(n,o))?s=s.filter(d=>d!==o):i=a,o=Ol(o)}return e.set(n,s),s}function j5(n){let{element:e,boundary:t,rootBoundary:s,strategy:i}=n;const o=[...t==="clippingAncestors"?dx(e)?[]:O5(e,this._c):[].concat(t),s],a=o[0],c=o.reduce((u,d)=>{const h=zP(e,d,i);return u.top=Is(h.top,u.top),u.right=Fl(h.right,u.right),u.bottom=Fl(h.bottom,u.bottom),u.left=Is(h.left,u.left),u},zP(e,a,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function B5(n){const{width:e,height:t}=PN(n);return{width:e,height:t}}function V5(n,e,t){const s=Xr(e),i=Kr(e),r=t==="fixed",o=Bu(n,!0,r,e);let a={scrollLeft:0,scrollTop:0};const c=Hr(0);function u(){c.x=ZE(i)}if(s||!s&&!r)if((Hf(e)!=="body"||Ry(i))&&(a=hx(e)),s){const p=Bu(e,!0,r,e);c.x=p.x+e.clientLeft,c.y=p.y+e.clientTop}else i&&u();r&&!s&&i&&u();const d=i&&!s&&!r?_N(i,a):Hr(0),h=o.left+a.scrollLeft-c.x-d.x,f=o.top+a.scrollTop-c.y-d.y;return{x:h,y:f,width:o.width,height:o.height}}function mb(n){return Qi(n).position==="static"}function HP(n,e){if(!Xr(n)||Qi(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Kr(n)===t&&(t=t.ownerDocument.body),t}function MN(n,e){const t=Bs(n);if(dx(n))return t;if(!Xr(n)){let i=Ol(n);for(;i&&!kf(i);){if(Ki(i)&&!mb(i))return i;i=Ol(i)}return t}let s=HP(n,e);for(;s&&A5(s)&&mb(s);)s=HP(s,e);return s&&kf(s)&&mb(s)&&!YE(s)?t:s||P5(n)||t}const $5=async function(n){const e=this.getOffsetParent||MN,t=this.getDimensions,s=await t(n.floating);return{reference:V5(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function U5(n){return Qi(n).direction==="rtl"}const z5={convertOffsetParentRelativeRectToViewportRelativeRect:M5,getDocumentElement:Kr,getClippingRect:j5,getOffsetParent:MN,getElementRects:$5,getClientRects:N5,getDimensions:B5,getScale:Id,isElement:Ki,isRTL:U5};function NN(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function H5(n,e){let t=null,s;const i=Kr(n);function r(){var a;clearTimeout(s),(a=t)==null||a.disconnect(),t=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),r();const u=n.getBoundingClientRect(),{left:d,top:h,width:f,height:p}=u;if(a||e(),!f||!p)return;const y=hv(h),m=hv(i.clientWidth-(d+f)),b=hv(i.clientHeight-(h+p)),g=hv(d),A={rootMargin:-y+"px "+-m+"px "+-b+"px "+-g+"px",threshold:Is(0,Fl(1,c))||1};let E=!0;function T(k){const _=k[0].intersectionRatio;if(_!==c){if(!E)return o();_?o(!1,_):s=setTimeout(()=>{o(!1,1e-7)},1e3)}_===1&&!NN(u,n.getBoundingClientRect())&&o(),E=!1}try{t=new IntersectionObserver(T,{...A,root:i.ownerDocument})}catch{t=new IntersectionObserver(T,A)}t.observe(n)}return o(!0),r}function W5(n,e,t,s){s===void 0&&(s={});const{ancestorScroll:i=!0,ancestorResize:r=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=s,u=QE(n),d=i||r?[...u?Sm(u):[],...Sm(e)]:[];d.forEach(g=>{i&&g.addEventListener("scroll",t,{passive:!0}),r&&g.addEventListener("resize",t)});const h=u&&a?H5(u,t):null;let f=-1,p=null;o&&(p=new ResizeObserver(g=>{let[v]=g;v&&v.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var A;(A=p)==null||A.observe(e)})),t()}),u&&!c&&p.observe(u),p.observe(e));let y,m=c?Bu(n):null;c&&b();function b(){const g=Bu(n);m&&!NN(m,g)&&t(),m=g,y=requestAnimationFrame(b)}return t(),()=>{var g;d.forEach(v=>{i&&v.removeEventListener("scroll",t),r&&v.removeEventListener("resize",t)}),h==null||h(),(g=p)==null||g.disconnect(),p=null,c&&cancelAnimationFrame(y)}}const G5=g5,q5=y5,X5=f5,Y5=w5,K5=p5,WP=h5,Q5=v5,Z5=(n,e,t)=>{const s=new Map,i={platform:z5,...t},r={...i.platform,_c:s};return d5(n,e,{...i,platform:r})};var J5=typeof document<"u",e$=function(){},Uv=J5?P.useLayoutEffect:e$;function ew(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,s,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(s=t;s--!==0;)if(!ew(n[s],e[s]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(s=t;s--!==0;)if(!{}.hasOwnProperty.call(e,i[s]))return!1;for(s=t;s--!==0;){const r=i[s];if(!(r==="_owner"&&n.$$typeof)&&!ew(n[r],e[r]))return!1}return!0}return n!==n&&e!==e}function DN(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function GP(n,e){const t=DN(n);return Math.round(e*t)/t}function gb(n){const e=P.useRef(n);return Uv(()=>{e.current=n}),e}function t$(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:s=[],platform:i,elements:{reference:r,floating:o}={},transform:a=!0,whileElementsMounted:c,open:u}=n,[d,h]=P.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[f,p]=P.useState(s);ew(f,s)||p(s);const[y,m]=P.useState(null),[b,g]=P.useState(null),v=P.useCallback(D=>{D!==k.current&&(k.current=D,m(D))},[]),A=P.useCallback(D=>{D!==_.current&&(_.current=D,g(D))},[]),E=r||y,T=o||b,k=P.useRef(null),_=P.useRef(null),R=P.useRef(d),M=c!=null,N=gb(c),L=gb(i),O=gb(u),U=P.useCallback(()=>{if(!k.current||!_.current)return;const D={placement:e,strategy:t,middleware:f};L.current&&(D.platform=L.current),Z5(k.current,_.current,D).then(F=>{const z={...F,isPositioned:O.current!==!1};I.current&&!ew(R.current,z)&&(R.current=z,ky.flushSync(()=>{h(z)}))})},[f,e,t,L,O]);Uv(()=>{u===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,h(D=>({...D,isPositioned:!1})))},[u]);const I=P.useRef(!1);Uv(()=>(I.current=!0,()=>{I.current=!1}),[]),Uv(()=>{if(E&&(k.current=E),T&&(_.current=T),E&&T){if(N.current)return N.current(E,T,U);U()}},[E,T,U,N,M]);const W=P.useMemo(()=>({reference:k,floating:_,setReference:v,setFloating:A}),[v,A]),B=P.useMemo(()=>({reference:E,floating:T}),[E,T]),j=P.useMemo(()=>{const D={position:t,left:0,top:0};if(!B.floating)return D;const F=GP(B.floating,d.x),z=GP(B.floating,d.y);return a?{...D,transform:"translate("+F+"px, "+z+"px)",...DN(B.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:F,top:z}},[t,a,B.floating,d.x,d.y]);return P.useMemo(()=>({...d,update:U,refs:W,elements:B,floatingStyles:j}),[d,U,W,B,j])}const n$=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:s,padding:i}=typeof n=="function"?n(t):n;return s&&e(s)?s.current!=null?WP({element:s.current,padding:i}).fn(t):{}:s?WP({element:s,padding:i}).fn(t):{}}}},s$=(n,e)=>({...G5(n),options:[n,e]}),i$=(n,e)=>({...q5(n),options:[n,e]}),r$=(n,e)=>({...Q5(n),options:[n,e]}),o$=(n,e)=>({...X5(n),options:[n,e]}),a$=(n,e)=>({...Y5(n),options:[n,e]}),l$=(n,e)=>({...K5(n),options:[n,e]}),c$=(n,e)=>({...n$(n),options:[n,e]});var u$="Arrow",LN=P.forwardRef((n,e)=>{const{children:t,width:s=10,height:i=5,...r}=n;return x.jsx(zt.svg,{...r,ref:e,width:s,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:x.jsx("polygon",{points:"0,0 30,0 15,10"})})});LN.displayName=u$;var d$=LN;function h$(n){const[e,t]=P.useState(void 0);return qr(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const s=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const r=i[0];let o,a;if("borderBoxSize"in r){const c=r.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,a=u.blockSize}else o=n.offsetWidth,a=n.offsetHeight;t({width:o,height:a})});return s.observe(n,{box:"border-box"}),()=>s.unobserve(n)}else t(void 0)},[n]),e}var IN="Popper",[FN,ON]=jf(IN),[Rq,jN]=FN(IN),BN="PopperAnchor",VN=P.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:s,...i}=n,r=jN(BN,t),o=P.useRef(null),a=Us(e,o);return P.useEffect(()=>{r.onAnchorChange((s==null?void 0:s.current)||o.current)}),s?null:x.jsx(zt.div,{...i,ref:a})});VN.displayName=BN;var JE="PopperContent",[f$,p$]=FN(JE),$N=P.forwardRef((n,e)=>{var ne,Mn,pt,be,mt,mn;const{__scopePopper:t,side:s="bottom",sideOffset:i=0,align:r="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:p="optimized",onPlaced:y,...m}=n,b=jN(JE,t),[g,v]=P.useState(null),A=Us(e,ge=>v(ge)),[E,T]=P.useState(null),k=h$(E),_=(k==null?void 0:k.width)??0,R=(k==null?void 0:k.height)??0,M=s+(r!=="center"?"-"+r:""),N=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},L=Array.isArray(u)?u:[u],O=L.length>0,U={padding:N,boundary:L.filter(g$),altBoundary:O},{refs:I,floatingStyles:W,placement:B,isPositioned:j,middlewareData:D}=t$({strategy:"fixed",placement:M,whileElementsMounted:(...ge)=>W5(...ge,{animationFrame:p==="always"}),elements:{reference:b.anchor},middleware:[s$({mainAxis:i+R,alignmentAxis:o}),c&&i$({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?r$():void 0,...U}),c&&o$({...U}),a$({...U,apply:({elements:ge,rects:Re,availableWidth:it,availableHeight:rt})=>{const{width:sr,height:vi}=Re.reference,ir=ge.floating.style;ir.setProperty("--radix-popper-available-width",`${it}px`),ir.setProperty("--radix-popper-available-height",`${rt}px`),ir.setProperty("--radix-popper-anchor-width",`${sr}px`),ir.setProperty("--radix-popper-anchor-height",`${vi}px`)}}),E&&c$({element:E,padding:a}),y$({arrowWidth:_,arrowHeight:R}),f&&l$({strategy:"referenceHidden",...U})]}),[F,z]=HN(B),te=Il(y);qr(()=>{j&&(te==null||te())},[j,te]);const G=(ne=D.arrow)==null?void 0:ne.x,X=(Mn=D.arrow)==null?void 0:Mn.y,se=((pt=D.arrow)==null?void 0:pt.centerOffset)!==0,[ye,Se]=P.useState();return qr(()=>{g&&Se(window.getComputedStyle(g).zIndex)},[g]),x.jsx("div",{ref:I.setFloating,"data-radix-popper-content-wrapper":"",style:{...W,transform:j?W.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ye,"--radix-popper-transform-origin":[(be=D.transformOrigin)==null?void 0:be.x,(mt=D.transformOrigin)==null?void 0:mt.y].join(" "),...((mn=D.hide)==null?void 0:mn.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:x.jsx(f$,{scope:t,placedSide:F,onArrowChange:T,arrowX:G,arrowY:X,shouldHideArrow:se,children:x.jsx(zt.div,{"data-side":F,"data-align":z,...m,ref:A,style:{...m.style,animation:j?void 0:"none"}})})})});$N.displayName=JE;var UN="PopperArrow",m$={top:"bottom",right:"left",bottom:"top",left:"right"},zN=P.forwardRef(function(e,t){const{__scopePopper:s,...i}=e,r=p$(UN,s),o=m$[r.placedSide];return x.jsx("span",{ref:r.onArrowChange,style:{position:"absolute",left:r.arrowX,top:r.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[r.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[r.placedSide],visibility:r.shouldHideArrow?"hidden":void 0},children:x.jsx(d$,{...i,ref:t,style:{...i.style,display:"block"}})})});zN.displayName=UN;function g$(n){return n!==null}var y$=n=>({name:"transformOrigin",options:n,fn(e){var b,g,v;const{placement:t,rects:s,middlewareData:i}=e,o=((b=i.arrow)==null?void 0:b.centerOffset)!==0,a=o?0:n.arrowWidth,c=o?0:n.arrowHeight,[u,d]=HN(t),h={start:"0%",center:"50%",end:"100%"}[d],f=(((g=i.arrow)==null?void 0:g.x)??0)+a/2,p=(((v=i.arrow)==null?void 0:v.y)??0)+c/2;let y="",m="";return u==="bottom"?(y=o?h:`${f}px`,m=`${-c}px`):u==="top"?(y=o?h:`${f}px`,m=`${s.floating.height+c}px`):u==="right"?(y=`${-c}px`,m=o?h:`${p}px`):u==="left"&&(y=`${s.floating.width+c}px`,m=o?h:`${p}px`),{data:{x:y,y:m}}}});function HN(n){const[e,t="center"]=n.split("-");return[e,t]}var v$=VN,w$=$N,x$=zN,[fx,Mq]=jf("Tooltip",[ON]),eC=ON(),WN="TooltipProvider",b$=700,qP="tooltip.open",[A$,GN]=fx(WN),qN=n=>{const{__scopeTooltip:e,delayDuration:t=b$,skipDelayDuration:s=300,disableHoverableContent:i=!1,children:r}=n,o=P.useRef(!0),a=P.useRef(!1),c=P.useRef(0);return P.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),x.jsx(A$,{scope:e,isOpenDelayedRef:o,delayDuration:t,onOpen:P.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:P.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,s)},[s]),isPointerInTransitRef:a,onPointerInTransitChange:P.useCallback(u=>{a.current=u},[]),disableHoverableContent:i,children:r})};qN.displayName=WN;var XN="Tooltip",[Nq,px]=fx(XN),z1="TooltipTrigger",S$=P.forwardRef((n,e)=>{const{__scopeTooltip:t,...s}=n,i=px(z1,t),r=GN(z1,t),o=eC(t),a=P.useRef(null),c=Us(e,a,i.onTriggerChange),u=P.useRef(!1),d=P.useRef(!1),h=P.useCallback(()=>u.current=!1,[]);return P.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),x.jsx(v$,{asChild:!0,...o,children:x.jsx(zt.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...s,ref:c,onPointerMove:_t(n.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!r.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:_t(n.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:_t(n.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:_t(n.onFocus,()=>{u.current||i.onOpen()}),onBlur:_t(n.onBlur,i.onClose),onClick:_t(n.onClick,i.onClose)})})});S$.displayName=z1;var E$="TooltipPortal",[Dq,C$]=fx(E$,{forceMount:void 0}),_f="TooltipContent",YN=P.forwardRef((n,e)=>{const t=C$(_f,n.__scopeTooltip),{forceMount:s=t.forceMount,side:i="top",...r}=n,o=px(_f,n.__scopeTooltip);return x.jsx(rx,{present:s||o.open,children:o.disableHoverableContent?x.jsx(KN,{side:i,...r,ref:e}):x.jsx(T$,{side:i,...r,ref:e})})}),T$=P.forwardRef((n,e)=>{const t=px(_f,n.__scopeTooltip),s=GN(_f,n.__scopeTooltip),i=P.useRef(null),r=Us(e,i),[o,a]=P.useState(null),{trigger:c,onClose:u}=t,d=i.current,{onPointerInTransitChange:h}=s,f=P.useCallback(()=>{a(null),h(!1)},[h]),p=P.useCallback((y,m)=>{const b=y.currentTarget,g={x:y.clientX,y:y.clientY},v=M$(g,b.getBoundingClientRect()),A=N$(g,v),E=D$(m.getBoundingClientRect()),T=I$([...A,...E]);a(T),h(!0)},[h]);return P.useEffect(()=>()=>f(),[f]),P.useEffect(()=>{if(c&&d){const y=b=>p(b,d),m=b=>p(b,c);return c.addEventListener("pointerleave",y),d.addEventListener("pointerleave",m),()=>{c.removeEventListener("pointerleave",y),d.removeEventListener("pointerleave",m)}}},[c,d,p,f]),P.useEffect(()=>{if(o){const y=m=>{const b=m.target,g={x:m.clientX,y:m.clientY},v=(c==null?void 0:c.contains(b))||(d==null?void 0:d.contains(b)),A=!L$(g,o);v?f():A&&(f(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,d,o,u,f]),x.jsx(KN,{...n,ref:r})}),[P$,k$]=fx(XN,{isInside:!1}),_$=R3("TooltipContent"),KN=P.forwardRef((n,e)=>{const{__scopeTooltip:t,children:s,"aria-label":i,onEscapeKeyDown:r,onPointerDownOutside:o,...a}=n,c=px(_f,t),u=eC(t),{onClose:d}=c;return P.useEffect(()=>(document.addEventListener(qP,d),()=>document.removeEventListener(qP,d)),[d]),P.useEffect(()=>{if(c.trigger){const h=f=>{const p=f.target;p!=null&&p.contains(c.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,d]),x.jsx(VE,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:x.jsxs(w$,{"data-state":c.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[x.jsx(_$,{children:s}),x.jsx(P$,{scope:t,isInside:!0,children:x.jsx(J3,{id:c.contentId,role:"tooltip",children:i||s})})]})})});YN.displayName=_f;var QN="TooltipArrow",R$=P.forwardRef((n,e)=>{const{__scopeTooltip:t,...s}=n,i=eC(t);return k$(QN,t).isInside?null:x.jsx(x$,{...i,...s,ref:e})});R$.displayName=QN;function M$(n,e){const t=Math.abs(e.top-n.y),s=Math.abs(e.bottom-n.y),i=Math.abs(e.right-n.x),r=Math.abs(e.left-n.x);switch(Math.min(t,s,i,r)){case r:return"left";case i:return"right";case t:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function N$(n,e,t=5){const s=[];switch(e){case"top":s.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":s.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":s.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":s.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return s}function D$(n){const{top:e,right:t,bottom:s,left:i}=n;return[{x:i,y:e},{x:t,y:e},{x:t,y:s},{x:i,y:s}]}function L$(n,e){const{x:t,y:s}=n;let i=!1;for(let r=0,o=e.length-1;r<e.length;o=r++){const a=e[r],c=e[o],u=a.x,d=a.y,h=c.x,f=c.y;d>s!=f>s&&t<(h-u)*(s-d)/(f-d)+u&&(i=!i)}return i}function I$(n){const e=n.slice();return e.sort((t,s)=>t.x<s.x?-1:t.x>s.x?1:t.y<s.y?-1:t.y>s.y?1:0),F$(e)}function F$(n){if(n.length<=1)return n.slice();const e=[];for(let s=0;s<n.length;s++){const i=n[s];for(;e.length>=2;){const r=e[e.length-1],o=e[e.length-2];if((r.x-o.x)*(i.y-o.y)>=(r.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const t=[];for(let s=n.length-1;s>=0;s--){const i=n[s];for(;t.length>=2;){const r=t[t.length-1],o=t[t.length-2];if((r.x-o.x)*(i.y-o.y)>=(r.y-o.y)*(i.x-o.x))t.pop();else break}t.push(i)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var O$=qN,ZN=YN;const j$=O$,B$=P.forwardRef(({className:n,sideOffset:e=4,...t},s)=>x.jsx(ZN,{ref:s,sideOffset:e,className:tr("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t}));B$.displayName=ZN.displayName;var mx=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},gx=typeof window>"u"||"Deno"in globalThis;function _i(){}function V$(n,e){return typeof n=="function"?n(e):n}function $$(n){return typeof n=="number"&&n>=0&&n!==1/0}function U$(n,e){return Math.max(n+(e||0)-Date.now(),0)}function H1(n,e){return typeof n=="function"?n(e):n}function z$(n,e){return typeof n=="function"?n(e):n}function XP(n,e){const{type:t="all",exact:s,fetchStatus:i,predicate:r,queryKey:o,stale:a}=n;if(o){if(s){if(e.queryHash!==tC(o,e.options))return!1}else if(!Cm(e.queryKey,o))return!1}if(t!=="all"){const c=e.isActive();if(t==="active"&&!c||t==="inactive"&&c)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||r&&!r(e))}function YP(n,e){const{exact:t,status:s,predicate:i,mutationKey:r}=n;if(r){if(!e.options.mutationKey)return!1;if(t){if(Em(e.options.mutationKey)!==Em(r))return!1}else if(!Cm(e.options.mutationKey,r))return!1}return!(s&&e.state.status!==s||i&&!i(e))}function tC(n,e){return((e==null?void 0:e.queryKeyHashFn)||Em)(n)}function Em(n){return JSON.stringify(n,(e,t)=>W1(t)?Object.keys(t).sort().reduce((s,i)=>(s[i]=t[i],s),{}):t)}function Cm(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?Object.keys(e).every(t=>Cm(n[t],e[t])):!1}function JN(n,e){if(n===e)return n;const t=KP(n)&&KP(e);if(t||W1(n)&&W1(e)){const s=t?n:Object.keys(n),i=s.length,r=t?e:Object.keys(e),o=r.length,a=t?[]:{},c=new Set(s);let u=0;for(let d=0;d<o;d++){const h=t?d:r[d];(!t&&c.has(h)||t)&&n[h]===void 0&&e[h]===void 0?(a[h]=void 0,u++):(a[h]=JN(n[h],e[h]),a[h]===n[h]&&n[h]!==void 0&&u++)}return i===o&&u===i?n:a}return e}function KP(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function W1(n){if(!QP(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!QP(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function QP(n){return Object.prototype.toString.call(n)==="[object Object]"}function H$(n){return new Promise(e=>{setTimeout(e,n)})}function W$(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?JN(n,e):e}function G$(n,e,t=0){const s=[...n,e];return t&&s.length>t?s.slice(1):s}function q$(n,e,t=0){const s=[e,...n];return t&&s.length>t?s.slice(0,-1):s}var nC=Symbol();function eD(n,e){return!n.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!n.queryFn||n.queryFn===nC?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}var hc,Aa,Vd,oR,X$=(oR=class extends mx{constructor(){super();S(this,hc);S(this,Aa);S(this,Vd);w(this,Vd,e=>{if(!gx&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){l(this,Aa)||this.setEventListener(l(this,Vd))}onUnsubscribe(){var e;this.hasListeners()||((e=l(this,Aa))==null||e.call(this),w(this,Aa,void 0))}setEventListener(e){var t;w(this,Vd,e),(t=l(this,Aa))==null||t.call(this),w(this,Aa,e(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(e){l(this,hc)!==e&&(w(this,hc,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof l(this,hc)=="boolean"?l(this,hc):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},hc=new WeakMap,Aa=new WeakMap,Vd=new WeakMap,oR),tD=new X$,$d,Sa,Ud,aR,Y$=(aR=class extends mx{constructor(){super();S(this,$d,!0);S(this,Sa);S(this,Ud);w(this,Ud,e=>{if(!gx&&window.addEventListener){const t=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",s)}}})}onSubscribe(){l(this,Sa)||this.setEventListener(l(this,Ud))}onUnsubscribe(){var e;this.hasListeners()||((e=l(this,Sa))==null||e.call(this),w(this,Sa,void 0))}setEventListener(e){var t;w(this,Ud,e),(t=l(this,Sa))==null||t.call(this),w(this,Sa,e(this.setOnline.bind(this)))}setOnline(e){l(this,$d)!==e&&(w(this,$d,e),this.listeners.forEach(s=>{s(e)}))}isOnline(){return l(this,$d)}},$d=new WeakMap,Sa=new WeakMap,Ud=new WeakMap,aR),tw=new Y$;function K$(){let n,e;const t=new Promise((i,r)=>{n=i,e=r});t.status="pending",t.catch(()=>{});function s(i){Object.assign(t,i),delete t.resolve,delete t.reject}return t.resolve=i=>{s({status:"fulfilled",value:i}),n(i)},t.reject=i=>{s({status:"rejected",reason:i}),e(i)},t}function Q$(n){return Math.min(1e3*2**n,3e4)}function nD(n){return(n??"online")==="online"?tw.isOnline():!0}var sD=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function yb(n){return n instanceof sD}function iD(n){let e=!1,t=0,s=!1,i;const r=K$(),o=m=>{var b;s||(f(new sD(m)),(b=n.abort)==null||b.call(n))},a=()=>{e=!0},c=()=>{e=!1},u=()=>tD.isFocused()&&(n.networkMode==="always"||tw.isOnline())&&n.canRun(),d=()=>nD(n.networkMode)&&n.canRun(),h=m=>{var b;s||(s=!0,(b=n.onSuccess)==null||b.call(n,m),i==null||i(),r.resolve(m))},f=m=>{var b;s||(s=!0,(b=n.onError)==null||b.call(n,m),i==null||i(),r.reject(m))},p=()=>new Promise(m=>{var b;i=g=>{(s||u())&&m(g)},(b=n.onPause)==null||b.call(n)}).then(()=>{var m;i=void 0,s||(m=n.onContinue)==null||m.call(n)}),y=()=>{if(s)return;let m;const b=t===0?n.initialPromise:void 0;try{m=b??n.fn()}catch(g){m=Promise.reject(g)}Promise.resolve(m).then(h).catch(g=>{var k;if(s)return;const v=n.retry??(gx?0:3),A=n.retryDelay??Q$,E=typeof A=="function"?A(t,g):A,T=v===!0||typeof v=="number"&&t<v||typeof v=="function"&&v(t,g);if(e||!T){f(g);return}t++,(k=n.onFail)==null||k.call(n,t,g),H$(E).then(()=>u()?void 0:p()).then(()=>{e?f(g):y()})})};return{promise:r,cancel:o,continue:()=>(i==null||i(),r),cancelRetry:a,continueRetry:c,canStart:d,start:()=>(d()?y():p().then(y),r)}}var Z$=n=>setTimeout(n,0);function J$(){let n=[],e=0,t=a=>{a()},s=a=>{a()},i=Z$;const r=a=>{e?n.push(a):i(()=>{t(a)})},o=()=>{const a=n;n=[],a.length&&i(()=>{s(()=>{a.forEach(c=>{t(c)})})})};return{batch:a=>{let c;e++;try{c=a()}finally{e--,e||o()}return c},batchCalls:a=>(...c)=>{r(()=>{a(...c)})},schedule:r,setNotifyFunction:a=>{t=a},setBatchNotifyFunction:a=>{s=a},setScheduler:a=>{i=a}}}var Un=J$(),fc,lR,rD=(lR=class{constructor(){S(this,fc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),$$(this.gcTime)&&w(this,fc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(gx?1/0:5*60*1e3))}clearGcTimeout(){l(this,fc)&&(clearTimeout(l(this,fc)),w(this,fc,void 0))}},fc=new WeakMap,lR),zd,pc,Ys,mc,wn,$m,gc,Ri,Jr,cR,eU=(cR=class extends rD{constructor(e){super();S(this,Ri);S(this,zd);S(this,pc);S(this,Ys);S(this,mc);S(this,wn);S(this,$m);S(this,gc);w(this,gc,!1),w(this,$m,e.defaultOptions),this.setOptions(e.options),this.observers=[],w(this,mc,e.client),w(this,Ys,l(this,mc).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,w(this,zd,nU(this.options)),this.state=e.state??l(this,zd),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=l(this,wn))==null?void 0:e.promise}setOptions(e){this.options={...l(this,$m),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&l(this,Ys).remove(this)}setData(e,t){const s=W$(this.state.data,e,this.options);return C(this,Ri,Jr).call(this,{data:s,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),s}setState(e,t){C(this,Ri,Jr).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var s,i;const t=(s=l(this,wn))==null?void 0:s.promise;return(i=l(this,wn))==null||i.cancel(e),t?t.then(_i).catch(_i):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(l(this,zd))}isActive(){return this.observers.some(e=>z$(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===nC||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>H1(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!U$(this.state.dataUpdatedAt,e)}onFocus(){var t;const e=this.observers.find(s=>s.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=l(this,wn))==null||t.continue()}onOnline(){var t;const e=this.observers.find(s=>s.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=l(this,wn))==null||t.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),l(this,Ys).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(l(this,wn)&&(l(this,gc)?l(this,wn).cancel({revert:!0}):l(this,wn).cancelRetry()),this.scheduleGc()),l(this,Ys).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||C(this,Ri,Jr).call(this,{type:"invalidate"})}fetch(e,t){var u,d,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(t!=null&&t.cancelRefetch))this.cancel({silent:!0});else if(l(this,wn))return l(this,wn).continueRetry(),l(this,wn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(p=>p.options.queryFn);f&&this.setOptions(f.options)}const s=new AbortController,i=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(w(this,gc,!0),s.signal)})},r=()=>{const f=eD(this.options,t),y=(()=>{const m={client:l(this,mc),queryKey:this.queryKey,meta:this.meta};return i(m),m})();return w(this,gc,!1),this.options.persister?this.options.persister(f,y,this):f(y)},a=(()=>{const f={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:l(this,mc),state:this.state,fetchFn:r};return i(f),f})();(u=this.options.behavior)==null||u.onFetch(a,this),w(this,pc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&C(this,Ri,Jr).call(this,{type:"fetch",meta:(h=a.fetchOptions)==null?void 0:h.meta});const c=f=>{var p,y,m,b;yb(f)&&f.silent||C(this,Ri,Jr).call(this,{type:"error",error:f}),yb(f)||((y=(p=l(this,Ys).config).onError)==null||y.call(p,f,this),(b=(m=l(this,Ys).config).onSettled)==null||b.call(m,this.state.data,f,this)),this.scheduleGc()};return w(this,wn,iD({initialPromise:t==null?void 0:t.initialPromise,fn:a.fetchFn,abort:s.abort.bind(s),onSuccess:f=>{var p,y,m,b;if(f===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(g){c(g);return}(y=(p=l(this,Ys).config).onSuccess)==null||y.call(p,f,this),(b=(m=l(this,Ys).config).onSettled)==null||b.call(m,f,this.state.error,this),this.scheduleGc()},onError:c,onFail:(f,p)=>{C(this,Ri,Jr).call(this,{type:"failed",failureCount:f,error:p})},onPause:()=>{C(this,Ri,Jr).call(this,{type:"pause"})},onContinue:()=>{C(this,Ri,Jr).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),l(this,wn).start()}},zd=new WeakMap,pc=new WeakMap,Ys=new WeakMap,mc=new WeakMap,wn=new WeakMap,$m=new WeakMap,gc=new WeakMap,Ri=new WeakSet,Jr=function(e){const t=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...tU(s.data,this.options),fetchMeta:e.meta??null};case"success":return w(this,pc,void 0),{...s,data:e.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return yb(i)&&i.revert&&l(this,pc)?{...l(this,pc),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=t(this.state),Un.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),l(this,Ys).notify({query:this,type:"updated",action:e})})},cR);function tU(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:nD(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function nU(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,s=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var hr,uR,sU=(uR=class extends mx{constructor(e={}){super();S(this,hr);this.config=e,w(this,hr,new Map)}build(e,t,s){const i=t.queryKey,r=t.queryHash??tC(i,t);let o=this.get(r);return o||(o=new eU({client:e,queryKey:i,queryHash:r,options:e.defaultQueryOptions(t),state:s,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){l(this,hr).has(e.queryHash)||(l(this,hr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=l(this,hr).get(e.queryHash);t&&(e.destroy(),t===e&&l(this,hr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Un.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return l(this,hr).get(e)}getAll(){return[...l(this,hr).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(s=>XP(t,s))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(s=>XP(e,s)):t}notify(e){Un.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Un.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Un.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},hr=new WeakMap,uR),fr,Fn,yc,pr,ma,dR,iU=(dR=class extends rD{constructor(e){super();S(this,pr);S(this,fr);S(this,Fn);S(this,yc);this.mutationId=e.mutationId,w(this,Fn,e.mutationCache),w(this,fr,[]),this.state=e.state||rU(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){l(this,fr).includes(e)||(l(this,fr).push(e),this.clearGcTimeout(),l(this,Fn).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){w(this,fr,l(this,fr).filter(t=>t!==e)),this.scheduleGc(),l(this,Fn).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){l(this,fr).length||(this.state.status==="pending"?this.scheduleGc():l(this,Fn).remove(this))}continue(){var e;return((e=l(this,yc))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var r,o,a,c,u,d,h,f,p,y,m,b,g,v,A,E,T,k,_,R;const t=()=>{C(this,pr,ma).call(this,{type:"continue"})};w(this,yc,iD({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(M,N)=>{C(this,pr,ma).call(this,{type:"failed",failureCount:M,error:N})},onPause:()=>{C(this,pr,ma).call(this,{type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>l(this,Fn).canRun(this)}));const s=this.state.status==="pending",i=!l(this,yc).canStart();try{if(s)t();else{C(this,pr,ma).call(this,{type:"pending",variables:e,isPaused:i}),await((o=(r=l(this,Fn).config).onMutate)==null?void 0:o.call(r,e,this));const N=await((c=(a=this.options).onMutate)==null?void 0:c.call(a,e));N!==this.state.context&&C(this,pr,ma).call(this,{type:"pending",context:N,variables:e,isPaused:i})}const M=await l(this,yc).start();return await((d=(u=l(this,Fn).config).onSuccess)==null?void 0:d.call(u,M,e,this.state.context,this)),await((f=(h=this.options).onSuccess)==null?void 0:f.call(h,M,e,this.state.context)),await((y=(p=l(this,Fn).config).onSettled)==null?void 0:y.call(p,M,null,this.state.variables,this.state.context,this)),await((b=(m=this.options).onSettled)==null?void 0:b.call(m,M,null,e,this.state.context)),C(this,pr,ma).call(this,{type:"success",data:M}),M}catch(M){try{throw await((v=(g=l(this,Fn).config).onError)==null?void 0:v.call(g,M,e,this.state.context,this)),await((E=(A=this.options).onError)==null?void 0:E.call(A,M,e,this.state.context)),await((k=(T=l(this,Fn).config).onSettled)==null?void 0:k.call(T,void 0,M,this.state.variables,this.state.context,this)),await((R=(_=this.options).onSettled)==null?void 0:R.call(_,void 0,M,e,this.state.context)),M}finally{C(this,pr,ma).call(this,{type:"error",error:M})}}finally{l(this,Fn).runNext(this)}}},fr=new WeakMap,Fn=new WeakMap,yc=new WeakMap,pr=new WeakSet,ma=function(e){const t=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Un.batch(()=>{l(this,fr).forEach(s=>{s.onMutationUpdate(e)}),l(this,Fn).notify({mutation:this,type:"updated",action:e})})},dR);function rU(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ao,Mi,Um,hR,oU=(hR=class extends mx{constructor(e={}){super();S(this,ao);S(this,Mi);S(this,Um);this.config=e,w(this,ao,new Set),w(this,Mi,new Map),w(this,Um,0)}build(e,t,s){const i=new iU({mutationCache:this,mutationId:++gt(this,Um)._,options:e.defaultMutationOptions(t),state:s});return this.add(i),i}add(e){l(this,ao).add(e);const t=fv(e);if(typeof t=="string"){const s=l(this,Mi).get(t);s?s.push(e):l(this,Mi).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(l(this,ao).delete(e)){const t=fv(e);if(typeof t=="string"){const s=l(this,Mi).get(t);if(s)if(s.length>1){const i=s.indexOf(e);i!==-1&&s.splice(i,1)}else s[0]===e&&l(this,Mi).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=fv(e);if(typeof t=="string"){const s=l(this,Mi).get(t),i=s==null?void 0:s.find(r=>r.state.status==="pending");return!i||i===e}else return!0}runNext(e){var s;const t=fv(e);if(typeof t=="string"){const i=(s=l(this,Mi).get(t))==null?void 0:s.find(r=>r!==e&&r.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Un.batch(()=>{l(this,ao).forEach(e=>{this.notify({type:"removed",mutation:e})}),l(this,ao).clear(),l(this,Mi).clear()})}getAll(){return Array.from(l(this,ao))}find(e){const t={exact:!0,...e};return this.getAll().find(s=>YP(t,s))}findAll(e={}){return this.getAll().filter(t=>YP(e,t))}notify(e){Un.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Un.batch(()=>Promise.all(e.map(t=>t.continue().catch(_i))))}},ao=new WeakMap,Mi=new WeakMap,Um=new WeakMap,hR);function fv(n){var e;return(e=n.options.scope)==null?void 0:e.id}function ZP(n){return{onFetch:(e,t)=>{var d,h,f,p,y;const s=e.options,i=(f=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,r=((p=e.state.data)==null?void 0:p.pages)||[],o=((y=e.state.data)==null?void 0:y.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const u=async()=>{let m=!1;const b=A=>{Object.defineProperty(A,"signal",{enumerable:!0,get:()=>(e.signal.aborted?m=!0:e.signal.addEventListener("abort",()=>{m=!0}),e.signal)})},g=eD(e.options,e.fetchOptions),v=async(A,E,T)=>{if(m)return Promise.reject();if(E==null&&A.pages.length)return Promise.resolve(A);const _=(()=>{const L={client:e.client,queryKey:e.queryKey,pageParam:E,direction:T?"backward":"forward",meta:e.options.meta};return b(L),L})(),R=await g(_),{maxPages:M}=e.options,N=T?q$:G$;return{pages:N(A.pages,R,M),pageParams:N(A.pageParams,E,M)}};if(i&&r.length){const A=i==="backward",E=A?aU:JP,T={pages:r,pageParams:o},k=E(s,T);a=await v(T,k,A)}else{const A=n??r.length;do{const E=c===0?o[0]??s.initialPageParam:JP(s,a);if(c>0&&E==null)break;a=await v(a,E),c++}while(c<A)}return a};e.options.persister?e.fetchFn=()=>{var m,b;return(b=(m=e.options).persister)==null?void 0:b.call(m,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=u}}}function JP(n,{pages:e,pageParams:t}){const s=e.length-1;return e.length>0?n.getNextPageParam(e[s],e,t[s],t):void 0}function aU(n,{pages:e,pageParams:t}){var s;return e.length>0?(s=n.getPreviousPageParam)==null?void 0:s.call(n,e[0],e,t[0],t):void 0}var yt,Ea,Ca,Hd,Wd,Ta,Gd,qd,fR,lU=(fR=class{constructor(n={}){S(this,yt);S(this,Ea);S(this,Ca);S(this,Hd);S(this,Wd);S(this,Ta);S(this,Gd);S(this,qd);w(this,yt,n.queryCache||new sU),w(this,Ea,n.mutationCache||new oU),w(this,Ca,n.defaultOptions||{}),w(this,Hd,new Map),w(this,Wd,new Map),w(this,Ta,0)}mount(){gt(this,Ta)._++,l(this,Ta)===1&&(w(this,Gd,tD.subscribe(async n=>{n&&(await this.resumePausedMutations(),l(this,yt).onFocus())})),w(this,qd,tw.subscribe(async n=>{n&&(await this.resumePausedMutations(),l(this,yt).onOnline())})))}unmount(){var n,e;gt(this,Ta)._--,l(this,Ta)===0&&((n=l(this,Gd))==null||n.call(this),w(this,Gd,void 0),(e=l(this,qd))==null||e.call(this),w(this,qd,void 0))}isFetching(n){return l(this,yt).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return l(this,Ea).findAll({...n,status:"pending"}).length}getQueryData(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=l(this,yt).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),t=l(this,yt).build(this,e),s=t.state.data;return s===void 0?this.fetchQuery(n):(n.revalidateIfStale&&t.isStaleByTime(H1(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(s))}getQueriesData(n){return l(this,yt).findAll(n).map(({queryKey:e,state:t})=>{const s=t.data;return[e,s]})}setQueryData(n,e,t){const s=this.defaultQueryOptions({queryKey:n}),i=l(this,yt).get(s.queryHash),r=i==null?void 0:i.state.data,o=V$(e,r);if(o!==void 0)return l(this,yt).build(this,s).setData(o,{...t,manual:!0})}setQueriesData(n,e,t){return Un.batch(()=>l(this,yt).findAll(n).map(({queryKey:s})=>[s,this.setQueryData(s,e,t)]))}getQueryState(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=l(this,yt).get(e.queryHash))==null?void 0:t.state}removeQueries(n){const e=l(this,yt);Un.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=l(this,yt);return Un.batch(()=>(t.findAll(n).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...n},e)))}cancelQueries(n,e={}){const t={revert:!0,...e},s=Un.batch(()=>l(this,yt).findAll(n).map(i=>i.cancel(t)));return Promise.all(s).then(_i).catch(_i)}invalidateQueries(n,e={}){return Un.batch(()=>(l(this,yt).findAll(n).forEach(t=>{t.invalidate()}),(n==null?void 0:n.refetchType)==="none"?Promise.resolve():this.refetchQueries({...n,type:(n==null?void 0:n.refetchType)??(n==null?void 0:n.type)??"active"},e)))}refetchQueries(n,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},s=Un.batch(()=>l(this,yt).findAll(n).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let r=i.fetch(void 0,t);return t.throwOnError||(r=r.catch(_i)),i.state.fetchStatus==="paused"?Promise.resolve():r}));return Promise.all(s).then(_i)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=l(this,yt).build(this,e);return t.isStaleByTime(H1(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(_i).catch(_i)}fetchInfiniteQuery(n){return n.behavior=ZP(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(_i).catch(_i)}ensureInfiniteQueryData(n){return n.behavior=ZP(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return tw.isOnline()?l(this,Ea).resumePausedMutations():Promise.resolve()}getQueryCache(){return l(this,yt)}getMutationCache(){return l(this,Ea)}getDefaultOptions(){return l(this,Ca)}setDefaultOptions(n){w(this,Ca,n)}setQueryDefaults(n,e){l(this,Hd).set(Em(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...l(this,Hd).values()],t={};return e.forEach(s=>{Cm(n,s.queryKey)&&Object.assign(t,s.defaultOptions)}),t}setMutationDefaults(n,e){l(this,Wd).set(Em(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...l(this,Wd).values()],t={};return e.forEach(s=>{Cm(n,s.mutationKey)&&Object.assign(t,s.defaultOptions)}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...l(this,Ca).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=tC(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===nC&&(e.enabled=!1),e}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...l(this,Ca).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){l(this,yt).clear(),l(this,Ea).clear()}},yt=new WeakMap,Ea=new WeakMap,Ca=new WeakMap,Hd=new WeakMap,Wd=new WeakMap,Ta=new WeakMap,Gd=new WeakMap,qd=new WeakMap,fR),cU=P.createContext(void 0),uU=({client:n,children:e})=>(P.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),x.jsx(cU.Provider,{value:n,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tm(){return Tm=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},Tm.apply(this,arguments)}var Sl;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Sl||(Sl={}));const ek="popstate";function dU(n){n===void 0&&(n={});function e(s,i){let{pathname:r,search:o,hash:a}=s.location;return G1("",{pathname:r,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(s,i){return typeof i=="string"?i:nw(i)}return fU(e,t,null,n)}function Lt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function oD(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function hU(){return Math.random().toString(36).substr(2,8)}function tk(n,e){return{usr:n.state,key:n.key,idx:e}}function G1(n,e,t,s){return t===void 0&&(t=null),Tm({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Wf(e):e,{state:t,key:e&&e.key||s||hU()})}function nw(n){let{pathname:e="/",search:t="",hash:s=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function Wf(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let s=n.indexOf("?");s>=0&&(e.search=n.substr(s),n=n.substr(0,s)),n&&(e.pathname=n)}return e}function fU(n,e,t,s){s===void 0&&(s={});let{window:i=document.defaultView,v5Compat:r=!1}=s,o=i.history,a=Sl.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Tm({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=Sl.Pop;let b=d(),g=b==null?null:b-u;u=b,c&&c({action:a,location:m.location,delta:g})}function f(b,g){a=Sl.Push;let v=G1(m.location,b,g);u=d()+1;let A=tk(v,u),E=m.createHref(v);try{o.pushState(A,"",E)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(E)}r&&c&&c({action:a,location:m.location,delta:1})}function p(b,g){a=Sl.Replace;let v=G1(m.location,b,g);u=d();let A=tk(v,u),E=m.createHref(v);o.replaceState(A,"",E),r&&c&&c({action:a,location:m.location,delta:0})}function y(b){let g=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof b=="string"?b:nw(b);return v=v.replace(/ $/,"%20"),Lt(g,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,g)}let m={get action(){return a},get location(){return n(i,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(ek,h),c=b,()=>{i.removeEventListener(ek,h),c=null}},createHref(b){return e(i,b)},createURL:y,encodeLocation(b){let g=y(b);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:p,go(b){return o.go(b)}};return m}var nk;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(nk||(nk={}));function pU(n,e,t){return t===void 0&&(t="/"),mU(n,e,t,!1)}function mU(n,e,t,s){let i=typeof e=="string"?Wf(e):e,r=sC(i.pathname||"/",t);if(r==null)return null;let o=aD(n);gU(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let u=PU(r);a=CU(o[c],u,s)}return a}function aD(n,e,t,s){e===void 0&&(e=[]),t===void 0&&(t=[]),s===void 0&&(s="");let i=(r,o,a)=>{let c={relativePath:a===void 0?r.path||"":a,caseSensitive:r.caseSensitive===!0,childrenIndex:o,route:r};c.relativePath.startsWith("/")&&(Lt(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let u=Nl([s,c.relativePath]),d=t.concat(c);r.children&&r.children.length>0&&(Lt(r.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),aD(r.children,e,d,u)),!(r.path==null&&!r.index)&&e.push({path:u,score:SU(u,r.index),routesMeta:d})};return n.forEach((r,o)=>{var a;if(r.path===""||!((a=r.path)!=null&&a.includes("?")))i(r,o);else for(let c of lD(r.path))i(r,o,c)}),e}function lD(n){let e=n.split("/");if(e.length===0)return[];let[t,...s]=e,i=t.endsWith("?"),r=t.replace(/\?$/,"");if(s.length===0)return i?[r,""]:[r];let o=lD(s.join("/")),a=[];return a.push(...o.map(c=>c===""?r:[r,c].join("/"))),i&&a.push(...o),a.map(c=>n.startsWith("/")&&c===""?"/":c)}function gU(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:EU(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}const yU=/^:[\w-]+$/,vU=3,wU=2,xU=1,bU=10,AU=-2,sk=n=>n==="*";function SU(n,e){let t=n.split("/"),s=t.length;return t.some(sk)&&(s+=AU),e&&(s+=wU),t.filter(i=>!sk(i)).reduce((i,r)=>i+(yU.test(r)?vU:r===""?xU:bU),s)}function EU(n,e){return n.length===e.length&&n.slice(0,-1).every((s,i)=>s===e[i])?n[n.length-1]-e[e.length-1]:0}function CU(n,e,t){let{routesMeta:s}=n,i={},r="/",o=[];for(let a=0;a<s.length;++a){let c=s[a],u=a===s.length-1,d=r==="/"?e:e.slice(r.length)||"/",h=ik({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h&&u&&t&&!s[s.length-1].route.index&&(h=ik({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:Nl([r,h.pathname]),pathnameBase:MU(Nl([r,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(r=Nl([r,h.pathnameBase]))}return o}function ik(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,s]=TU(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let r=i[0],o=r.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:s.reduce((u,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let m=a[h]||"";o=r.slice(0,r.length-m.length).replace(/(.)\/+$/,"$1")}const y=a[h];return p&&!y?u[f]=void 0:u[f]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:r,pathnameBase:o,pattern:n}}function TU(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),oD(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let s=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(s.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(s.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),s]}function PU(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return oD(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function sC(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=n.charAt(t);return s&&s!=="/"?null:n.slice(t)||"/"}function kU(n,e){e===void 0&&(e="/");let{pathname:t,search:s="",hash:i=""}=typeof n=="string"?Wf(n):n;return{pathname:t?t.startsWith("/")?t:_U(t,e):e,search:NU(s),hash:DU(i)}}function _U(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function vb(n,e,t,s){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function RU(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function cD(n,e){let t=RU(n);return e?t.map((s,i)=>i===t.length-1?s.pathname:s.pathnameBase):t.map(s=>s.pathnameBase)}function uD(n,e,t,s){s===void 0&&(s=!1);let i;typeof n=="string"?i=Wf(n):(i=Tm({},n),Lt(!i.pathname||!i.pathname.includes("?"),vb("?","pathname","search",i)),Lt(!i.pathname||!i.pathname.includes("#"),vb("#","pathname","hash",i)),Lt(!i.search||!i.search.includes("#"),vb("#","search","hash",i)));let r=n===""||i.pathname==="",o=r?"/":i.pathname,a;if(o==null)a=t;else{let h=e.length-1;if(!s&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let c=kU(i,a),u=o&&o!=="/"&&o.endsWith("/"),d=(r||o===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Nl=n=>n.join("/").replace(/\/\/+/g,"/"),MU=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),NU=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,DU=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function LU(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const dD=["post","put","patch","delete"];new Set(dD);const IU=["get",...dD];new Set(IU);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pm(){return Pm=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},Pm.apply(this,arguments)}const iC=P.createContext(null),FU=P.createContext(null),Hu=P.createContext(null),yx=P.createContext(null),Wu=P.createContext({outlet:null,matches:[],isDataRoute:!1}),hD=P.createContext(null);function OU(n,e){let{relative:t}=e===void 0?{}:e;My()||Lt(!1);let{basename:s,navigator:i}=P.useContext(Hu),{hash:r,pathname:o,search:a}=pD(n,{relative:t}),c=o;return s!=="/"&&(c=o==="/"?s:Nl([s,o])),i.createHref({pathname:c,search:a,hash:r})}function My(){return P.useContext(yx)!=null}function Gf(){return My()||Lt(!1),P.useContext(yx).location}function fD(n){P.useContext(Hu).static||P.useLayoutEffect(n)}function jU(){let{isDataRoute:n}=P.useContext(Wu);return n?QU():BU()}function BU(){My()||Lt(!1);let n=P.useContext(iC),{basename:e,future:t,navigator:s}=P.useContext(Hu),{matches:i}=P.useContext(Wu),{pathname:r}=Gf(),o=JSON.stringify(cD(i,t.v7_relativeSplatPath)),a=P.useRef(!1);return fD(()=>{a.current=!0}),P.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){s.go(u);return}let h=uD(u,JSON.parse(o),r,d.relative==="path");n==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Nl([e,h.pathname])),(d.replace?s.replace:s.push)(h,d.state,d)},[e,s,o,r,n])}function pD(n,e){let{relative:t}=e===void 0?{}:e,{future:s}=P.useContext(Hu),{matches:i}=P.useContext(Wu),{pathname:r}=Gf(),o=JSON.stringify(cD(i,s.v7_relativeSplatPath));return P.useMemo(()=>uD(n,JSON.parse(o),r,t==="path"),[n,o,r,t])}function VU(n,e){return $U(n,e)}function $U(n,e,t,s){My()||Lt(!1);let{navigator:i}=P.useContext(Hu),{matches:r}=P.useContext(Wu),o=r[r.length-1],a=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Gf(),d;if(e){var h;let b=typeof e=="string"?Wf(e):e;c==="/"||(h=b.pathname)!=null&&h.startsWith(c)||Lt(!1),d=b}else d=u;let f=d.pathname||"/",p=f;if(c!=="/"){let b=c.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(b.length).join("/")}let y=pU(n,{pathname:p}),m=GU(y&&y.map(b=>Object.assign({},b,{params:Object.assign({},a,b.params),pathname:Nl([c,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:Nl([c,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),r,t,s);return e&&m?P.createElement(yx.Provider,{value:{location:Pm({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Sl.Pop}},m):m}function UU(){let n=KU(),e=LU(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),t?P.createElement("pre",{style:i},t):null,null)}const zU=P.createElement(UU,null);class HU extends P.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?P.createElement(Wu.Provider,{value:this.props.routeContext},P.createElement(hD.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function WU(n){let{routeContext:e,match:t,children:s}=n,i=P.useContext(iC);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),P.createElement(Wu.Provider,{value:e},s)}function GU(n,e,t,s){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),s===void 0&&(s=null),n==null){var r;if(!t)return null;if(t.errors)n=t.matches;else if((r=s)!=null&&r.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,a=(i=t)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||Lt(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(t&&s&&s.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:p}=t,y=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||y){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let p,y=!1,m=null,b=null;t&&(p=a&&h.route.id?a[h.route.id]:void 0,m=h.route.errorElement||zU,c&&(u<0&&f===0?(y=!0,b=null):u===f&&(y=!0,b=h.route.hydrateFallbackElement||null)));let g=e.concat(o.slice(0,f+1)),v=()=>{let A;return p?A=m:y?A=b:h.route.Component?A=P.createElement(h.route.Component,null):h.route.element?A=h.route.element:A=d,P.createElement(WU,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:t!=null},children:A})};return t&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?P.createElement(HU,{location:t.location,revalidation:t.revalidation,component:m,error:p,children:v(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):v()},null)}var mD=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(mD||{}),sw=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(sw||{});function qU(n){let e=P.useContext(iC);return e||Lt(!1),e}function XU(n){let e=P.useContext(FU);return e||Lt(!1),e}function YU(n){let e=P.useContext(Wu);return e||Lt(!1),e}function gD(n){let e=YU(),t=e.matches[e.matches.length-1];return t.route.id||Lt(!1),t.route.id}function KU(){var n;let e=P.useContext(hD),t=XU(sw.UseRouteError),s=gD(sw.UseRouteError);return e!==void 0?e:(n=t.errors)==null?void 0:n[s]}function QU(){let{router:n}=qU(mD.UseNavigateStable),e=gD(sw.UseNavigateStable),t=P.useRef(!1);return fD(()=>{t.current=!0}),P.useCallback(function(i,r){r===void 0&&(r={}),t.current&&(typeof i=="number"?n.navigate(i):n.navigate(i,Pm({fromRouteId:e},r)))},[n,e])}function ZU(n,e){n==null||n.v7_startTransition,n==null||n.v7_relativeSplatPath}function Dn(n){Lt(!1)}function JU(n){let{basename:e="/",children:t=null,location:s,navigationType:i=Sl.Pop,navigator:r,static:o=!1,future:a}=n;My()&&Lt(!1);let c=e.replace(/^\/*/,"/"),u=P.useMemo(()=>({basename:c,navigator:r,static:o,future:Pm({v7_relativeSplatPath:!1},a)}),[c,a,r,o]);typeof s=="string"&&(s=Wf(s));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:y="default"}=s,m=P.useMemo(()=>{let b=sC(d,c);return b==null?null:{location:{pathname:b,search:h,hash:f,state:p,key:y},navigationType:i}},[c,d,h,f,p,y,i]);return m==null?null:P.createElement(Hu.Provider,{value:u},P.createElement(yx.Provider,{children:t,value:m}))}function ez(n){let{children:e,location:t}=n;return VU(q1(e),t)}new Promise(()=>{});function q1(n,e){e===void 0&&(e=[]);let t=[];return P.Children.forEach(n,(s,i)=>{if(!P.isValidElement(s))return;let r=[...e,i];if(s.type===P.Fragment){t.push.apply(t,q1(s.props.children,r));return}s.type!==Dn&&Lt(!1),!s.props.index||!s.props.children||Lt(!1);let o={id:s.props.id||r.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=q1(s.props.children,r)),t.push(o)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function X1(){return X1=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},X1.apply(this,arguments)}function tz(n,e){if(n==null)return{};var t={},s=Object.keys(n),i,r;for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function nz(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function sz(n,e){return n.button===0&&(!e||e==="_self")&&!nz(n)}const iz=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],rz="6";try{window.__reactRouterVersion=rz}catch{}const oz="startTransition",rk=YS[oz];function az(n){let{basename:e,children:t,future:s,window:i}=n,r=P.useRef();r.current==null&&(r.current=dU({window:i,v5Compat:!0}));let o=r.current,[a,c]=P.useState({action:o.action,location:o.location}),{v7_startTransition:u}=s||{},d=P.useCallback(h=>{u&&rk?rk(()=>c(h)):c(h)},[c,u]);return P.useLayoutEffect(()=>o.listen(d),[o,d]),P.useEffect(()=>ZU(s),[s]),P.createElement(JU,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:o,future:s})}const lz=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",cz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,di=P.forwardRef(function(e,t){let{onClick:s,relative:i,reloadDocument:r,replace:o,state:a,target:c,to:u,preventScrollReset:d,viewTransition:h}=e,f=tz(e,iz),{basename:p}=P.useContext(Hu),y,m=!1;if(typeof u=="string"&&cz.test(u)&&(y=u,lz))try{let A=new URL(window.location.href),E=u.startsWith("//")?new URL(A.protocol+u):new URL(u),T=sC(E.pathname,p);E.origin===A.origin&&T!=null?u=T+E.search+E.hash:m=!0}catch{}let b=OU(u,{relative:i}),g=uz(u,{replace:o,state:a,target:c,preventScrollReset:d,relative:i,viewTransition:h});function v(A){s&&s(A),A.defaultPrevented||g(A)}return P.createElement("a",X1({},f,{href:y||b,onClick:m||r?s:v,ref:t,target:c}))});var ok;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(ok||(ok={}));var ak;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(ak||(ak={}));function uz(n,e){let{target:t,replace:s,state:i,preventScrollReset:r,relative:o,viewTransition:a}=e===void 0?{}:e,c=jU(),u=Gf(),d=pD(n,{relative:o});return P.useCallback(h=>{if(sz(h,t)){h.preventDefault();let f=s!==void 0?s:nw(u)===nw(d);c(n,{replace:f,state:i,preventScrollReset:r,relative:o,viewTransition:a})}},[u,c,d,s,i,t,n,r,o,a])}const rC=P.createContext({});function oC(n){const e=P.useRef(null);return e.current===null&&(e.current=n()),e.current}const aC=typeof window<"u",yD=aC?P.useLayoutEffect:P.useEffect,vx=P.createContext(null);function lC(n,e){n.indexOf(e)===-1&&n.push(e)}function cC(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const ea=(n,e,t)=>t>e?e:t<n?n:t;let iw=()=>{};const ta={},vD=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function wD(n){return typeof n=="object"&&n!==null}const xD=n=>/^0[^.\s]+$/u.test(n);function uC(n){let e;return()=>(e===void 0&&(e=n()),e)}const pi=n=>n,dz=(n,e)=>t=>e(n(t)),Ny=(...n)=>n.reduce(dz),km=(n,e,t)=>{const s=e-n;return s===0?1:(t-n)/s};class dC{constructor(){this.subscriptions=[]}add(e){return lC(this.subscriptions,e),()=>cC(this.subscriptions,e)}notify(e,t,s){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,s);else for(let r=0;r<i;r++){const o=this.subscriptions[r];o&&o(e,t,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Wr=n=>n*1e3,hi=n=>n/1e3;function bD(n,e){return e?n*(1e3/e):0}const AD=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,hz=1e-7,fz=12;function pz(n,e,t,s,i){let r,o,a=0;do o=e+(t-e)/2,r=AD(o,s,i)-n,r>0?t=o:e=o;while(Math.abs(r)>hz&&++a<fz);return o}function Dy(n,e,t,s){if(n===e&&t===s)return pi;const i=r=>pz(r,0,1,n,t);return r=>r===0||r===1?r:AD(i(r),e,s)}const SD=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,ED=n=>e=>1-n(1-e),CD=Dy(.33,1.53,.69,.99),hC=ED(CD),TD=SD(hC),PD=n=>(n*=2)<1?.5*hC(n):.5*(2-Math.pow(2,-10*(n-1))),fC=n=>1-Math.sin(Math.acos(n)),kD=ED(fC),_D=SD(fC),mz=Dy(.42,0,1,1),gz=Dy(0,0,.58,1),RD=Dy(.42,0,.58,1),yz=n=>Array.isArray(n)&&typeof n[0]!="number",MD=n=>Array.isArray(n)&&typeof n[0]=="number",lk={linear:pi,easeIn:mz,easeInOut:RD,easeOut:gz,circIn:fC,circInOut:_D,circOut:kD,backIn:hC,backInOut:TD,backOut:CD,anticipate:PD},vz=n=>typeof n=="string",ck=n=>{if(MD(n)){iw(n.length===4);const[e,t,s,i]=n;return Dy(e,t,s,i)}else if(vz(n))return iw(lk[n]!==void 0),lk[n];return n},pv=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],uk={value:null,addProjectionMetrics:null};function wz(n,e){let t=new Set,s=new Set,i=!1,r=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},c=0;function u(h){o.has(h)&&(d.schedule(h),n()),c++,h(a)}const d={schedule:(h,f=!1,p=!1)=>{const m=p&&i?t:s;return f&&o.add(h),m.has(h)||m.add(h),h},cancel:h=>{s.delete(h),o.delete(h)},process:h=>{if(a=h,i){r=!0;return}i=!0,[t,s]=[s,t],t.forEach(u),e&&uk.value&&uk.value.frameloop[e].push(c),c=0,t.clear(),i=!1,r&&(r=!1,d.process(h))}};return d}const xz=40;function ND(n,e){let t=!1,s=!0;const i={delta:0,timestamp:0,isProcessing:!1},r=()=>t=!0,o=pv.reduce((A,E)=>(A[E]=wz(r,e?E:void 0),A),{}),{setup:a,read:c,resolveKeyframes:u,preUpdate:d,update:h,preRender:f,render:p,postRender:y}=o,m=()=>{const A=ta.useManualTiming?i.timestamp:performance.now();t=!1,ta.useManualTiming||(i.delta=s?1e3/60:Math.max(Math.min(A-i.timestamp,xz),1)),i.timestamp=A,i.isProcessing=!0,a.process(i),c.process(i),u.process(i),d.process(i),h.process(i),f.process(i),p.process(i),y.process(i),i.isProcessing=!1,t&&e&&(s=!1,n(m))},b=()=>{t=!0,s=!0,i.isProcessing||n(m)};return{schedule:pv.reduce((A,E)=>{const T=o[E];return A[E]=(k,_=!1,R=!1)=>(t||b(),T.schedule(k,_,R)),A},{}),cancel:A=>{for(let E=0;E<pv.length;E++)o[pv[E]].cancel(A)},state:i,steps:o}}const{schedule:st,cancel:jl,state:ln,steps:wb}=ND(typeof requestAnimationFrame<"u"?requestAnimationFrame:pi,!0);let zv;function bz(){zv=void 0}const cs={now:()=>(zv===void 0&&cs.set(ln.isProcessing||ta.useManualTiming?ln.timestamp:performance.now()),zv),set:n=>{zv=n,queueMicrotask(bz)}},DD=n=>e=>typeof e=="string"&&e.startsWith(n),LD=DD("--"),Az=DD("var(--"),pC=n=>Az(n)?Sz.test(n.split("/*")[0].trim()):!1,Sz=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,qf={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},_m={...qf,transform:n=>ea(0,1,n)},mv={...qf,default:1},Qp=n=>Math.round(n*1e5)/1e5,mC=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Ez(n){return n==null}const Cz=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,gC=(n,e)=>t=>!!(typeof t=="string"&&Cz.test(t)&&t.startsWith(n)||e&&!Ez(t)&&Object.prototype.hasOwnProperty.call(t,e)),ID=(n,e,t)=>s=>{if(typeof s!="string")return s;const[i,r,o,a]=s.match(mC);return{[n]:parseFloat(i),[e]:parseFloat(r),[t]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},Tz=n=>ea(0,255,n),xb={...qf,transform:n=>Math.round(Tz(n))},uc={test:gC("rgb","red"),parse:ID("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:s=1})=>"rgba("+xb.transform(n)+", "+xb.transform(e)+", "+xb.transform(t)+", "+Qp(_m.transform(s))+")"};function Pz(n){let e="",t="",s="",i="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),s=n.substring(5,7),i=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),s=n.substring(3,4),i=n.substring(4,5),e+=e,t+=t,s+=s,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(s,16),alpha:i?parseInt(i,16)/255:1}}const Y1={test:gC("#"),parse:Pz,transform:uc.transform},Ly=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),ga=Ly("deg"),Gr=Ly("%"),oe=Ly("px"),kz=Ly("vh"),_z=Ly("vw"),dk={...Gr,parse:n=>Gr.parse(n)/100,transform:n=>Gr.transform(n*100)},vd={test:gC("hsl","hue"),parse:ID("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:s=1})=>"hsla("+Math.round(n)+", "+Gr.transform(Qp(e))+", "+Gr.transform(Qp(t))+", "+Qp(_m.transform(s))+")"},Nt={test:n=>uc.test(n)||Y1.test(n)||vd.test(n),parse:n=>uc.test(n)?uc.parse(n):vd.test(n)?vd.parse(n):Y1.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?uc.transform(n):vd.transform(n),getAnimatableNone:n=>{const e=Nt.parse(n);return e.alpha=0,Nt.transform(e)}},Rz=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Mz(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(mC))==null?void 0:e.length)||0)+(((t=n.match(Rz))==null?void 0:t.length)||0)>0}const FD="number",OD="color",Nz="var",Dz="var(",hk="${}",Lz=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Rm(n){const e=n.toString(),t=[],s={color:[],number:[],var:[]},i=[];let r=0;const a=e.replace(Lz,c=>(Nt.test(c)?(s.color.push(r),i.push(OD),t.push(Nt.parse(c))):c.startsWith(Dz)?(s.var.push(r),i.push(Nz),t.push(c)):(s.number.push(r),i.push(FD),t.push(parseFloat(c))),++r,hk)).split(hk);return{values:t,split:a,indexes:s,types:i}}function jD(n){return Rm(n).values}function BD(n){const{split:e,types:t}=Rm(n),s=e.length;return i=>{let r="";for(let o=0;o<s;o++)if(r+=e[o],i[o]!==void 0){const a=t[o];a===FD?r+=Qp(i[o]):a===OD?r+=Nt.transform(i[o]):r+=i[o]}return r}}const Iz=n=>typeof n=="number"?0:Nt.test(n)?Nt.getAnimatableNone(n):n;function Fz(n){const e=jD(n);return BD(n)(e.map(Iz))}const Bl={test:Mz,parse:jD,createTransformer:BD,getAnimatableNone:Fz};function bb(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function Oz({hue:n,saturation:e,lightness:t,alpha:s}){n/=360,e/=100,t/=100;let i=0,r=0,o=0;if(!e)i=r=o=t;else{const a=t<.5?t*(1+e):t+e-t*e,c=2*t-a;i=bb(c,a,n+1/3),r=bb(c,a,n),o=bb(c,a,n-1/3)}return{red:Math.round(i*255),green:Math.round(r*255),blue:Math.round(o*255),alpha:s}}function rw(n,e){return t=>t>0?e:n}const ut=(n,e,t)=>n+(e-n)*t,Ab=(n,e,t)=>{const s=n*n,i=t*(e*e-s)+s;return i<0?0:Math.sqrt(i)},jz=[Y1,uc,vd],Bz=n=>jz.find(e=>e.test(n));function fk(n){const e=Bz(n);if(!e)return!1;let t=e.parse(n);return e===vd&&(t=Oz(t)),t}const pk=(n,e)=>{const t=fk(n),s=fk(e);if(!t||!s)return rw(n,e);const i={...t};return r=>(i.red=Ab(t.red,s.red,r),i.green=Ab(t.green,s.green,r),i.blue=Ab(t.blue,s.blue,r),i.alpha=ut(t.alpha,s.alpha,r),uc.transform(i))},K1=new Set(["none","hidden"]);function Vz(n,e){return K1.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function $z(n,e){return t=>ut(n,e,t)}function yC(n){return typeof n=="number"?$z:typeof n=="string"?pC(n)?rw:Nt.test(n)?pk:Hz:Array.isArray(n)?VD:typeof n=="object"?Nt.test(n)?pk:Uz:rw}function VD(n,e){const t=[...n],s=t.length,i=n.map((r,o)=>yC(r)(r,e[o]));return r=>{for(let o=0;o<s;o++)t[o]=i[o](r);return t}}function Uz(n,e){const t={...n,...e},s={};for(const i in t)n[i]!==void 0&&e[i]!==void 0&&(s[i]=yC(n[i])(n[i],e[i]));return i=>{for(const r in s)t[r]=s[r](i);return t}}function zz(n,e){const t=[],s={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const r=e.types[i],o=n.indexes[r][s[r]],a=n.values[o]??0;t[i]=a,s[r]++}return t}const Hz=(n,e)=>{const t=Bl.createTransformer(e),s=Rm(n),i=Rm(e);return s.indexes.var.length===i.indexes.var.length&&s.indexes.color.length===i.indexes.color.length&&s.indexes.number.length>=i.indexes.number.length?K1.has(n)&&!i.values.length||K1.has(e)&&!s.values.length?Vz(n,e):Ny(VD(zz(s,i),i.values),t):rw(n,e)};function $D(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?ut(n,e,t):yC(n)(n,e)}const Wz=n=>{const e=({timestamp:t})=>n(t);return{start:(t=!0)=>st.update(e,t),stop:()=>jl(e),now:()=>ln.isProcessing?ln.timestamp:cs.now()}},UD=(n,e,t=10)=>{let s="";const i=Math.max(Math.round(e/t),2);for(let r=0;r<i;r++)s+=Math.round(n(r/(i-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},ow=2e4;function vC(n){let e=0;const t=50;let s=n.next(e);for(;!s.done&&e<ow;)e+=t,s=n.next(e);return e>=ow?1/0:e}function Gz(n,e=100,t){const s=t({...n,keyframes:[0,e]}),i=Math.min(vC(s),ow);return{type:"keyframes",ease:r=>s.next(i*r).value/e,duration:hi(i)}}const qz=5;function zD(n,e,t){const s=Math.max(e-qz,0);return bD(t-n(s),e-s)}const At={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Sb=.001;function Xz({duration:n=At.duration,bounce:e=At.bounce,velocity:t=At.velocity,mass:s=At.mass}){let i,r,o=1-e;o=ea(At.minDamping,At.maxDamping,o),n=ea(At.minDuration,At.maxDuration,hi(n)),o<1?(i=u=>{const d=u*o,h=d*n,f=d-t,p=Q1(u,o),y=Math.exp(-h);return Sb-f/p*y},r=u=>{const h=u*o*n,f=h*t+t,p=Math.pow(o,2)*Math.pow(u,2)*n,y=Math.exp(-h),m=Q1(Math.pow(u,2),o);return(-i(u)+Sb>0?-1:1)*((f-p)*y)/m}):(i=u=>{const d=Math.exp(-u*n),h=(u-t)*n+1;return-Sb+d*h},r=u=>{const d=Math.exp(-u*n),h=(t-u)*(n*n);return d*h});const a=5/n,c=Kz(i,r,a);if(n=Wr(n),isNaN(c))return{stiffness:At.stiffness,damping:At.damping,duration:n};{const u=Math.pow(c,2)*s;return{stiffness:u,damping:o*2*Math.sqrt(s*u),duration:n}}}const Yz=12;function Kz(n,e,t){let s=t;for(let i=1;i<Yz;i++)s=s-n(s)/e(s);return s}function Q1(n,e){return n*Math.sqrt(1-e*e)}const Qz=["duration","bounce"],Zz=["stiffness","damping","mass"];function mk(n,e){return e.some(t=>n[t]!==void 0)}function Jz(n){let e={velocity:At.velocity,stiffness:At.stiffness,damping:At.damping,mass:At.mass,isResolvedFromDuration:!1,...n};if(!mk(n,Zz)&&mk(n,Qz))if(n.visualDuration){const t=n.visualDuration,s=2*Math.PI/(t*1.2),i=s*s,r=2*ea(.05,1,1-(n.bounce||0))*Math.sqrt(i);e={...e,mass:At.mass,stiffness:i,damping:r}}else{const t=Xz(n);e={...e,...t,mass:At.mass},e.isResolvedFromDuration=!0}return e}function aw(n=At.visualDuration,e=At.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:s,restDelta:i}=t;const r=t.keyframes[0],o=t.keyframes[t.keyframes.length-1],a={done:!1,value:r},{stiffness:c,damping:u,mass:d,duration:h,velocity:f,isResolvedFromDuration:p}=Jz({...t,velocity:-hi(t.velocity||0)}),y=f||0,m=u/(2*Math.sqrt(c*d)),b=o-r,g=hi(Math.sqrt(c/d)),v=Math.abs(b)<5;s||(s=v?At.restSpeed.granular:At.restSpeed.default),i||(i=v?At.restDelta.granular:At.restDelta.default);let A;if(m<1){const T=Q1(g,m);A=k=>{const _=Math.exp(-m*g*k);return o-_*((y+m*g*b)/T*Math.sin(T*k)+b*Math.cos(T*k))}}else if(m===1)A=T=>o-Math.exp(-g*T)*(b+(y+g*b)*T);else{const T=g*Math.sqrt(m*m-1);A=k=>{const _=Math.exp(-m*g*k),R=Math.min(T*k,300);return o-_*((y+m*g*b)*Math.sinh(R)+T*b*Math.cosh(R))/T}}const E={calculatedDuration:p&&h||null,next:T=>{const k=A(T);if(p)a.done=T>=h;else{let _=T===0?y:0;m<1&&(_=T===0?Wr(y):zD(A,T,k));const R=Math.abs(_)<=s,M=Math.abs(o-k)<=i;a.done=R&&M}return a.value=a.done?o:k,a},toString:()=>{const T=Math.min(vC(E),ow),k=UD(_=>E.next(T*_).value,T,30);return T+"ms "+k},toTransition:()=>{}};return E}aw.applyToOptions=n=>{const e=Gz(n,100,aw);return n.ease=e.ease,n.duration=Wr(e.duration),n.type="keyframes",n};function Z1({keyframes:n,velocity:e=0,power:t=.8,timeConstant:s=325,bounceDamping:i=10,bounceStiffness:r=500,modifyTarget:o,min:a,max:c,restDelta:u=.5,restSpeed:d}){const h=n[0],f={done:!1,value:h},p=R=>a!==void 0&&R<a||c!==void 0&&R>c,y=R=>a===void 0?c:c===void 0||Math.abs(a-R)<Math.abs(c-R)?a:c;let m=t*e;const b=h+m,g=o===void 0?b:o(b);g!==b&&(m=g-h);const v=R=>-m*Math.exp(-R/s),A=R=>g+v(R),E=R=>{const M=v(R),N=A(R);f.done=Math.abs(M)<=u,f.value=f.done?g:N};let T,k;const _=R=>{p(f.value)&&(T=R,k=aw({keyframes:[f.value,y(f.value)],velocity:zD(A,R,f.value),damping:i,stiffness:r,restDelta:u,restSpeed:d}))};return _(0),{calculatedDuration:null,next:R=>{let M=!1;return!k&&T===void 0&&(M=!0,E(R),_(R)),T!==void 0&&R>=T?k.next(R-T):(!M&&E(R),f)}}}function e6(n,e,t){const s=[],i=t||ta.mix||$D,r=n.length-1;for(let o=0;o<r;o++){let a=i(n[o],n[o+1]);if(e){const c=Array.isArray(e)?e[o]||pi:e;a=Ny(c,a)}s.push(a)}return s}function t6(n,e,{clamp:t=!0,ease:s,mixer:i}={}){const r=n.length;if(iw(r===e.length),r===1)return()=>e[0];if(r===2&&e[0]===e[1])return()=>e[1];const o=n[0]===n[1];n[0]>n[r-1]&&(n=[...n].reverse(),e=[...e].reverse());const a=e6(e,s,i),c=a.length,u=d=>{if(o&&d<n[0])return e[0];let h=0;if(c>1)for(;h<n.length-2&&!(d<n[h+1]);h++);const f=km(n[h],n[h+1],d);return a[h](f)};return t?d=>u(ea(n[0],n[r-1],d)):u}function n6(n,e){const t=n[n.length-1];for(let s=1;s<=e;s++){const i=km(0,e,s);n.push(ut(t,1,i))}}function s6(n){const e=[0];return n6(e,n.length-1),e}function i6(n,e){return n.map(t=>t*e)}function r6(n,e){return n.map(()=>e||RD).splice(0,n.length-1)}function Zp({duration:n=300,keyframes:e,times:t,ease:s="easeInOut"}){const i=yz(s)?s.map(ck):ck(s),r={done:!1,value:e[0]},o=i6(t&&t.length===e.length?t:s6(e),n),a=t6(o,e,{ease:Array.isArray(i)?i:r6(e,i)});return{calculatedDuration:n,next:c=>(r.value=a(c),r.done=c>=n,r)}}const o6=n=>n!==null;function wC(n,{repeat:e,repeatType:t="loop"},s,i=1){const r=n.filter(o6),a=i<0||e&&t!=="loop"&&e%2===1?0:r.length-1;return!a||s===void 0?r[a]:s}const a6={decay:Z1,inertia:Z1,tween:Zp,keyframes:Zp,spring:aw};function HD(n){typeof n.type=="string"&&(n.type=a6[n.type])}class xC{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const l6=n=>n/100;class bC extends xC{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,i;const{motionValue:t}=this.options;t&&t.updatedAt!==cs.now()&&this.tick(cs.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(s=this.options).onStop)==null||i.call(s))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;HD(e);const{type:t=Zp,repeat:s=0,repeatDelay:i=0,repeatType:r,velocity:o=0}=e;let{keyframes:a}=e;const c=t||Zp;c!==Zp&&typeof a[0]!="number"&&(this.mixKeyframes=Ny(l6,$D(a[0],a[1])),a=[0,100]);const u=c({...e,keyframes:a});r==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...a].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=vC(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+i,this.totalDuration=this.resolvedDuration*(s+1)-i,this.generator=u}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:s,totalDuration:i,mixKeyframes:r,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:c}=this;if(this.startTime===null)return s.next(0);const{delay:u=0,keyframes:d,repeat:h,repeatType:f,repeatDelay:p,type:y,onUpdate:m,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const g=this.currentTime-u*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?g<0:g>i;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let A=this.currentTime,E=s;if(h){const R=Math.min(this.currentTime,i)/a;let M=Math.floor(R),N=R%1;!N&&R>=1&&(N=1),N===1&&M--,M=Math.min(M,h+1),!!(M%2)&&(f==="reverse"?(N=1-N,p&&(N-=p/a)):f==="mirror"&&(E=o)),A=ea(0,1,N)*a}const T=v?{done:!1,value:d[0]}:E.next(A);r&&(T.value=r(T.value));let{done:k}=T;!v&&c!==null&&(k=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const _=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return _&&y!==Z1&&(T.value=wC(d,this.options,b,this.speed)),m&&m(T.value),_&&this.finish(),T}then(e,t){return this.finished.then(e,t)}get duration(){return hi(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+hi(e)}get time(){return hi(this.currentTime)}set time(e){var t;e=Wr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(t=this.driver)==null||t.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(cs.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=hi(this.currentTime))}play(){var i,r;if(this.isStopped)return;const{driver:e=Wz,startTime:t}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(r=(i=this.options).onPlay)==null||r.call(i);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=t??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(cs.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,t;this.notifyFinished(),this.teardown(),this.state="finished",(t=(e=this.options).onComplete)==null||t.call(e)}cancel(){var e,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(t=(e=this.options).onCancel)==null||t.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var t;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(t=this.driver)==null||t.stop(),e.observe(this)}}function c6(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const dc=n=>n*180/Math.PI,J1=n=>{const e=dc(Math.atan2(n[1],n[0]));return eA(e)},u6={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:J1,rotateZ:J1,skewX:n=>dc(Math.atan(n[1])),skewY:n=>dc(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},eA=n=>(n=n%360,n<0&&(n+=360),n),gk=J1,yk=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),vk=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),d6={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:yk,scaleY:vk,scale:n=>(yk(n)+vk(n))/2,rotateX:n=>eA(dc(Math.atan2(n[6],n[5]))),rotateY:n=>eA(dc(Math.atan2(-n[2],n[0]))),rotateZ:gk,rotate:gk,skewX:n=>dc(Math.atan(n[4])),skewY:n=>dc(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function tA(n){return n.includes("scale")?1:0}function nA(n,e){if(!n||n==="none")return tA(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,i;if(t)s=d6,i=t;else{const a=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=u6,i=a}if(!i)return tA(e);const r=s[e],o=i[1].split(",").map(f6);return typeof r=="function"?r(o):o[r]}const h6=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return nA(t,e)};function f6(n){return parseFloat(n.trim())}const Xf=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Yf=new Set(Xf),wk=n=>n===qf||n===oe,p6=new Set(["x","y","z"]),m6=Xf.filter(n=>!p6.has(n));function g6(n){const e=[];return m6.forEach(t=>{const s=n.getValue(t);s!==void 0&&(e.push([t,s.get()]),s.set(t.startsWith("scale")?1:0))}),e}const Nu={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>nA(e,"x"),y:(n,{transform:e})=>nA(e,"y")};Nu.translateX=Nu.x;Nu.translateY=Nu.y;const Du=new Set;let sA=!1,iA=!1,rA=!1;function WD(){if(iA){const n=Array.from(Du).filter(s=>s.needsMeasurement),e=new Set(n.map(s=>s.element)),t=new Map;e.forEach(s=>{const i=g6(s);i.length&&(t.set(s,i),s.render())}),n.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const i=t.get(s);i&&i.forEach(([r,o])=>{var a;(a=s.getValue(r))==null||a.set(o)})}),n.forEach(s=>s.measureEndState()),n.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}iA=!1,sA=!1,Du.forEach(n=>n.complete(rA)),Du.clear()}function GD(){Du.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(iA=!0)})}function y6(){rA=!0,GD(),WD(),rA=!1}class AC{constructor(e,t,s,i,r,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=s,this.motionValue=i,this.element=r,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Du.add(this),sA||(sA=!0,st.read(GD),st.resolveKeyframes(WD))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:s,motionValue:i}=this;if(e[0]===null){const r=i==null?void 0:i.get(),o=e[e.length-1];if(r!==void 0)e[0]=r;else if(s&&t){const a=s.readValue(t,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),i&&r===void 0&&i.set(e[0])}c6(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Du.delete(this)}cancel(){this.state==="scheduled"&&(Du.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const v6=n=>n.startsWith("--");function w6(n,e,t){v6(e)?n.style.setProperty(e,t):n.style[e]=t}const x6=uC(()=>window.ScrollTimeline!==void 0),b6={};function A6(n,e){const t=uC(n);return()=>b6[e]??t()}const qD=A6(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),wp=([n,e,t,s])=>`cubic-bezier(${n}, ${e}, ${t}, ${s})`,xk={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:wp([0,.65,.55,1]),circOut:wp([.55,0,1,.45]),backIn:wp([.31,.01,.66,-.59]),backOut:wp([.33,1.53,.69,.99])};function XD(n,e){if(n)return typeof n=="function"?qD()?UD(n,e):"ease-out":MD(n)?wp(n):Array.isArray(n)?n.map(t=>XD(t,e)||xk.easeOut):xk[n]}function S6(n,e,t,{delay:s=0,duration:i=300,repeat:r=0,repeatType:o="loop",ease:a="easeOut",times:c}={},u=void 0){const d={[e]:t};c&&(d.offset=c);const h=XD(a,i);Array.isArray(h)&&(d.easing=h);const f={delay:s,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:r+1,direction:o==="reverse"?"alternate":"normal"};return u&&(f.pseudoElement=u),n.animate(d,f)}function YD(n){return typeof n=="function"&&"applyToOptions"in n}function E6({type:n,...e}){return YD(n)&&qD()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class C6 extends xC{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:s,keyframes:i,pseudoElement:r,allowFlatten:o=!1,finalKeyframe:a,onComplete:c}=e;this.isPseudoElement=!!r,this.allowFlatten=o,this.options=e,iw(typeof e.type!="string");const u=E6(e);this.animation=S6(t,s,i,u,r),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!r){const d=wC(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(d):w6(t,s,d),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;(t=(e=this.animation).finish)==null||t.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,t;this.isPseudoElement||(t=(e=this.animation).commitStyles)==null||t.call(e)}get duration(){var t,s;const e=((s=(t=this.animation.effect)==null?void 0:t.getComputedTiming)==null?void 0:s.call(t).duration)||0;return hi(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+hi(e)}get time(){return hi(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Wr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&x6()?(this.animation.timeline=e,pi):t(this)}}const KD={anticipate:PD,backInOut:TD,circInOut:_D};function T6(n){return n in KD}function P6(n){typeof n.ease=="string"&&T6(n.ease)&&(n.ease=KD[n.ease])}const bk=10;class k6 extends C6{constructor(e){P6(e),HD(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:s,onComplete:i,element:r,...o}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const a=new bC({...o,autoplay:!1}),c=Wr(this.finishedTime??this.time);t.setWithVelocity(a.sample(c-bk).value,a.sample(c).value,bk),a.stop()}}const Ak=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Bl.test(n)||n==="0")&&!n.startsWith("url("));function _6(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function R6(n,e,t,s){const i=n[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const r=n[n.length-1],o=Ak(i,e),a=Ak(r,e);return!o||!a?!1:_6(n)||(t==="spring"||YD(t))&&s}function oA(n){n.duration=0,n.type="keyframes"}const M6=new Set(["opacity","clipPath","filter","transform"]),N6=uC(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function D6(n){var d;const{motionValue:e,name:t,repeatDelay:s,repeatType:i,damping:r,type:o}=n;if(!(((d=e==null?void 0:e.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=e.owner.getProps();return N6()&&t&&M6.has(t)&&(t!=="transform"||!u)&&!c&&!s&&i!=="mirror"&&r!==0&&o!=="inertia"}const L6=40;class I6 extends xC{constructor({autoplay:e=!0,delay:t=0,type:s="keyframes",repeat:i=0,repeatDelay:r=0,repeatType:o="loop",keyframes:a,name:c,motionValue:u,element:d,...h}){var y;super(),this.stop=()=>{var m,b;this._animation&&(this._animation.stop(),(m=this.stopTimeline)==null||m.call(this)),(b=this.keyframeResolver)==null||b.cancel()},this.createdAt=cs.now();const f={autoplay:e,delay:t,type:s,repeat:i,repeatDelay:r,repeatType:o,name:c,motionValue:u,element:d,...h},p=(d==null?void 0:d.KeyframeResolver)||AC;this.keyframeResolver=new p(a,(m,b,g)=>this.onKeyframesResolved(m,b,f,!g),c,u,d),(y=this.keyframeResolver)==null||y.scheduleResolve()}onKeyframesResolved(e,t,s,i){this.keyframeResolver=void 0;const{name:r,type:o,velocity:a,delay:c,isHandoff:u,onUpdate:d}=s;this.resolvedAt=cs.now(),R6(e,r,o,a)||((ta.instantAnimations||!c)&&(d==null||d(wC(e,s,t))),e[0]=e[e.length-1],oA(s),s.repeat=0);const f={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>L6?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...s,keyframes:e},p=!u&&D6(f)?new k6({...f,element:f.motionValue.owner.current}):new bC(f);p.finished.then(()=>this.notifyFinished()).catch(pi),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),y6()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const F6=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function O6(n){const e=F6.exec(n);if(!e)return[,];const[,t,s,i]=e;return[`--${t??s}`,i]}function QD(n,e,t=1){const[s,i]=O6(n);if(!s)return;const r=window.getComputedStyle(e).getPropertyValue(s);if(r){const o=r.trim();return vD(o)?parseFloat(o):o}return pC(i)?QD(i,e,t+1):i}function SC(n,e){return(n==null?void 0:n[e])??(n==null?void 0:n.default)??n}const ZD=new Set(["width","height","top","left","right","bottom",...Xf]),j6={test:n=>n==="auto",parse:n=>n},JD=n=>e=>e.test(n),eL=[qf,oe,Gr,ga,_z,kz,j6],Sk=n=>eL.find(JD(n));function B6(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||xD(n):!0}const V6=new Set(["brightness","contrast","saturate","opacity"]);function $6(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[s]=t.match(mC)||[];if(!s)return n;const i=t.replace(s,"");let r=V6.has(e)?1:0;return s!==t&&(r*=100),e+"("+r+i+")"}const U6=/\b([a-z-]*)\(.*?\)/gu,aA={...Bl,getAnimatableNone:n=>{const e=n.match(U6);return e?e.map($6).join(" "):n}},Ek={...qf,transform:Math.round},z6={rotate:ga,rotateX:ga,rotateY:ga,rotateZ:ga,scale:mv,scaleX:mv,scaleY:mv,scaleZ:mv,skew:ga,skewX:ga,skewY:ga,distance:oe,translateX:oe,translateY:oe,translateZ:oe,x:oe,y:oe,z:oe,perspective:oe,transformPerspective:oe,opacity:_m,originX:dk,originY:dk,originZ:oe},EC={borderWidth:oe,borderTopWidth:oe,borderRightWidth:oe,borderBottomWidth:oe,borderLeftWidth:oe,borderRadius:oe,radius:oe,borderTopLeftRadius:oe,borderTopRightRadius:oe,borderBottomRightRadius:oe,borderBottomLeftRadius:oe,width:oe,maxWidth:oe,height:oe,maxHeight:oe,top:oe,right:oe,bottom:oe,left:oe,padding:oe,paddingTop:oe,paddingRight:oe,paddingBottom:oe,paddingLeft:oe,margin:oe,marginTop:oe,marginRight:oe,marginBottom:oe,marginLeft:oe,backgroundPositionX:oe,backgroundPositionY:oe,...z6,zIndex:Ek,fillOpacity:_m,strokeOpacity:_m,numOctaves:Ek},H6={...EC,color:Nt,backgroundColor:Nt,outlineColor:Nt,fill:Nt,stroke:Nt,borderColor:Nt,borderTopColor:Nt,borderRightColor:Nt,borderBottomColor:Nt,borderLeftColor:Nt,filter:aA,WebkitFilter:aA},tL=n=>H6[n];function nL(n,e){let t=tL(n);return t!==aA&&(t=Bl),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const W6=new Set(["auto","none","0"]);function G6(n,e,t){let s=0,i;for(;s<n.length&&!i;){const r=n[s];typeof r=="string"&&!W6.has(r)&&Rm(r).values.length&&(i=n[s]),s++}if(i&&t)for(const r of e)n[r]=nL(t,i)}class q6 extends AC{constructor(e,t,s,i,r){super(e,t,s,i,r,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:s}=this;if(!t||!t.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="string"&&(u=u.trim(),pC(u))){const d=QD(u,t.current);d!==void 0&&(e[c]=d),c===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!ZD.has(s)||e.length!==2)return;const[i,r]=e,o=Sk(i),a=Sk(r);if(o!==a)if(wk(o)&&wk(a))for(let c=0;c<e.length;c++){const u=e[c];typeof u=="string"&&(e[c]=parseFloat(u))}else Nu[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,s=[];for(let i=0;i<e.length;i++)(e[i]===null||B6(e[i]))&&s.push(i);s.length&&G6(e,s,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Nu[s](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const i=t[t.length-1];i!==void 0&&e.getValue(s,i).jump(i,!1)}measureEndState(){var a;const{element:e,name:t,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const i=e.getValue(t);i&&i.jump(this.measuredOrigin,!1);const r=s.length-1,o=s[r];s[r]=Nu[t](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([c,u])=>{e.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function X6(n,e,t){if(n instanceof EventTarget)return[n];if(typeof n=="string"){const i=document.querySelectorAll(n);return i?Array.from(i):[]}return Array.from(n)}const sL=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function iL(n){return wD(n)&&"offsetHeight"in n}const Ck=30,Y6=n=>!isNaN(parseFloat(n));class K6{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{var r;const i=cs.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((r=this.events.change)==null||r.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=cs.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Y6(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new dC);const s=this.events[e].add(t);return e==="change"?()=>{s(),st.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,s){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=cs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Ck)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,Ck);return bD(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,t;(e=this.dependents)==null||e.clear(),(t=this.events.destroy)==null||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Rf(n,e){return new K6(n,e)}const{schedule:CC,cancel:Lq}=ND(queueMicrotask,!1),Ti={x:!1,y:!1};function rL(){return Ti.x||Ti.y}function Q6(n){return n==="x"||n==="y"?Ti[n]?null:(Ti[n]=!0,()=>{Ti[n]=!1}):Ti.x||Ti.y?null:(Ti.x=Ti.y=!0,()=>{Ti.x=Ti.y=!1})}function oL(n,e){const t=X6(n),s=new AbortController,i={passive:!0,...e,signal:s.signal};return[t,i,()=>s.abort()]}function Tk(n){return!(n.pointerType==="touch"||rL())}function Z6(n,e,t={}){const[s,i,r]=oL(n,t),o=a=>{if(!Tk(a))return;const{target:c}=a,u=e(c,a);if(typeof u!="function"||!c)return;const d=h=>{Tk(h)&&(u(h),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,i)};return s.forEach(a=>{a.addEventListener("pointerenter",o,i)}),r}const aL=(n,e)=>e?n===e?!0:aL(n,e.parentElement):!1,TC=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,J6=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function eH(n){return J6.has(n.tagName)||n.tabIndex!==-1}const Hv=new WeakSet;function Pk(n){return e=>{e.key==="Enter"&&n(e)}}function Eb(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const tH=(n,e)=>{const t=n.currentTarget;if(!t)return;const s=Pk(()=>{if(Hv.has(t))return;Eb(t,"down");const i=Pk(()=>{Eb(t,"up")}),r=()=>Eb(t,"cancel");t.addEventListener("keyup",i,e),t.addEventListener("blur",r,e)});t.addEventListener("keydown",s,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",s),e)};function kk(n){return TC(n)&&!rL()}function nH(n,e,t={}){const[s,i,r]=oL(n,t),o=a=>{const c=a.currentTarget;if(!kk(a))return;Hv.add(c);const u=e(c,a),d=(p,y)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),Hv.has(c)&&Hv.delete(c),kk(p)&&typeof u=="function"&&u(p,{success:y})},h=p=>{d(p,c===window||c===document||t.useGlobalTarget||aL(c,p.target))},f=p=>{d(p,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",f,i)};return s.forEach(a=>{(t.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),iL(a)&&(a.addEventListener("focus",u=>tH(u,i)),!eH(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),r}function lL(n){return wD(n)&&"ownerSVGElement"in n}function sH(n){return lL(n)&&n.tagName==="svg"}const _n=n=>!!(n&&n.getVelocity),iH=[...eL,Nt,Bl],rH=n=>iH.find(JD(n)),PC=P.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function _k(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function oH(...n){return e=>{let t=!1;const s=n.map(i=>{const r=_k(i,e);return!t&&typeof r=="function"&&(t=!0),r});if(t)return()=>{for(let i=0;i<s.length;i++){const r=s[i];typeof r=="function"?r():_k(n[i],null)}}}}function aH(...n){return P.useCallback(oH(...n),n)}class lH extends P.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const s=t.offsetParent,i=iL(s)&&s.offsetWidth||0,r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft,r.right=i-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function cH({children:n,isPresent:e,anchorX:t,root:s}){const i=P.useId(),r=P.useRef(null),o=P.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=P.useContext(PC),c=aH(r,n==null?void 0:n.ref);return P.useInsertionEffect(()=>{const{width:u,height:d,top:h,left:f,right:p}=o.current;if(e||!r.current||!u||!d)return;const y=t==="left"?`left: ${f}`:`right: ${p}`;r.current.dataset.motionPopId=i;const m=document.createElement("style");a&&(m.nonce=a);const b=s??document.head;return b.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${d}px !important;
            ${y}px !important;
            top: ${h}px !important;
          }
        `),()=>{b.contains(m)&&b.removeChild(m)}},[e]),x.jsx(lH,{isPresent:e,childRef:r,sizeRef:o,children:P.cloneElement(n,{ref:c})})}const uH=({children:n,initial:e,isPresent:t,onExitComplete:s,custom:i,presenceAffectsLayout:r,mode:o,anchorX:a,root:c})=>{const u=oC(dH),d=P.useId();let h=!0,f=P.useMemo(()=>(h=!1,{id:d,initial:e,isPresent:t,custom:i,onExitComplete:p=>{u.set(p,!0);for(const y of u.values())if(!y)return;s&&s()},register:p=>(u.set(p,!1),()=>u.delete(p))}),[t,u,s]);return r&&h&&(f={...f}),P.useMemo(()=>{u.forEach((p,y)=>u.set(y,!1))},[t]),P.useEffect(()=>{!t&&!u.size&&s&&s()},[t]),o==="popLayout"&&(n=x.jsx(cH,{isPresent:t,anchorX:a,root:c,children:n})),x.jsx(vx.Provider,{value:f,children:n})};function dH(){return new Map}function cL(n=!0){const e=P.useContext(vx);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:s,register:i}=e,r=P.useId();P.useEffect(()=>{if(n)return i(r)},[n]);const o=P.useCallback(()=>n&&s&&s(r),[r,s,n]);return!t&&s?[!1,o]:[!0]}const gv=n=>n.key||"";function Rk(n){const e=[];return P.Children.forEach(n,t=>{P.isValidElement(t)&&e.push(t)}),e}const hH=({children:n,custom:e,initial:t=!0,onExitComplete:s,presenceAffectsLayout:i=!0,mode:r="sync",propagate:o=!1,anchorX:a="left",root:c})=>{const[u,d]=cL(o),h=P.useMemo(()=>Rk(n),[n]),f=o&&!u?[]:h.map(gv),p=P.useRef(!0),y=P.useRef(h),m=oC(()=>new Map),[b,g]=P.useState(h),[v,A]=P.useState(h);yD(()=>{p.current=!1,y.current=h;for(let k=0;k<v.length;k++){const _=gv(v[k]);f.includes(_)?m.delete(_):m.get(_)!==!0&&m.set(_,!1)}},[v,f.length,f.join("-")]);const E=[];if(h!==b){let k=[...h];for(let _=0;_<v.length;_++){const R=v[_],M=gv(R);f.includes(M)||(k.splice(_,0,R),E.push(R))}return r==="wait"&&E.length&&(k=E),A(Rk(k)),g(h),null}const{forceRender:T}=P.useContext(rC);return x.jsx(x.Fragment,{children:v.map(k=>{const _=gv(k),R=o&&!u?!1:h===v||f.includes(_),M=()=>{if(m.has(_))m.set(_,!0);else return;let N=!0;m.forEach(L=>{L||(N=!1)}),N&&(T==null||T(),A(y.current),o&&(d==null||d()),s&&s())};return x.jsx(uH,{isPresent:R,initial:!p.current||t?void 0:!1,custom:e,presenceAffectsLayout:i,mode:r,root:c,onExitComplete:R?void 0:M,anchorX:a,children:k},_)})})},uL=P.createContext({strict:!1}),Mk={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Mf={};for(const n in Mk)Mf[n]={isEnabled:e=>Mk[n].some(t=>!!e[t])};function fH(n){for(const e in n)Mf[e]={...Mf[e],...n[e]}}const pH=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function lw(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||pH.has(n)}let dL=n=>!lw(n);function mH(n){typeof n=="function"&&(dL=e=>e.startsWith("on")?!lw(e):n(e))}try{mH(require("@emotion/is-prop-valid").default)}catch{}function gH(n,e,t){const s={};for(const i in n)i==="values"&&typeof n.values=="object"||(dL(i)||t===!0&&lw(i)||!e&&!lw(i)||n.draggable&&i.startsWith("onDrag"))&&(s[i]=n[i]);return s}const wx=P.createContext({});function xx(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function Mm(n){return typeof n=="string"||Array.isArray(n)}const kC=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],_C=["initial",...kC];function bx(n){return xx(n.animate)||_C.some(e=>Mm(n[e]))}function hL(n){return!!(bx(n)||n.variants)}function yH(n,e){if(bx(n)){const{initial:t,animate:s}=n;return{initial:t===!1||Mm(t)?t:void 0,animate:Mm(s)?s:void 0}}return n.inherit!==!1?e:{}}function vH(n){const{initial:e,animate:t}=yH(n,P.useContext(wx));return P.useMemo(()=>({initial:e,animate:t}),[Nk(e),Nk(t)])}function Nk(n){return Array.isArray(n)?n.join(" "):n}function Dk(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const up={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(oe.test(n))n=parseFloat(n);else return n;const t=Dk(n,e.target.x),s=Dk(n,e.target.y);return`${t}% ${s}%`}},wH={correct:(n,{treeScale:e,projectionDelta:t})=>{const s=n,i=Bl.parse(n);if(i.length>5)return s;const r=Bl.createTransformer(n),o=typeof i[0]!="number"?1:0,a=t.x.scale*e.x,c=t.y.scale*e.y;i[0+o]/=a,i[1+o]/=c;const u=ut(a,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),r(i)}},lA={borderRadius:{...up,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:up,borderTopRightRadius:up,borderBottomLeftRadius:up,borderBottomRightRadius:up,boxShadow:wH};function fL(n,{layout:e,layoutId:t}){return Yf.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!lA[n]||n==="opacity")}const xH={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},bH=Xf.length;function AH(n,e,t){let s="",i=!0;for(let r=0;r<bH;r++){const o=Xf[r],a=n[o];if(a===void 0)continue;let c=!0;if(typeof a=="number"?c=a===(o.startsWith("scale")?1:0):c=parseFloat(a)===0,!c||t){const u=sL(a,EC[o]);if(!c){i=!1;const d=xH[o]||o;s+=`${d}(${u}) `}t&&(e[o]=u)}}return s=s.trim(),t?s=t(e,i?"":s):i&&(s="none"),s}function RC(n,e,t){const{style:s,vars:i,transformOrigin:r}=n;let o=!1,a=!1;for(const c in e){const u=e[c];if(Yf.has(c)){o=!0;continue}else if(LD(c)){i[c]=u;continue}else{const d=sL(u,EC[c]);c.startsWith("origin")?(a=!0,r[c]=d):s[c]=d}}if(e.transform||(o||t?s.transform=AH(e,n.transform,t):s.transform&&(s.transform="none")),a){const{originX:c="50%",originY:u="50%",originZ:d=0}=r;s.transformOrigin=`${c} ${u} ${d}`}}const MC=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function pL(n,e,t){for(const s in e)!_n(e[s])&&!fL(s,t)&&(n[s]=e[s])}function SH({transformTemplate:n},e){return P.useMemo(()=>{const t=MC();return RC(t,e,n),Object.assign({},t.vars,t.style)},[e])}function EH(n,e){const t=n.style||{},s={};return pL(s,t,n),Object.assign(s,SH(n,e)),s}function CH(n,e){const t={},s=EH(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=s,t}const TH={offset:"stroke-dashoffset",array:"stroke-dasharray"},PH={offset:"strokeDashoffset",array:"strokeDasharray"};function kH(n,e,t=1,s=0,i=!0){n.pathLength=1;const r=i?TH:PH;n[r.offset]=oe.transform(-s);const o=oe.transform(e),a=oe.transform(t);n[r.array]=`${o} ${a}`}function mL(n,{attrX:e,attrY:t,attrScale:s,pathLength:i,pathSpacing:r=1,pathOffset:o=0,...a},c,u,d){if(RC(n,a,u),c){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:h,style:f}=n;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete h.transformBox),e!==void 0&&(h.x=e),t!==void 0&&(h.y=t),s!==void 0&&(h.scale=s),i!==void 0&&kH(h,i,r,o,!1)}const gL=()=>({...MC(),attrs:{}}),yL=n=>typeof n=="string"&&n.toLowerCase()==="svg";function _H(n,e,t,s){const i=P.useMemo(()=>{const r=gL();return mL(r,e,yL(s),n.transformTemplate,n.style),{...r.attrs,style:{...r.style}}},[e]);if(n.style){const r={};pL(r,n.style,n),i.style={...r,...i.style}}return i}const RH=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function NC(n){return typeof n!="string"||n.includes("-")?!1:!!(RH.indexOf(n)>-1||/[A-Z]/u.test(n))}function MH(n,e,t,{latestValues:s},i,r=!1){const a=(NC(n)?_H:CH)(e,s,i,n),c=gH(e,typeof n=="string",r),u=n!==P.Fragment?{...c,...a,ref:t}:{},{children:d}=e,h=P.useMemo(()=>_n(d)?d.get():d,[d]);return P.createElement(n,{...u,children:h})}function Lk(n){const e=[{},{}];return n==null||n.values.forEach((t,s)=>{e[0][s]=t.get(),e[1][s]=t.getVelocity()}),e}function DC(n,e,t,s){if(typeof e=="function"){const[i,r]=Lk(s);e=e(t!==void 0?t:n.custom,i,r)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[i,r]=Lk(s);e=e(t!==void 0?t:n.custom,i,r)}return e}function Wv(n){return _n(n)?n.get():n}function NH({scrapeMotionValuesFromProps:n,createRenderState:e},t,s,i){return{latestValues:DH(t,s,i,n),renderState:e()}}function DH(n,e,t,s){const i={},r=s(n,{});for(const f in r)i[f]=Wv(r[f]);let{initial:o,animate:a}=n;const c=bx(n),u=hL(n);e&&u&&!c&&n.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=t?t.initial===!1:!1;d=d||o===!1;const h=d?a:o;if(h&&typeof h!="boolean"&&!xx(h)){const f=Array.isArray(h)?h:[h];for(let p=0;p<f.length;p++){const y=DC(n,f[p]);if(y){const{transitionEnd:m,transition:b,...g}=y;for(const v in g){let A=g[v];if(Array.isArray(A)){const E=d?A.length-1:0;A=A[E]}A!==null&&(i[v]=A)}for(const v in m)i[v]=m[v]}}}return i}const vL=n=>(e,t)=>{const s=P.useContext(wx),i=P.useContext(vx),r=()=>NH(n,e,s,i);return t?r():oC(r)};function LC(n,e,t){var r;const{style:s}=n,i={};for(const o in s)(_n(s[o])||e.style&&_n(e.style[o])||fL(o,n)||((r=t==null?void 0:t.getValue(o))==null?void 0:r.liveStyle)!==void 0)&&(i[o]=s[o]);return i}const LH=vL({scrapeMotionValuesFromProps:LC,createRenderState:MC});function wL(n,e,t){const s=LC(n,e,t);for(const i in n)if(_n(n[i])||_n(e[i])){const r=Xf.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;s[r]=n[i]}return s}const IH=vL({scrapeMotionValuesFromProps:wL,createRenderState:gL}),FH=Symbol.for("motionComponentSymbol");function wd(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function OH(n,e,t){return P.useCallback(s=>{s&&n.onMount&&n.onMount(s),e&&(s?e.mount(s):e.unmount()),t&&(typeof t=="function"?t(s):wd(t)&&(t.current=s))},[e])}const IC=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),jH="framerAppearId",xL="data-"+IC(jH),bL=P.createContext({});function BH(n,e,t,s,i){var m,b;const{visualElement:r}=P.useContext(wx),o=P.useContext(uL),a=P.useContext(vx),c=P.useContext(PC).reducedMotion,u=P.useRef(null);s=s||o.renderer,!u.current&&s&&(u.current=s(n,{visualState:e,parent:r,props:t,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,h=P.useContext(bL);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&VH(u.current,t,i,h);const f=P.useRef(!1);P.useInsertionEffect(()=>{d&&f.current&&d.update(t,a)});const p=t[xL],y=P.useRef(!!p&&!((m=window.MotionHandoffIsComplete)!=null&&m.call(window,p))&&((b=window.MotionHasOptimisedAnimation)==null?void 0:b.call(window,p)));return yD(()=>{d&&(f.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),y.current&&d.animationState&&d.animationState.animateChanges())}),P.useEffect(()=>{d&&(!y.current&&d.animationState&&d.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)==null||g.call(window,p)}),y.current=!1),d.enteringChildren=void 0)}),d}function VH(n,e,t,s){const{layoutId:i,layout:r,drag:o,dragConstraints:a,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:AL(n.parent)),n.projection.setOptions({layoutId:i,layout:r,alwaysMeasureLayout:!!o||a&&wd(a),visualElement:n,animationType:typeof r=="string"?r:"both",initialPromotionConfig:s,crossfade:d,layoutScroll:c,layoutRoot:u})}function AL(n){if(n)return n.options.allowProjection!==!1?n.projection:AL(n.parent)}function Cb(n,{forwardMotionProps:e=!1}={},t,s){t&&fH(t);const i=NC(n)?IH:LH;function r(a,c){let u;const d={...P.useContext(PC),...a,layoutId:$H(a)},{isStatic:h}=d,f=vH(a),p=i(a,h);if(!h&&aC){UH();const y=zH(d);u=y.MeasureLayout,f.visualElement=BH(n,p,d,s,y.ProjectionNode)}return x.jsxs(wx.Provider,{value:f,children:[u&&f.visualElement?x.jsx(u,{visualElement:f.visualElement,...d}):null,MH(n,a,OH(p,f.visualElement,c),p,h,e)]})}r.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const o=P.forwardRef(r);return o[FH]=n,o}function $H({layoutId:n}){const e=P.useContext(rC).id;return e&&n!==void 0?e+"-"+n:n}function UH(n,e){P.useContext(uL).strict}function zH(n){const{drag:e,layout:t}=Mf;if(!e&&!t)return{};const s={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function HH(n,e){if(typeof Proxy>"u")return Cb;const t=new Map,s=(r,o)=>Cb(r,o,n,e),i=(r,o)=>s(r,o);return new Proxy(i,{get:(r,o)=>o==="create"?s:(t.has(o)||t.set(o,Cb(o,void 0,n,e)),t.get(o))})}function SL({top:n,left:e,right:t,bottom:s}){return{x:{min:e,max:t},y:{min:n,max:s}}}function WH({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function GH(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),s=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:s.y,right:s.x}}function Tb(n){return n===void 0||n===1}function cA({scale:n,scaleX:e,scaleY:t}){return!Tb(n)||!Tb(e)||!Tb(t)}function ec(n){return cA(n)||EL(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function EL(n){return Ik(n.x)||Ik(n.y)}function Ik(n){return n&&n!=="0%"}function cw(n,e,t){const s=n-t,i=e*s;return t+i}function Fk(n,e,t,s,i){return i!==void 0&&(n=cw(n,i,s)),cw(n,t,s)+e}function uA(n,e=0,t=1,s,i){n.min=Fk(n.min,e,t,s,i),n.max=Fk(n.max,e,t,s,i)}function CL(n,{x:e,y:t}){uA(n.x,e.translate,e.scale,e.originPoint),uA(n.y,t.translate,t.scale,t.originPoint)}const Ok=.999999999999,jk=1.0000000000001;function qH(n,e,t,s=!1){const i=t.length;if(!i)return;e.x=e.y=1;let r,o;for(let a=0;a<i;a++){r=t[a],o=r.projectionDelta;const{visualElement:c}=r.options;c&&c.props.style&&c.props.style.display==="contents"||(s&&r.options.layoutScroll&&r.scroll&&r!==r.root&&bd(n,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,CL(n,o)),s&&ec(r.latestValues)&&bd(n,r.latestValues))}e.x<jk&&e.x>Ok&&(e.x=1),e.y<jk&&e.y>Ok&&(e.y=1)}function xd(n,e){n.min=n.min+e,n.max=n.max+e}function Bk(n,e,t,s,i=.5){const r=ut(n.min,n.max,i);uA(n,e,t,r,s)}function bd(n,e){Bk(n.x,e.x,e.scaleX,e.scale,e.originX),Bk(n.y,e.y,e.scaleY,e.scale,e.originY)}function TL(n,e){return SL(GH(n.getBoundingClientRect(),e))}function XH(n,e,t){const s=TL(n,t),{scroll:i}=e;return i&&(xd(s.x,i.offset.x),xd(s.y,i.offset.y)),s}const Vk=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ad=()=>({x:Vk(),y:Vk()}),$k=()=>({min:0,max:0}),Bt=()=>({x:$k(),y:$k()}),dA={current:null},PL={current:!1};function YH(){if(PL.current=!0,!!aC)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>dA.current=n.matches;n.addEventListener("change",e),e()}else dA.current=!1}const KH=new WeakMap;function QH(n,e,t){for(const s in e){const i=e[s],r=t[s];if(_n(i))n.addValue(s,i);else if(_n(r))n.addValue(s,Rf(i,{owner:n}));else if(r!==i)if(n.hasValue(s)){const o=n.getValue(s);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=n.getStaticValue(s);n.addValue(s,Rf(o!==void 0?o:i,{owner:n}))}}for(const s in t)e[s]===void 0&&n.removeValue(s);return e}const Uk=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class ZH{scrapeMotionValuesFromProps(e,t,s){return{}}constructor({parent:e,props:t,presenceContext:s,reducedMotionConfig:i,blockInitialAnimation:r,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=AC,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=cs.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,st.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=t.initial?{...c}:{},this.renderState=u,this.parent=e,this.props=t,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!r,this.isControllingVariants=bx(t),this.isVariantNode=hL(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(t,{},this);for(const f in h){const p=h[f];c[f]!==void 0&&_n(p)&&p.set(c[f])}}mount(e){var t;this.current=e,KH.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,i)=>this.bindToMotionValue(i,s)),PL.current||YH(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:dA.current,(t=this.parent)==null||t.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),jl(this.notifyUpdate),jl(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const s=this.features[t];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Yf.has(e);s&&this.onBindTransform&&this.onBindTransform();const i=t.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&st.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let r;window.MotionCheckAppearSync&&(r=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{i(),r&&r(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Mf){const t=Mf[e];if(!t)continue;const{isEnabled:s,Feature:i}=t;if(!this.features[e]&&i&&s(this.props)&&(this.features[e]=new i(this)),this.features[e]){const r=this.features[e];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Bt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let s=0;s<Uk.length;s++){const i=Uk[s];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const r="on"+i,o=e[r];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=QH(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const s=this.values.get(e);t!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&t!==void 0&&(s=Rf(t===null?void 0:t,{owner:this}),this.addValue(e,s)),s}readValue(e,t){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(vD(s)||xD(s))?s=parseFloat(s):!rH(s)&&Bl.test(t)&&(s=nL(e,t)),this.setBaseTarget(e,_n(s)?s.get():s)),_n(s)?s.get():s}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var r;const{initial:t}=this.props;let s;if(typeof t=="string"||typeof t=="object"){const o=DC(this.props,t,(r=this.presenceContext)==null?void 0:r.custom);o&&(s=o[e])}if(t&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!_n(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new dC),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){CC.render(this.render)}}class kL extends ZH{constructor(){super(...arguments),this.KeyframeResolver=q6}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:s}){delete t[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;_n(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function _L(n,{style:e,vars:t},s,i){const r=n.style;let o;for(o in e)r[o]=e[o];i==null||i.applyProjectionStyles(r,s);for(o in t)r.setProperty(o,t[o])}function JH(n){return window.getComputedStyle(n)}class e8 extends kL{constructor(){super(...arguments),this.type="html",this.renderInstance=_L}readValueFromInstance(e,t){var s;if(Yf.has(t))return(s=this.projection)!=null&&s.isProjecting?tA(t):h6(e,t);{const i=JH(e),r=(LD(t)?i.getPropertyValue(t):i[t])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return TL(e,t)}build(e,t,s){RC(e,t,s.transformTemplate)}scrapeMotionValuesFromProps(e,t,s){return LC(e,t,s)}}const RL=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function t8(n,e,t,s){_L(n,e,void 0,s);for(const i in e.attrs)n.setAttribute(RL.has(i)?i:IC(i),e.attrs[i])}class n8 extends kL{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Bt}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Yf.has(t)){const s=tL(t);return s&&s.default||0}return t=RL.has(t)?t:IC(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,s){return wL(e,t,s)}build(e,t,s){mL(e,t,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,t,s,i){t8(e,t,s,i)}mount(e){this.isSVGTag=yL(e.tagName),super.mount(e)}}const s8=(n,e)=>NC(n)?new n8(e):new e8(e,{allowProjection:n!==P.Fragment});function Fd(n,e,t){const s=n.getProps();return DC(s,e,t!==void 0?t:s.custom,n)}const hA=n=>Array.isArray(n);function i8(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,Rf(t))}function r8(n){return hA(n)?n[n.length-1]||0:n}function o8(n,e){const t=Fd(n,e);let{transitionEnd:s={},transition:i={},...r}=t||{};r={...r,...s};for(const o in r){const a=r8(r[o]);i8(n,o,a)}}function a8(n){return!!(_n(n)&&n.add)}function fA(n,e){const t=n.getValue("willChange");if(a8(t))return t.add(e);if(!t&&ta.WillChange){const s=new ta.WillChange("auto");n.addValue("willChange",s),s.add(e)}}function ML(n){return n.props[xL]}const l8=n=>n!==null;function c8(n,{repeat:e,repeatType:t="loop"},s){const i=n.filter(l8),r=e&&t!=="loop"&&e%2===1?0:i.length-1;return!r||s===void 0?i[r]:s}const u8={type:"spring",stiffness:500,damping:25,restSpeed:10},d8=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),h8={type:"keyframes",duration:.8},f8={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},p8=(n,{keyframes:e})=>e.length>2?h8:Yf.has(n)?n.startsWith("scale")?d8(e[1]):u8:f8;function m8({when:n,delay:e,delayChildren:t,staggerChildren:s,staggerDirection:i,repeat:r,repeatType:o,repeatDelay:a,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const FC=(n,e,t,s={},i,r)=>o=>{const a=SC(s,n)||{},c=a.delay||s.delay||0;let{elapsed:u=0}=s;u=u-Wr(c);const d={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:f=>{e.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:n,motionValue:e,element:r?void 0:i};m8(a)||Object.assign(d,p8(n,d)),d.duration&&(d.duration=Wr(d.duration)),d.repeatDelay&&(d.repeatDelay=Wr(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(oA(d),d.delay===0&&(h=!0)),(ta.instantAnimations||ta.skipAnimations)&&(h=!0,oA(d),d.delay=0),d.allowFlatten=!a.type&&!a.ease,h&&!r&&e.get()!==void 0){const f=c8(d.keyframes,a);if(f!==void 0){st.update(()=>{d.onUpdate(f),d.onComplete()});return}}return a.isSync?new bC(d):new I6(d)};function g8({protectedKeys:n,needsAnimating:e},t){const s=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,s}function NL(n,e,{delay:t=0,transitionOverride:s,type:i}={}){let{transition:r=n.getDefaultTransition(),transitionEnd:o,...a}=e;s&&(r=s);const c=[],u=i&&n.animationState&&n.animationState.getState()[i];for(const d in a){const h=n.getValue(d,n.latestValues[d]??null),f=a[d];if(f===void 0||u&&g8(u,d))continue;const p={delay:t,...SC(r||{},d)},y=h.get();if(y!==void 0&&!h.isAnimating&&!Array.isArray(f)&&f===y&&!p.velocity)continue;let m=!1;if(window.MotionHandoffAnimation){const g=ML(n);if(g){const v=window.MotionHandoffAnimation(g,d,st);v!==null&&(p.startTime=v,m=!0)}}fA(n,d),h.start(FC(d,h,f,n.shouldReduceMotion&&ZD.has(d)?{type:!1}:p,n,m));const b=h.animation;b&&c.push(b)}return o&&Promise.all(c).then(()=>{st.update(()=>{o&&o8(n,o)})}),c}function DL(n,e,t,s=0,i=1){const r=Array.from(n).sort((u,d)=>u.sortNodePosition(d)).indexOf(e),o=n.size,a=(o-1)*s;return typeof t=="function"?t(r,o):i===1?r*s:a-r*s}function pA(n,e,t={}){var c;const s=Fd(n,e,t.type==="exit"?(c=n.presenceContext)==null?void 0:c.custom:void 0);let{transition:i=n.getDefaultTransition()||{}}=s||{};t.transitionOverride&&(i=t.transitionOverride);const r=s?()=>Promise.all(NL(n,s,t)):()=>Promise.resolve(),o=n.variantChildren&&n.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=i;return y8(n,e,u,d,h,f,t)}:()=>Promise.resolve(),{when:a}=i;if(a){const[u,d]=a==="beforeChildren"?[r,o]:[o,r];return u().then(()=>d())}else return Promise.all([r(),o(t.delay)])}function y8(n,e,t=0,s=0,i=0,r=1,o){const a=[];for(const c of n.variantChildren)c.notify("AnimationStart",e),a.push(pA(c,e,{...o,delay:t+(typeof s=="function"?0:s)+DL(n.variantChildren,c,s,i,r)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(a)}function v8(n,e,t={}){n.notify("AnimationStart",e);let s;if(Array.isArray(e)){const i=e.map(r=>pA(n,r,t));s=Promise.all(i)}else if(typeof e=="string")s=pA(n,e,t);else{const i=typeof e=="function"?Fd(n,e,t.custom):e;s=Promise.all(NL(n,i,t))}return s.then(()=>{n.notify("AnimationComplete",e)})}function LL(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let s=0;s<t;s++)if(e[s]!==n[s])return!1;return!0}const w8=_C.length;function IL(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?IL(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<w8;t++){const s=_C[t],i=n.props[s];(Mm(i)||i===!1)&&(e[s]=i)}return e}const x8=[...kC].reverse(),b8=kC.length;function A8(n){return e=>Promise.all(e.map(({animation:t,options:s})=>v8(n,t,s)))}function S8(n){let e=A8(n),t=zk(),s=!0;const i=c=>(u,d)=>{var f;const h=Fd(n,d,c==="exit"?(f=n.presenceContext)==null?void 0:f.custom:void 0);if(h){const{transition:p,transitionEnd:y,...m}=h;u={...u,...m,...y}}return u};function r(c){e=c(n)}function o(c){const{props:u}=n,d=IL(n.parent)||{},h=[],f=new Set;let p={},y=1/0;for(let b=0;b<b8;b++){const g=x8[b],v=t[g],A=u[g]!==void 0?u[g]:d[g],E=Mm(A),T=g===c?v.isActive:null;T===!1&&(y=b);let k=A===d[g]&&A!==u[g]&&E;if(k&&s&&n.manuallyAnimateOnMount&&(k=!1),v.protectedKeys={...p},!v.isActive&&T===null||!A&&!v.prevProp||xx(A)||typeof A=="boolean")continue;const _=E8(v.prevProp,A);let R=_||g===c&&v.isActive&&!k&&E||b>y&&E,M=!1;const N=Array.isArray(A)?A:[A];let L=N.reduce(i(g),{});T===!1&&(L={});const{prevResolvedValues:O={}}=v,U={...O,...L},I=j=>{R=!0,f.has(j)&&(M=!0,f.delete(j)),v.needsAnimating[j]=!0;const D=n.getValue(j);D&&(D.liveStyle=!1)};for(const j in U){const D=L[j],F=O[j];if(p.hasOwnProperty(j))continue;let z=!1;hA(D)&&hA(F)?z=!LL(D,F):z=D!==F,z?D!=null?I(j):f.add(j):D!==void 0&&f.has(j)?I(j):v.protectedKeys[j]=!0}v.prevProp=A,v.prevResolvedValues=L,v.isActive&&(p={...p,...L}),s&&n.blockInitialAnimation&&(R=!1);const W=k&&_;R&&(!W||M)&&h.push(...N.map(j=>{const D={type:g};if(typeof j=="string"&&s&&!W&&n.manuallyAnimateOnMount&&n.parent){const{parent:F}=n,z=Fd(F,j);if(F.enteringChildren&&z){const{delayChildren:te}=z.transition||{};D.delay=DL(F.enteringChildren,n,te)}}return{animation:j,options:D}}))}if(f.size){const b={};if(typeof u.initial!="boolean"){const g=Fd(n,Array.isArray(u.initial)?u.initial[0]:u.initial);g&&g.transition&&(b.transition=g.transition)}f.forEach(g=>{const v=n.getBaseTarget(g),A=n.getValue(g);A&&(A.liveStyle=!0),b[g]=v??null}),h.push({animation:b})}let m=!!h.length;return s&&(u.initial===!1||u.initial===u.animate)&&!n.manuallyAnimateOnMount&&(m=!1),s=!1,m?e(h):Promise.resolve()}function a(c,u){var h;if(t[c].isActive===u)return Promise.resolve();(h=n.variantChildren)==null||h.forEach(f=>{var p;return(p=f.animationState)==null?void 0:p.setActive(c,u)}),t[c].isActive=u;const d=o(c);for(const f in t)t[f].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:r,getState:()=>t,reset:()=>{t=zk()}}}function E8(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!LL(e,n):!1}function Kl(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function zk(){return{animate:Kl(!0),whileInView:Kl(),whileHover:Kl(),whileTap:Kl(),whileDrag:Kl(),whileFocus:Kl(),exit:Kl()}}class ql{constructor(e){this.isMounted=!1,this.node=e}update(){}}class C8 extends ql{constructor(e){super(e),e.animationState||(e.animationState=S8(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();xx(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let T8=0;class P8 extends ql{constructor(){super(...arguments),this.id=T8++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const i=this.node.animationState.setActive("exit",!e);t&&!e&&i.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const k8={animation:{Feature:C8},exit:{Feature:P8}};function Nm(n,e,t,s={passive:!0}){return n.addEventListener(e,t,s),()=>n.removeEventListener(e,t)}function Iy(n){return{point:{x:n.pageX,y:n.pageY}}}const _8=n=>e=>TC(e)&&n(e,Iy(e));function Jp(n,e,t,s){return Nm(n,e,_8(t),s)}const FL=1e-4,R8=1-FL,M8=1+FL,OL=.01,N8=0-OL,D8=0+OL;function zn(n){return n.max-n.min}function L8(n,e,t){return Math.abs(n-e)<=t}function Hk(n,e,t,s=.5){n.origin=s,n.originPoint=ut(e.min,e.max,n.origin),n.scale=zn(t)/zn(e),n.translate=ut(t.min,t.max,n.origin)-n.originPoint,(n.scale>=R8&&n.scale<=M8||isNaN(n.scale))&&(n.scale=1),(n.translate>=N8&&n.translate<=D8||isNaN(n.translate))&&(n.translate=0)}function em(n,e,t,s){Hk(n.x,e.x,t.x,s?s.originX:void 0),Hk(n.y,e.y,t.y,s?s.originY:void 0)}function Wk(n,e,t){n.min=t.min+e.min,n.max=n.min+zn(e)}function I8(n,e,t){Wk(n.x,e.x,t.x),Wk(n.y,e.y,t.y)}function Gk(n,e,t){n.min=e.min-t.min,n.max=n.min+zn(e)}function uw(n,e,t){Gk(n.x,e.x,t.x),Gk(n.y,e.y,t.y)}function Xs(n){return[n("x"),n("y")]}const jL=({current:n})=>n?n.ownerDocument.defaultView:null,qk=(n,e)=>Math.abs(n-e);function F8(n,e){const t=qk(n.x,e.x),s=qk(n.y,e.y);return Math.sqrt(t**2+s**2)}class BL{constructor(e,t,{transformPagePoint:s,contextWindow:i=window,dragSnapToOrigin:r=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=kb(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,y=F8(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!p&&!y)return;const{point:m}=f,{timestamp:b}=ln;this.history.push({...m,timestamp:b});const{onStart:g,onMove:v}=this.handlers;p||(g&&g(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Pb(p,this.transformPagePoint),st.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:y,onSessionEnd:m,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=kb(f.type==="pointercancel"?this.lastMoveEventInfo:Pb(p,this.transformPagePoint),this.history);this.startEvent&&y&&y(f,g),m&&m(f,g)},!TC(e))return;this.dragSnapToOrigin=r,this.handlers=t,this.transformPagePoint=s,this.distanceThreshold=o,this.contextWindow=i||window;const a=Iy(e),c=Pb(a,this.transformPagePoint),{point:u}=c,{timestamp:d}=ln;this.history=[{...u,timestamp:d}];const{onSessionStart:h}=t;h&&h(e,kb(c,this.history)),this.removeListeners=Ny(Jp(this.contextWindow,"pointermove",this.handlePointerMove),Jp(this.contextWindow,"pointerup",this.handlePointerUp),Jp(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),jl(this.updatePoint)}}function Pb(n,e){return e?{point:e(n.point)}:n}function Xk(n,e){return{x:n.x-e.x,y:n.y-e.y}}function kb({point:n},e){return{point:n,delta:Xk(n,VL(e)),offset:Xk(n,O8(e)),velocity:j8(e,.1)}}function O8(n){return n[0]}function VL(n){return n[n.length-1]}function j8(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,s=null;const i=VL(n);for(;t>=0&&(s=n[t],!(i.timestamp-s.timestamp>Wr(e)));)t--;if(!s)return{x:0,y:0};const r=hi(i.timestamp-s.timestamp);if(r===0)return{x:0,y:0};const o={x:(i.x-s.x)/r,y:(i.y-s.y)/r};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function B8(n,{min:e,max:t},s){return e!==void 0&&n<e?n=s?ut(e,n,s.min):Math.max(n,e):t!==void 0&&n>t&&(n=s?ut(t,n,s.max):Math.min(n,t)),n}function Yk(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function V8(n,{top:e,left:t,bottom:s,right:i}){return{x:Yk(n.x,t,i),y:Yk(n.y,e,s)}}function Kk(n,e){let t=e.min-n.min,s=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,s]=[s,t]),{min:t,max:s}}function $8(n,e){return{x:Kk(n.x,e.x),y:Kk(n.y,e.y)}}function U8(n,e){let t=.5;const s=zn(n),i=zn(e);return i>s?t=km(e.min,e.max-s,n.min):s>i&&(t=km(n.min,n.max-i,e.min)),ea(0,1,t)}function z8(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const mA=.35;function H8(n=mA){return n===!1?n=0:n===!0&&(n=mA),{x:Qk(n,"left","right"),y:Qk(n,"top","bottom")}}function Qk(n,e,t){return{min:Zk(n,e),max:Zk(n,t)}}function Zk(n,e){return typeof n=="number"?n:n[e]||0}const W8=new WeakMap;class G8{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Bt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:s}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Iy(h).point)},o=(h,f)=>{const{drag:p,dragPropagation:y,onDragStart:m}=this.getProps();if(p&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Q6(p),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Xs(g=>{let v=this.getAxisMotionValue(g).get()||0;if(Gr.test(v)){const{projection:A}=this.visualElement;if(A&&A.layout){const E=A.layout.layoutBox[g];E&&(v=zn(E)*(parseFloat(v)/100))}}this.originPoint[g]=v}),m&&st.postRender(()=>m(h,f)),fA(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},a=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f;const{dragPropagation:p,dragDirectionLock:y,onDirectionLock:m,onDrag:b}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:g}=f;if(y&&this.currentDirection===null){this.currentDirection=q8(g),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",f.point,g),this.updateAxis("y",f.point,g),this.visualElement.render(),b&&b(h,f)},c=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f,this.stop(h,f),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>Xs(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)==null?void 0:f.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new BL(e,{onSessionStart:r,onStart:o,onMove:a,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:s,contextWindow:jL(this.visualElement)})}stop(e,t){const s=e||this.latestPointerEvent,i=t||this.latestPanInfo,r=this.isDragging;if(this.cancel(),!r||!i||!s)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&st.postRender(()=>a(s,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,s){const{drag:i}=this.getProps();if(!s||!yv(e,i,this.currentDirection))return;const r=this.getAxisMotionValue(e);let o=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(o=B8(o,this.constraints[e],this.elastic[e])),r.set(o)}resolveConstraints(){var r;const{dragConstraints:e,dragElastic:t}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(r=this.visualElement.projection)==null?void 0:r.layout,i=this.constraints;e&&wd(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=V8(s.layoutBox,e):this.constraints=!1,this.elastic=H8(t),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Xs(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=z8(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!wd(e))return!1;const s=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const r=XH(s,i.root,this.visualElement.getTransformPagePoint());let o=$8(i.layout.layoutBox,r);if(t){const a=t(WH(o));this.hasMutatedConstraints=!!a,a&&(o=SL(a))}return o}startAnimation(e){const{drag:t,dragMomentum:s,dragElastic:i,dragTransition:r,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),c=this.constraints||{},u=Xs(d=>{if(!yv(d,t,this.currentDirection))return;let h=c&&c[d]||{};o&&(h={min:0,max:0});const f=i?200:1e6,p=i?40:1e7,y={type:"inertia",velocity:s?e[d]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...r,...h};return this.startAxisValueAnimation(d,y)});return Promise.all(u).then(a)}startAxisValueAnimation(e,t){const s=this.getAxisMotionValue(e);return fA(this.visualElement,e),s.start(FC(e,s,0,t,this.visualElement,!1))}stopAnimation(){Xs(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Xs(e=>{var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),i=s[t];return i||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Xs(t=>{const{drag:s}=this.getProps();if(!yv(t,s,this.currentDirection))return;const{projection:i}=this.visualElement,r=this.getAxisMotionValue(t);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[t];r.set(e[t]-ut(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:s}=this.visualElement;if(!wd(t)||!s||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Xs(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const c=a.get();i[o]=U8({min:c,max:c},this.constraints[o])}});const{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Xs(o=>{if(!yv(o,e,null))return;const a=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];a.set(ut(c,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;W8.set(this.visualElement,this);const e=this.visualElement.current,t=Jp(e,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),s=()=>{const{dragConstraints:c}=this.getProps();wd(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,r=i.addEventListener("measure",s);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),st.read(s);const o=Nm(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Xs(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),t(),r(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:s=!1,dragPropagation:i=!1,dragConstraints:r=!1,dragElastic:o=mA,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:s,dragPropagation:i,dragConstraints:r,dragElastic:o,dragMomentum:a}}}function yv(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function q8(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class X8 extends ql{constructor(e){super(e),this.removeGroupControls=pi,this.removeListeners=pi,this.controls=new G8(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||pi}unmount(){this.removeGroupControls(),this.removeListeners()}}const Jk=n=>(e,t)=>{n&&st.postRender(()=>n(e,t))};class Y8 extends ql{constructor(){super(...arguments),this.removePointerDownListener=pi}onPointerDown(e){this.session=new BL(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:jL(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:s,onPanEnd:i}=this.node.getProps();return{onSessionStart:Jk(e),onStart:Jk(t),onMove:s,onEnd:(r,o)=>{delete this.session,i&&st.postRender(()=>i(r,o))}}}mount(){this.removePointerDownListener=Jp(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Gv={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let _b=!1;class K8 extends P.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:s,layoutId:i}=this.props,{projection:r}=e;r&&(t.group&&t.group.add(r),s&&s.register&&i&&s.register(r),_b&&r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions({...r.options,onExitComplete:()=>this.safeToRemove()})),Gv.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:s,drag:i,isPresent:r}=this.props,{projection:o}=s;return o&&(o.isPresent=r,_b=!0,i||e.layoutDependency!==t||t===void 0||e.isPresent!==r?o.willUpdate():this.safeToRemove(),e.isPresent!==r&&(r?o.promote():o.relegate()||st.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),CC.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:s}=this.props,{projection:i}=e;_b=!0,i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),s&&s.deregister&&s.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function $L(n){const[e,t]=cL(),s=P.useContext(rC);return x.jsx(K8,{...n,layoutGroup:s,switchLayoutGroup:P.useContext(bL),isPresent:e,safeToRemove:t})}function Q8(n,e,t){const s=_n(n)?n:Rf(n);return s.start(FC("",s,e,t)),s.animation}const Z8=(n,e)=>n.depth-e.depth;class J8{constructor(){this.children=[],this.isDirty=!1}add(e){lC(this.children,e),this.isDirty=!0}remove(e){cC(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Z8),this.isDirty=!1,this.children.forEach(e)}}function eW(n,e){const t=cs.now(),s=({timestamp:i})=>{const r=i-t;r>=e&&(jl(s),n(r-e))};return st.setup(s,!0),()=>jl(s)}const UL=["TopLeft","TopRight","BottomLeft","BottomRight"],tW=UL.length,e_=n=>typeof n=="string"?parseFloat(n):n,t_=n=>typeof n=="number"||oe.test(n);function nW(n,e,t,s,i,r){i?(n.opacity=ut(0,t.opacity??1,sW(s)),n.opacityExit=ut(e.opacity??1,0,iW(s))):r&&(n.opacity=ut(e.opacity??1,t.opacity??1,s));for(let o=0;o<tW;o++){const a=`border${UL[o]}Radius`;let c=n_(e,a),u=n_(t,a);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||t_(c)===t_(u)?(n[a]=Math.max(ut(e_(c),e_(u),s),0),(Gr.test(u)||Gr.test(c))&&(n[a]+="%")):n[a]=u}(e.rotate||t.rotate)&&(n.rotate=ut(e.rotate||0,t.rotate||0,s))}function n_(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const sW=zL(0,.5,kD),iW=zL(.5,.95,pi);function zL(n,e,t){return s=>s<n?0:s>e?1:t(km(n,e,s))}function s_(n,e){n.min=e.min,n.max=e.max}function Ei(n,e){s_(n.x,e.x),s_(n.y,e.y)}function i_(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function r_(n,e,t,s,i){return n-=e,n=cw(n,1/t,s),i!==void 0&&(n=cw(n,1/i,s)),n}function rW(n,e=0,t=1,s=.5,i,r=n,o=n){if(Gr.test(e)&&(e=parseFloat(e),e=ut(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=ut(r.min,r.max,s);n===r&&(a-=e),n.min=r_(n.min,e,t,a,i),n.max=r_(n.max,e,t,a,i)}function o_(n,e,[t,s,i],r,o){rW(n,e[t],e[s],e[i],e.scale,r,o)}const oW=["x","scaleX","originX"],aW=["y","scaleY","originY"];function a_(n,e,t,s){o_(n.x,e,oW,t?t.x:void 0,s?s.x:void 0),o_(n.y,e,aW,t?t.y:void 0,s?s.y:void 0)}function l_(n){return n.translate===0&&n.scale===1}function HL(n){return l_(n.x)&&l_(n.y)}function c_(n,e){return n.min===e.min&&n.max===e.max}function lW(n,e){return c_(n.x,e.x)&&c_(n.y,e.y)}function u_(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function WL(n,e){return u_(n.x,e.x)&&u_(n.y,e.y)}function d_(n){return zn(n.x)/zn(n.y)}function h_(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class cW{constructor(){this.members=[]}add(e){lC(this.members,e),e.scheduleRender()}remove(e){if(cC(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let s;for(let i=t;i>=0;i--){const r=this.members[i];if(r.isPresent!==!1){s=r;break}}return s?(this.promote(s),!0):!1}promote(e,t){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,t&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:s}=e;t.onExitComplete&&t.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function uW(n,e,t){let s="";const i=n.x.translate/e.x,r=n.y.translate/e.y,o=(t==null?void 0:t.z)||0;if((i||r||o)&&(s=`translate3d(${i}px, ${r}px, ${o}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:f,skewX:p,skewY:y}=t;u&&(s=`perspective(${u}px) ${s}`),d&&(s+=`rotate(${d}deg) `),h&&(s+=`rotateX(${h}deg) `),f&&(s+=`rotateY(${f}deg) `),p&&(s+=`skewX(${p}deg) `),y&&(s+=`skewY(${y}deg) `)}const a=n.x.scale*e.x,c=n.y.scale*e.y;return(a!==1||c!==1)&&(s+=`scale(${a}, ${c})`),s||"none"}const Rb=["","X","Y","Z"],dW=1e3;let hW=0;function Mb(n,e,t,s){const{latestValues:i}=e;i[n]&&(t[n]=i[n],e.setStaticValue(n,0),s&&(s[n]=0))}function GL(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=ML(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:i,layoutId:r}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",st,!(i||r))}const{parent:s}=n;s&&!s.hasCheckedOptimisedAppear&&GL(s)}function qL({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:s,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=hW++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(mW),this.nodes.forEach(wW),this.nodes.forEach(xW),this.nodes.forEach(gW)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new J8)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new dC),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const c=this.eventHandlers.get(o);c&&c.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=lL(o)&&!sH(o),this.instance=o;const{layoutId:a,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||a)&&(this.isLayoutDirty=!0),n){let d,h=0;const f=()=>this.root.updateBlockedByResize=!1;st.read(()=>{h=window.innerWidth}),n(o,()=>{const p=window.innerWidth;p!==h&&(h=p,this.root.updateBlockedByResize=!0,d&&d(),d=eW(f,250),Gv.hasAnimatedSinceResize&&(Gv.hasAnimatedSinceResize=!1,this.nodes.forEach(m_)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&u&&(a||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||u.getDefaultTransition()||CW,{onLayoutAnimationStart:m,onLayoutAnimationComplete:b}=u.getProps(),g=!this.targetLayout||!WL(this.targetLayout,p),v=!h&&f;if(this.options.layoutRoot||this.resumeFrom||v||h&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const A={...SC(y,"layout"),onPlay:m,onComplete:b};(u.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A),this.setAnimationOrigin(d,v)}else h||m_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),jl(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(bW),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&GL(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:c}=this.options;if(a===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(f_);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(p_);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(vW),this.nodes.forEach(fW),this.nodes.forEach(pW)):this.nodes.forEach(p_),this.clearAllSnapshots();const a=cs.now();ln.delta=ea(0,1e3/60,a-ln.timestamp),ln.timestamp=a,ln.isProcessing=!0,wb.update.process(ln),wb.preRender.process(ln),wb.render.process(ln),ln.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,CC.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(yW),this.sharedNodes.forEach(AW)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,st.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){st.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!zn(this.snapshot.measuredBox.x)&&!zn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Bt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const c=s(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!HL(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&this.instance&&(a||ec(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let c=this.removeElementScroll(a);return o&&(c=this.removeTransform(c)),TW(c),{animationId:this.root.animationId,measuredBox:a,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return Bt();const a=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(PW))){const{scroll:d}=this.root;d&&(xd(a.x,d.offset.x),xd(a.y,d.offset.y))}return a}removeElementScroll(o){var c;const a=Bt();if(Ei(a,o),(c=this.scroll)!=null&&c.wasRoot)return a;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&Ei(a,o),xd(a.x,h.offset.x),xd(a.y,h.offset.y))}return a}applyTransform(o,a=!1){const c=Bt();Ei(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&bd(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),ec(d.latestValues)&&bd(c,d.latestValues)}return ec(this.latestValues)&&bd(c,this.latestValues),c}removeTransform(o){const a=Bt();Ei(a,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!ec(u.latestValues))continue;cA(u.latestValues)&&u.updateSnapshot();const d=Bt(),h=u.measurePageBox();Ei(d,h),a_(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return ec(this.latestValues)&&a_(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ln.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var p;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==a;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!this.layout||!(d||h))return;this.resolvedRelativeTargetAt=ln.timestamp;const f=this.getClosestProjectingParent();f&&this.linkedParentVersion!==f.layoutVersion&&!f.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(f&&f.layout?this.createRelativeTarget(f,this.layout.layoutBox,f.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Bt(),this.targetWithTransforms=Bt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),I8(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ei(this.target,this.layout.layoutBox),CL(this.target,this.targetDelta)):Ei(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?this.createRelativeTarget(f,this.target,f.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||cA(this.parent.latestValues)||EL(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,a,c){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Bt(),this.relativeTargetOrigin=Bt(),uw(this.relativeTargetOrigin,a,c),Ei(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var y;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(y=this.parent)!=null&&y.isProjectionDirty)&&(c=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===ln.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Ei(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;qH(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Bt());const{target:p}=o;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(i_(this.prevProjectionDelta.x,this.projectionDelta.x),i_(this.prevProjectionDelta.y,this.projectionDelta.y)),em(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!h_(this.projectionDelta.x,this.prevProjectionDelta.x)||!h_(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ad(),this.projectionDelta=Ad(),this.projectionDeltaWithTransform=Ad()}setAnimationOrigin(o,a=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=Ad();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=Bt(),p=c?c.source:void 0,y=this.layout?this.layout.source:void 0,m=p!==y,b=this.getStack(),g=!b||b.members.length<=1,v=!!(m&&!g&&this.options.crossfade===!0&&!this.path.some(EW));this.animationProgress=0;let A;this.mixTargetDelta=E=>{const T=E/1e3;g_(h.x,o.x,T),g_(h.y,o.y,T),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(uw(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),SW(this.relativeTarget,this.relativeTargetOrigin,f,T),A&&lW(this.relativeTarget,A)&&(this.isProjectionDirty=!1),A||(A=Bt()),Ei(A,this.relativeTarget)),m&&(this.animationValues=d,nW(d,u,this.latestValues,T,v,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=T},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,c,u;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(jl(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=st.update(()=>{Gv.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Rf(0)),this.currentAnimation=Q8(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),o.onUpdate&&o.onUpdate(d)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(dW),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:c,layout:u,latestValues:d}=o;if(!(!a||!c||!u)){if(this!==o&&this.layout&&u&&XL(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Bt();const h=zn(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const f=zn(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+f}Ei(a,c),bd(a,d),em(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new cW),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(a=!0),!a)return;const u={};c.z&&Mb("z",o,u,this.animationValues);for(let d=0;d<Rb.length;d++)Mb(`rotate${Rb[d]}`,o,u,this.animationValues),Mb(`skew${Rb[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Wv(a==null?void 0:a.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Wv(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!ec(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let h=uW(this.projectionDeltaWithTransform,this.treeScale,d);c&&(h=c(d,h)),o.transform=h;const{x:f,y:p}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${p.origin*100}% 0`,u.animationValues?o.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const y in lA){if(d[y]===void 0)continue;const{correct:m,applyTo:b,isCSSVariable:g}=lA[y],v=h==="none"?d[y]:m(d[y],u);if(b){const A=b.length;for(let E=0;E<A;E++)o[b[E]]=v}else g?this.options.visualElement.renderState.vars[y]=v:o[y]=v}this.options.layoutId&&(o.pointerEvents=u===this?Wv(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(f_),this.root.sharedNodes.clear()}}}function fW(n){n.updateLayout()}function pW(n){var t;const e=((t=n.resumeFrom)==null?void 0:t.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:i}=n.layout,{animationType:r}=n.options,o=e.source!==n.layout.source;r==="size"?Xs(h=>{const f=o?e.measuredBox[h]:e.layoutBox[h],p=zn(f);f.min=s[h].min,f.max=f.min+p}):XL(r,e.layoutBox,s)&&Xs(h=>{const f=o?e.measuredBox[h]:e.layoutBox[h],p=zn(s[h]);f.max=f.min+p,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[h].max=n.relativeTarget[h].min+p)});const a=Ad();em(a,s,e.layoutBox);const c=Ad();o?em(c,n.applyTransform(i,!0),e.measuredBox):em(c,s,e.layoutBox);const u=!HL(a);let d=!1;if(!n.resumeFrom){const h=n.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:p}=h;if(f&&p){const y=Bt();uw(y,e.layoutBox,f.layoutBox);const m=Bt();uw(m,s,p.layoutBox),WL(y,m)||(d=!0),h.options.layoutRoot&&(n.relativeTarget=m,n.relativeTargetOrigin=y,n.relativeParent=h)}}}n.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:c,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(n.isLead()){const{onExitComplete:s}=n.options;s&&s()}n.options.transition=void 0}function mW(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function gW(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function yW(n){n.clearSnapshot()}function f_(n){n.clearMeasurements()}function p_(n){n.isLayoutDirty=!1}function vW(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function m_(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function wW(n){n.resolveTargetDelta()}function xW(n){n.calcProjection()}function bW(n){n.resetSkewAndRotation()}function AW(n){n.removeLeadSnapshot()}function g_(n,e,t){n.translate=ut(e.translate,0,t),n.scale=ut(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function y_(n,e,t,s){n.min=ut(e.min,t.min,s),n.max=ut(e.max,t.max,s)}function SW(n,e,t,s){y_(n.x,e.x,t.x,s),y_(n.y,e.y,t.y,s)}function EW(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const CW={duration:.45,ease:[.4,0,.1,1]},v_=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),w_=v_("applewebkit/")&&!v_("chrome/")?Math.round:pi;function x_(n){n.min=w_(n.min),n.max=w_(n.max)}function TW(n){x_(n.x),x_(n.y)}function XL(n,e,t){return n==="position"||n==="preserve-aspect"&&!L8(d_(e),d_(t),.2)}function PW(n){var e;return n!==n.root&&((e=n.scroll)==null?void 0:e.wasRoot)}const kW=qL({attachResizeListener:(n,e)=>Nm(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Nb={current:void 0},YL=qL({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Nb.current){const n=new kW({});n.mount(window),n.setOptions({layoutScroll:!0}),Nb.current=n}return Nb.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),_W={pan:{Feature:Y8},drag:{Feature:X8,ProjectionNode:YL,MeasureLayout:$L}};function b_(n,e,t){const{props:s}=n;n.animationState&&s.whileHover&&n.animationState.setActive("whileHover",t==="Start");const i="onHover"+t,r=s[i];r&&st.postRender(()=>r(e,Iy(e)))}class RW extends ql{mount(){const{current:e}=this.node;e&&(this.unmount=Z6(e,(t,s)=>(b_(this.node,s,"Start"),i=>b_(this.node,i,"End"))))}unmount(){}}class MW extends ql{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ny(Nm(this.node.current,"focus",()=>this.onFocus()),Nm(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function A_(n,e,t){const{props:s}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&s.whileTap&&n.animationState.setActive("whileTap",t==="Start");const i="onTap"+(t==="End"?"":t),r=s[i];r&&st.postRender(()=>r(e,Iy(e)))}class NW extends ql{mount(){const{current:e}=this.node;e&&(this.unmount=nH(e,(t,s)=>(A_(this.node,s,"Start"),(i,{success:r})=>A_(this.node,i,r?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const gA=new WeakMap,Db=new WeakMap,DW=n=>{const e=gA.get(n.target);e&&e(n)},LW=n=>{n.forEach(DW)};function IW({root:n,...e}){const t=n||document;Db.has(t)||Db.set(t,{});const s=Db.get(t),i=JSON.stringify(e);return s[i]||(s[i]=new IntersectionObserver(LW,{root:n,...e})),s[i]}function FW(n,e,t){const s=IW(e);return gA.set(n,t),s.observe(n),()=>{gA.delete(n),s.unobserve(n)}}const OW={some:0,all:1};class jW extends ql{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:s,amount:i="some",once:r}=e,o={root:t?t.current:void 0,rootMargin:s,threshold:typeof i=="number"?i:OW[i]},a=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,r&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(c)};return FW(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(BW(e,t))&&this.startObserver()}unmount(){}}function BW({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const VW={inView:{Feature:jW},tap:{Feature:NW},focus:{Feature:MW},hover:{Feature:RW}},$W={layout:{ProjectionNode:YL,MeasureLayout:$L}},UW={...k8,...VW,..._W,...$W},ie=HH(UW,s8),zW=iN("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-xl text-sm font-semibold ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 hover:scale-[1.02] active:scale-[0.98]",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border-2 border-border bg-transparent hover:bg-secondary hover:border-primary/30",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-5 py-2",sm:"h-9 rounded-lg px-4 text-xs",lg:"h-12 rounded-xl px-8 text-base",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Zi=P.forwardRef(({className:n,variant:e,size:t,asChild:s=!1,...i},r)=>{const o=s?k3:"button";return x.jsx(o,{className:tr(zW({variant:e,size:t,className:n})),ref:r,...i})});Zi.displayName="Button";const KL="/assets/uni-go-logo-wChDI7RY.png",OC=({size:n="lg",className:e=""})=>x.jsx(Zi,{asChild:!0,size:n,className:`shadow-gold group ${e}`,children:x.jsxs(di,{to:"/beta",children:["Sign Up for Beta",x.jsx(wm,{className:"w-4 h-4 ml-2 group-hover:translate-x-1 transition-transform"})]})}),S_=[{name:"Home",path:"/"},{name:"About",path:"/about"},{name:"For Riders",path:"/riders"},{name:"For Drivers",path:"/drivers"},{name:"Beta Test",path:"/beta"},{name:"Contact",path:"/contact"},{name:"Feedback",path:"/feedback"}],HW=()=>{const[n,e]=P.useState(!1),t=Gf();return x.jsxs("nav",{className:"fixed top-0 left-0 right-0 z-50 glass",children:[x.jsx("div",{className:"container mx-auto px-4",children:x.jsxs("div",{className:"flex items-center justify-between h-16 md:h-20",children:[x.jsxs(di,{to:"/",className:"flex items-center gap-2 group",children:[x.jsx("div",{className:"w-10 h-10 rounded-xl overflow-hidden shadow-gold group-hover:scale-105 transition-transform",children:x.jsx("img",{src:KL,alt:"Uni Go Logo",className:"w-full h-full object-cover"})}),x.jsx("span",{className:"text-xl font-bold text-foreground",children:"Uni Go"})]}),x.jsx("div",{className:"hidden md:flex items-center gap-1",children:S_.map(s=>x.jsx(di,{to:s.path,className:`px-4 py-2 rounded-lg text-sm transition-all ${t.pathname===s.path?"bg-primary/10 text-black font-bold":"text-muted-foreground font-medium hover:text-foreground hover:bg-secondary"}`,children:s.name},s.path))}),x.jsx("div",{className:"hidden md:block",children:x.jsx(OC,{})}),x.jsx("button",{onClick:()=>e(!n),className:"md:hidden p-2 rounded-lg hover:bg-secondary transition-colors",children:n?x.jsx(dN,{className:"w-6 h-6 text-foreground"}):x.jsx(R4,{className:"w-6 h-6 text-foreground"})})]})}),x.jsx(hH,{children:n&&x.jsx(ie.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden glass border-t border-border",children:x.jsxs("div",{className:"container mx-auto px-4 py-4 flex flex-col gap-2",children:[S_.map(s=>x.jsx(di,{to:s.path,onClick:()=>e(!1),className:`px-4 py-3 rounded-lg text-sm transition-all ${t.pathname===s.path?"bg-primary/10 text-black font-bold":"text-muted-foreground font-medium hover:text-foreground hover:bg-secondary"}`,children:s.name},s.path)),x.jsx(Zi,{asChild:!0,variant:"default",className:"mt-2 shadow-gold",children:x.jsx(di,{to:"/beta",onClick:()=>e(!1),children:"Sign Up for Beta"})})]})})})]})},WW=[{name:"Terms & Conditions",path:"/legal/terms"},{name:"Privacy Policy",path:"/legal/privacy"},{name:"Driving Guide",path:"/legal/driving-guide"},{name:"Zero Tolerance Policy",path:"/legal/zero-tolerance"},{name:"Community Standards",path:"/legal/community-standards"},{name:"Privacy Choices",path:"/legal/privacy-choices"}],GW=[{name:"Home",path:"/"},{name:"About",path:"/about"},{name:"Beta Test",path:"/beta"},{name:"Contact",path:"/contact"},{name:"Feedback",path:"/feedback"}],qW=()=>x.jsx("footer",{className:"bg-card border-t border-border",children:x.jsxs("div",{className:"container mx-auto px-4 py-12 md:py-16",children:[x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 lg:gap-12",children:[x.jsxs("div",{className:"lg:col-span-1",children:[x.jsxs(di,{to:"/",className:"flex items-center gap-2 mb-4",children:[x.jsx("div",{className:"w-10 h-10 rounded-xl overflow-hidden shadow-gold group-hover:scale-105 transition-transform",children:x.jsx("img",{src:KL,alt:"Uni Go Logo",className:"w-full h-full object-cover"})}),x.jsx("span",{className:"text-xl font-bold text-foreground",children:"Uni Go"})]}),x.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"The ride-sharing app made exclusively for college students. Connect, ride, and save together."})]}),x.jsxs("div",{children:[x.jsx("h4",{className:"font-semibold text-foreground mb-4",children:"Navigation"}),x.jsx("ul",{className:"space-y-2",children:GW.map(n=>x.jsx("li",{children:x.jsx(di,{to:n.path,className:"text-muted-foreground text-sm hover:text-muted-foreground",children:n.name})},n.path))})]}),x.jsxs("div",{children:[x.jsx("h4",{className:"font-semibold text-foreground mb-4",children:"Legal"}),x.jsx("ul",{className:"space-y-2",children:WW.map(n=>x.jsx("li",{children:x.jsx(di,{to:n.path,className:"text-muted-foreground text-sm hover:text-muted-foreground",children:n.name})},n.path))})]}),x.jsxs("div",{children:[x.jsx("h4",{className:"font-semibold text-foreground mb-4",children:"Contact"}),x.jsxs("a",{href:"mailto:uni.go.llc@gmail.com",className:"flex items-center gap-2 text-muted-foreground text-sm hover:text-muted-foreground",children:[x.jsx(bm,{className:"w-4 h-4"}),"uni.go.llc@gmail.com"]})]})]}),x.jsxs("div",{className:"mt-12 pt-8 border-t border-border flex flex-col md:flex-row items-center justify-between gap-4",children:[x.jsxs("p",{className:"text-muted-foreground text-sm",children:[" ",new Date().getFullYear()," Uni Go. All rights reserved."]}),x.jsx("p",{className:"text-muted-foreground text-sm",children:"Made with  for college students"})]})]})}),fs=({children:n})=>x.jsxs("div",{className:"min-h-screen flex flex-col bg-gradient-hero",children:[x.jsx(HW,{}),x.jsx("main",{className:"flex-1 pt-16 md:pt-20",children:n}),x.jsx(qW,{})]}),QL="/assets/ride-feed-DIslKfhJ.png",XW="/assets/get-started-DqCEWGXZ.png",YW=()=>x.jsxs("section",{className:"relative overflow-hidden py-12 md:py-20 lg:py-28",children:[x.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[x.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-primary/10 rounded-full blur-3xl"}),x.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-primary/5 rounded-full blur-3xl"})]}),x.jsx("div",{className:"container mx-auto px-4 relative z-10",children:x.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 lg:gap-16 items-center",children:[x.jsxs(ie.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center lg:text-left",children:[x.jsxs(ie.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2},className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-primary/10 border border-primary/20 mb-6",children:[x.jsx(L4,{className:"w-4 h-4 text-black"}),x.jsx("span",{className:"text-sm font-medium text-black",children:"Exclusively for College Students"})]}),x.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-foreground mb-6 leading-tight",children:["Ridesharing for students,"," ",x.jsx("span",{className:"text-gradient-gold",children:"by students"})]}),x.jsx("p",{className:"text-lg md:text-xl text-muted-foreground mb-8 max-w-xl mx-auto lg:mx-0",children:"Uni Go connects students who need rides with those who can offer them. Whether youre getting groceries, catching a flight, going out with friends, or going home for break, Uni Go makes it simple to get where you need to go."}),x.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center lg:justify-start",children:x.jsx(Zi,{asChild:!0,size:"lg",className:"shadow-gold group",children:x.jsxs(di,{to:"/beta",children:["Sign Up for Beta",x.jsx(wm,{className:"w-4 h-4 ml-2 group-hover:translate-x-1 transition-transform"})]})})}),x.jsx("div",{className:"mt-10 grid grid-cols-3 gap-6 max-w-md mx-auto lg:mx-0",children:[{value:"100%",label:"Earnings Kept"},{value:"0",label:"Platform Fees"},{value:"",label:"Possibilities"}].map((n,e)=>x.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4+e*.1},className:"text-center lg:text-left",children:[x.jsx("div",{className:"text-2xl md:text-3xl font-bold text-foreground",children:n.value}),x.jsx("div",{className:"text-sm text-muted-foreground",children:n.label})]},n.label))})]}),x.jsx(ie.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{duration:.6,delay:.3},className:"relative flex justify-center lg:justify-end",children:x.jsxs("div",{className:"relative",children:[x.jsx("img",{src:XW,alt:"Get Started Screen",className:"w-56 md:w-64 animate-float rounded-3xl shadow-uni-lg"}),x.jsx("div",{className:"absolute -left-24 md:-left-44 top-16",children:x.jsx("img",{src:QL,alt:"Ride Feed Screen",className:"w-48 md:w-56 rounded-3xl shadow-uni-lg"})})]})})]})})]}),KW=[{icon:K0,title:"Set Your Route",description:"Enter your start and destination"},{icon:xm,title:"Choose Time & Seats",description:"Set when you're leaving and how many can join"},{icon:cx,title:"Set Your Price",description:"You decide the farekeep 100% of it"},{icon:$f,title:"Accept Riders",description:"Review requests and accept riders"}],QW=[{icon:N4,title:"Browse Rides",description:"Find rides that match your route"},{icon:cx,title:"Set Your Budget",description:"Filter by price that works for you"},{icon:$f,title:"Request a Seat",description:"Send a request to the driver"},{icon:lN,title:"Go!",description:"Meet up and enjoy the ride"}],ZW=()=>x.jsx("section",{className:"py-16 md:py-24 bg-card",children:x.jsxs("div",{className:"container mx-auto px-4",children:[x.jsxs(ie.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-16",children:[x.jsxs("h2",{className:"text-3xl md:text-4xl font-bold text-foreground mb-4",children:["How ",x.jsx("span",{className:"text-gradient-gold",children:"Uni Go"})," Works"]}),x.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Whether you have a car or need a ride, Uni Go makes it easy to connect with fellow students."})]}),x.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 lg:gap-16",children:[x.jsxs(ie.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},className:"bg-gradient-card rounded-3xl p-8 border border-border shadow-uni-md",children:[x.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[x.jsx("div",{className:"w-12 h-12 rounded-2xl bg-primary flex items-center justify-center shadow-gold",children:x.jsx(lN,{className:"w-6 h-6 text-primary-foreground"})}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-xl font-bold text-foreground",children:"Have a Car?"}),x.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:"Earn up to $30/hr"})]})]}),x.jsx("div",{className:"space-y-6",children:KW.map((n,e)=>x.jsxs(ie.div,{initial:{opacity:0,x:-10},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:e*.1},className:"flex items-start gap-4",children:[x.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-xl bg-secondary flex items-center justify-center",children:x.jsx(n.icon,{className:"w-5 h-5 text-primary"})}),x.jsxs("div",{children:[x.jsx("h4",{className:"font-semibold text-foreground",children:n.title}),x.jsx("p",{className:"text-sm text-muted-foreground",children:n.description})]})]},n.title))}),x.jsx("div",{className:"mt-8 p-4 rounded-2xl bg-primary/10 border border-primary/20",children:x.jsxs("p",{className:"text-sm text-foreground",children:[x.jsx("span",{className:"font-semibold",children:" Keep 100% of your earnings!"})," No platform fees, no hidden charges."]})})]}),x.jsxs(ie.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},className:"bg-gradient-card rounded-3xl p-8 border border-border shadow-uni-md",children:[x.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[x.jsx("div",{className:"w-12 h-12 rounded-2xl bg-foreground flex items-center justify-center",children:x.jsx($f,{className:"w-6 h-6 text-background"})}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-xl font-bold text-foreground",children:"Need a Ride?"}),x.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:"Affordable & Easy"})]})]}),x.jsx("div",{className:"space-y-6",children:QW.map((n,e)=>x.jsxs(ie.div,{initial:{opacity:0,x:10},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:e*.1},className:"flex items-start gap-4",children:[x.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-xl bg-secondary flex items-center justify-center",children:x.jsx(n.icon,{className:"w-5 h-5 text-foreground"})}),x.jsxs("div",{children:[x.jsx("h4",{className:"font-semibold text-foreground",children:n.title}),x.jsx("p",{className:"text-sm text-muted-foreground",children:n.description})]})]},n.title))}),x.jsx("div",{className:"mt-8 p-4 rounded-2xl bg-secondary",children:x.jsxs("p",{className:"text-sm text-foreground",children:[x.jsx("span",{className:"font-semibold",children:" Save money!"})," Rides are often cheaper than Uber or Lyft."]})})]})]})]})}),JW=[{icon:D4,title:"Groceries",description:"Weekly grocery runs"},{icon:M4,title:"Airport",description:"Catch your flight"},{icon:A4,title:"Internships",description:"Daily commute"},{icon:aN,title:"Appointments",description:"Doctor visits & more"},{icon:E4,title:"Downtown",description:"Night out safely"},{icon:_4,title:"Long Distance",description:"Home for break"}],eG=()=>x.jsx("section",{className:"py-16 md:py-24",children:x.jsxs("div",{className:"container mx-auto px-4",children:[x.jsxs(ie.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-12",children:[x.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-foreground mb-4",children:"Where Do You Need to Go?"}),x.jsx("p",{className:"text-lg text-muted-foreground",children:"Uni Go is perfect for any trip, big, or small."})]}),x.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:JW.map((n,e)=>x.jsxs(ie.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:e*.05},whileHover:{y:-5,scale:1.02},className:"bg-card rounded-2xl p-6 border border-border shadow-uni-sm hover:shadow-uni-md hover:border-primary/30 transition-all cursor-default",children:[x.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary/10 flex items-center justify-center mb-4 mx-auto",children:x.jsx(n.icon,{className:"w-6 h-6 text-primary"})}),x.jsx("h3",{className:"font-semibold text-foreground text-center mb-1",children:n.title}),x.jsx("p",{className:"text-xs text-muted-foreground text-center",children:n.description})]},n.title))})]})}),tG=()=>x.jsxs("section",{className:"py-16 md:py-24 bg-foreground relative overflow-hidden",children:[x.jsxs("div",{className:"absolute inset-0 opacity-5",children:[x.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_30%_20%,_hsl(var(--primary))_0%,_transparent_50%)]"}),x.jsx("div",{className:"absolute bottom-0 right-0 w-full h-full bg-[radial-gradient(circle_at_70%_80%,_hsl(var(--primary))_0%,_transparent_50%)]"})]}),x.jsx("div",{className:"container mx-auto px-4 relative z-10",children:x.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[x.jsxs(ie.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1},className:"text-3xl md:text-4xl lg:text-5xl font-bold text-background mb-6",children:["Help Us Launch Uni Go at"," ",x.jsx("span",{className:"text-primary",children:"Augustana University"})]}),x.jsx(ie.p,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.2},className:"text-lg text-background/70 mb-8 max-w-2xl mx-auto",children:"Sign up to test the app as a rider, driver, or both. Share feedback to help us build features that work for you."}),x.jsx(ie.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.3},className:"grid md:grid-cols-3 gap-6 mb-10",children:[{icon:uN,title:"Gift Cards",description:"Gift cards & prizes for participating"},{icon:$f,title:"Early Access",description:"Be first to try new features"},{icon:cN,title:"Shape the App",description:"Your feedback directly impacts development"}].map((n,e)=>x.jsxs("div",{className:"bg-background/5 border border-background/10 rounded-2xl p-6",children:[x.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary/20 flex items-center justify-center mb-4 mx-auto",children:x.jsx(n.icon,{className:"w-6 h-6 text-primary"})}),x.jsx("h3",{className:"font-semibold text-background mb-2",children:n.title}),x.jsx("p",{className:"text-sm text-background/60",children:n.description})]},n.title))}),x.jsx(ie.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.4},children:x.jsx(Zi,{asChild:!0,size:"lg",className:"shadow-gold group",children:x.jsxs(di,{to:"/beta",children:["Sign Up for Beta",x.jsx(wm,{className:"w-4 h-4 ml-2 group-hover:translate-x-1 transition-transform"})]})})})]})})]}),nG=()=>x.jsxs(fs,{children:[x.jsx(YW,{}),x.jsx(ZW,{}),x.jsx(eG,{}),x.jsx(tG,{})]}),sG=[{icon:$f,title:"Community First",description:"Built by students, for students. We understand campus life and your unique transportation needs."},{icon:HE,title:"Safety Matters",description:"Every user is verified with a .edu email. Drive and ride with fellow students you can trust."},{icon:T4,title:"Zero Platform Fees",description:"Drivers keep 100% of what they earn. We believe in supporting students, not taking from them."},{icon:F4,title:"Student-Focused",description:"From grocery runs to airport trips, we're designed for the rides that matter most to college life."}],iG=()=>x.jsxs(fs,{children:[x.jsx("section",{className:"py-16 md:py-24",children:x.jsx("div",{className:"container mx-auto px-4",children:x.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[x.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[x.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-foreground mb-6",children:["What is ",x.jsx("span",{className:"text-gradient-gold",children:"Uni Go"}),"?"]}),x.jsx("p",{className:"text-lg text-muted-foreground mb-6",children:"Uni Go is an app that connects students who need rides with those who can offer them. Whether you're heading to the grocery store, catching a flight, or driving home for break, Uni Go makes it easy to share rides and split costs with fellow students."}),x.jsx("p",{className:"text-lg text-muted-foreground",children:"We believe transportation shouldn't be a barrier to college life. That's why we built an app where drivers keep 100% of their earnings and riders get affordable rides from people they can trust."})]}),x.jsx(ie.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},className:"flex justify-center",children:x.jsx("div",{className:"w-56 md:w-64",children:x.jsx("img",{src:QL,alt:"Ride Feed Screen",className:"w-48 md:w-56 rounded-3xl shadow-uni-lg"})})})]})})}),x.jsx("section",{className:"py-16 md:py-24 bg-card",children:x.jsxs("div",{className:"container mx-auto px-4",children:[x.jsxs(ie.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-12",children:[x.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-foreground mb-4",children:"Why Uni Go?"}),x.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"We're not just another rideshare app. We're a community built on trust, affordability, and student success."})]}),x.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:sG.map((n,e)=>x.jsxs(ie.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:e*.1},className:"bg-background rounded-2xl p-6 border border-border hover:border-primary/30 hover:shadow-uni-md transition-all",children:[x.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary/10 flex items-center justify-center mb-4",children:x.jsx(n.icon,{className:"w-6 h-6 text-primary"})}),x.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:n.title}),x.jsx("p",{className:"text-muted-foreground",children:n.description})]},n.title))})]})}),x.jsx("section",{className:"py-16 md:py-24",children:x.jsx("div",{className:"container mx-auto px-4",children:x.jsxs(ie.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"max-w-3xl mx-auto text-center",children:[x.jsx("div",{className:"w-16 h-16 rounded-2xl bg-primary flex items-center justify-center mx-auto mb-6 shadow-gold",children:x.jsx(O4,{className:"w-8 h-8 text-primary-foreground"})}),x.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-foreground mb-6",children:"Our Mission"}),x.jsx("p",{className:"text-lg text-muted-foreground mb-6",children:"To make transportation accessible, affordable, and social for every college student. We're building a platform where students can earn money, save money, and make connectionsall while getting where they need to go."})]})})})]}),rG=[{icon:K0,title:"Find Rides Anywhere",description:"Browse available rides by drivers heading your way or post a ride request with your budget."},{icon:cx,title:"Save Money",description:"Ride by yourself or split costs with other students. Pay prices set by student drivers. No app fee means cheaper rides for you."},{icon:xm,title:"Flexible Schedules",description:"Find rides that match your schedule. Last-minute trips or planned journeys."},{icon:HE,title:"Safe & Verified",description:"All users are verified with university email. So you can ride with confidence."},{icon:xm,title:"Short or Long Trips",description:"Ride around town or when you are headed home for breaks. Drivers can take you anywhere for the right price."},{icon:oN,title:"Never Miss a Ride Offer",description:"Set points of interest to get notified when rides are available for your favorite routes."}],oG=[{step:"1",title:"Browse or Post",description:"Check the ride feed for available trips or post your own ride request with your budget and number of seats needed."},{step:"2",title:"Connect with Driver",description:"Multiple drivers can offer you the ride and you can choose who to ride with."},{step:"3",title:"Enjoy Your Ride",description:"Meet your driver at the agreed location and enjoy your trip."},{step:"4",title:"Rate & Review",description:"Share your experience to help build a trusted community."}],aG=()=>x.jsxs(fs,{children:[x.jsxs("section",{className:"py-16 md:py-24 relative overflow-hidden",children:[x.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[x.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-primary/10 rounded-full blur-3xl"}),x.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-primary/5 rounded-full blur-3xl"})]}),x.jsx("div",{className:"container mx-auto px-4 relative z-10",children:x.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center max-w-3xl mx-auto",children:[x.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-foreground mb-6 leading-tight",children:["Get Where You Need to Go,"," ",x.jsx("span",{className:"text-gradient-gold",children:"Affordably"})]}),x.jsx("p",{className:"text-lg md:text-xl text-muted-foreground mb-8",children:"Whether you need a ride around town, to the airport, or even to another city, connect with verified student drivers in your community. Save money and make friends along the way."})]})})]}),x.jsx("section",{className:"py-16 md:py-24 bg-card",children:x.jsxs("div",{className:"container mx-auto px-4",children:[x.jsxs(ie.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-12",children:[x.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-foreground mb-4",children:"Why Ride with Uni Go?"}),x.jsx("p",{className:"text-lg text-muted-foreground",children:"Everything you need for safe, affordable rides with other students."})]}),x.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 max-w-6xl mx-auto",children:rG.map((n,e)=>x.jsxs(ie.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:e*.1},className:"bg-background rounded-2xl p-6 border border-border hover:border-primary/30 hover:shadow-uni-md transition-all",children:[x.jsx("div",{className:"w-14 h-14 rounded-xl bg-primary/10 flex items-center justify-center mb-4",children:x.jsx(n.icon,{className:"w-7 h-7 text-primary"})}),x.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:n.title}),x.jsx("p",{className:"text-muted-foreground text-sm",children:n.description})]},n.title))})]})}),x.jsx("section",{className:"py-16 md:py-24",children:x.jsxs("div",{className:"container mx-auto px-4",children:[x.jsxs(ie.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-12",children:[x.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-foreground mb-4",children:"How It Works"}),x.jsx("p",{className:"text-lg text-muted-foreground",children:"Getting a ride is quick and easy."})]}),x.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-6xl mx-auto",children:oG.map((n,e)=>x.jsxs(ie.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:e*.1},className:"text-center",children:[x.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-4 border-2 border-primary/20",children:x.jsx("span",{className:"text-2xl font-bold text-primary",children:n.step})}),x.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:n.title}),x.jsx("p",{className:"text-muted-foreground text-sm",children:n.description})]},n.step))})]})}),x.jsx("section",{className:"py-16 md:py-24 bg-foreground",children:x.jsx("div",{className:"container mx-auto px-4",children:x.jsxs(ie.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"max-w-2xl mx-auto text-center",children:[x.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-background mb-4",children:"Ready to Start Riding?"}),x.jsx("p",{className:"text-lg text-background/70 mb-8",children:"Join our beta program and be among the first to experience affordable student ridesharing."}),x.jsx(OC,{})]})})})]}),lG=[{icon:K0,title:"Find Rides Anywhere",description:"Browse available rides requests or post a ride offer with your own price per seat."},{icon:cx,title:"Earn Extra Money",description:"Set your own rates and earn for each ride. No platform fees, which means you keep 100% of your earnings."},{icon:K0,title:"Flexible Schedules",description:"Drive your own routes between classes, weekends, or whenever fits your schedule. Choose when, where, and how often you drive. No restrictions."},{icon:HE,title:"Safe & Verified",description:"All users are verified with university email. So you can drive with confidence."},{icon:xm,title:"Short or Long Trips",description:"Drive around town or when you are headed home for breaks. You choose the distance."},{icon:oN,title:"Never Miss a Ride Request",description:"Set points of interest to get notified when someone requests a ride for your favorite routes."}],cG=[{step:"1",title:"Browse or Post",description:"Check the ride feed for available requests or post your own ride offer with your price per seat."},{step:"2",title:"Receive Requests",description:"Get ride requests from students heading your way. Accept or decline; you are in control."},{step:"3",title:"Complete the Ride",description:"Pick up your passengers from the agreed pickup point and drive."},{step:"4",title:"Earn & Rate",description:"Get paid. Build your reputation with positive ratings."}],uG=()=>x.jsxs(fs,{children:[x.jsxs("section",{className:"py-16 md:py-24 relative overflow-hidden",children:[x.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[x.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-primary/10 rounded-full blur-3xl"}),x.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-primary/5 rounded-full blur-3xl"})]}),x.jsx("div",{className:"container mx-auto px-4 relative z-10",children:x.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center max-w-3xl mx-auto",children:[x.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-foreground mb-6 leading-tight",children:["Drive &"," ",x.jsx("span",{className:"text-gradient-gold",children:"Earn"})]}),x.jsx("p",{className:"text-lg md:text-xl text-muted-foreground mb-8",children:"Turn your time into extra income. Drive fellow students to get where they need to go and make money for it. No hidden fees, no commission."})]})})]}),x.jsx("section",{className:"py-16 md:py-24 bg-card",children:x.jsxs("div",{className:"container mx-auto px-4",children:[x.jsxs(ie.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-12",children:[x.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-foreground mb-4",children:"Why Drive with Uni Go?"}),x.jsx("p",{className:"text-lg text-muted-foreground",children:"The best way for students to earn money on their own terms."})]}),x.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 max-w-6xl mx-auto",children:lG.map((n,e)=>x.jsxs(ie.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:e*.1},className:"bg-background rounded-2xl p-6 border border-border hover:border-primary/30 hover:shadow-uni-md transition-all",children:[x.jsx("div",{className:"w-14 h-14 rounded-xl bg-primary/10 flex items-center justify-center mb-4",children:x.jsx(n.icon,{className:"w-7 h-7 text-primary"})}),x.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:n.title}),x.jsx("p",{className:"text-muted-foreground text-sm",children:n.description})]},n.title))})]})}),x.jsx("section",{className:"py-16 md:py-24",children:x.jsxs("div",{className:"container mx-auto px-4",children:[x.jsxs(ie.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-12",children:[x.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-foreground mb-4",children:"How It Works"}),x.jsx("p",{className:"text-lg text-muted-foreground",children:"Start earning in just a few simple steps."})]}),x.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-6xl mx-auto",children:cG.map((n,e)=>x.jsxs(ie.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:e*.1},className:"text-center",children:[x.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-4 border-2 border-primary/20",children:x.jsx("span",{className:"text-2xl font-bold text-primary",children:n.step})}),x.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:n.title}),x.jsx("p",{className:"text-muted-foreground text-sm",children:n.description})]},n.step))})]})}),x.jsx("section",{className:"py-16 md:py-24 bg-foreground",children:x.jsx("div",{className:"container mx-auto px-4",children:x.jsxs(ie.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"max-w-2xl mx-auto text-center",children:[x.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-background mb-4",children:"Ready to Start Earning?"}),x.jsx("p",{className:"text-lg text-background/70 mb-8",children:"Join our beta program and be among the first drivers to earn with Uni Go."}),x.jsx(OC,{})]})})})]});var Ax="Collapsible",[dG,ZL]=jf(Ax),[hG,jC]=dG(Ax),JL=P.forwardRef((n,e)=>{const{__scopeCollapsible:t,open:s,defaultOpen:i,disabled:r,onOpenChange:o,...a}=n,[c,u]=ox({prop:s,defaultProp:i??!1,onChange:o,caller:Ax});return x.jsx(hG,{scope:t,disabled:r,contentId:AN(),open:c,onOpenToggle:P.useCallback(()=>u(d=>!d),[u]),children:x.jsx(zt.div,{"data-state":VC(c),"data-disabled":r?"":void 0,...a,ref:e})})});JL.displayName=Ax;var eI="CollapsibleTrigger",tI=P.forwardRef((n,e)=>{const{__scopeCollapsible:t,...s}=n,i=jC(eI,t);return x.jsx(zt.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":VC(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...s,ref:e,onClick:_t(n.onClick,i.onOpenToggle)})});tI.displayName=eI;var BC="CollapsibleContent",nI=P.forwardRef((n,e)=>{const{forceMount:t,...s}=n,i=jC(BC,n.__scopeCollapsible);return x.jsx(rx,{present:t||i.open,children:({present:r})=>x.jsx(fG,{...s,ref:e,present:r})})});nI.displayName=BC;var fG=P.forwardRef((n,e)=>{const{__scopeCollapsible:t,present:s,children:i,...r}=n,o=jC(BC,t),[a,c]=P.useState(s),u=P.useRef(null),d=Us(e,u),h=P.useRef(0),f=h.current,p=P.useRef(0),y=p.current,m=o.open||a,b=P.useRef(m),g=P.useRef(void 0);return P.useEffect(()=>{const v=requestAnimationFrame(()=>b.current=!1);return()=>cancelAnimationFrame(v)},[]),qr(()=>{const v=u.current;if(v){g.current=g.current||{transitionDuration:v.style.transitionDuration,animationName:v.style.animationName},v.style.transitionDuration="0s",v.style.animationName="none";const A=v.getBoundingClientRect();h.current=A.height,p.current=A.width,b.current||(v.style.transitionDuration=g.current.transitionDuration,v.style.animationName=g.current.animationName),c(s)}},[o.open,s]),x.jsx(zt.div,{"data-state":VC(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!m,...r,ref:d,style:{"--radix-collapsible-content-height":f?`${f}px`:void 0,"--radix-collapsible-content-width":y?`${y}px`:void 0,...n.style},children:m&&i})});function VC(n){return n?"open":"closed"}var pG=JL,mG=tI,gG=nI,yG=P.createContext(void 0);function vG(n){const e=P.useContext(yG);return n||e||"ltr"}var nr="Accordion",wG=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[$C,xG,bG]=NM(nr),[Sx,Fq]=jf(nr,[bG,ZL]),UC=ZL(),sI=$.forwardRef((n,e)=>{const{type:t,...s}=n,i=s,r=s;return x.jsx($C.Provider,{scope:n.__scopeAccordion,children:t==="multiple"?x.jsx(CG,{...r,ref:e}):x.jsx(EG,{...i,ref:e})})});sI.displayName=nr;var[iI,AG]=Sx(nr),[rI,SG]=Sx(nr,{collapsible:!1}),EG=$.forwardRef((n,e)=>{const{value:t,defaultValue:s,onValueChange:i=()=>{},collapsible:r=!1,...o}=n,[a,c]=ox({prop:t,defaultProp:s??"",onChange:i,caller:nr});return x.jsx(iI,{scope:n.__scopeAccordion,value:$.useMemo(()=>a?[a]:[],[a]),onItemOpen:c,onItemClose:$.useCallback(()=>r&&c(""),[r,c]),children:x.jsx(rI,{scope:n.__scopeAccordion,collapsible:r,children:x.jsx(oI,{...o,ref:e})})})}),CG=$.forwardRef((n,e)=>{const{value:t,defaultValue:s,onValueChange:i=()=>{},...r}=n,[o,a]=ox({prop:t,defaultProp:s??[],onChange:i,caller:nr}),c=$.useCallback(d=>a((h=[])=>[...h,d]),[a]),u=$.useCallback(d=>a((h=[])=>h.filter(f=>f!==d)),[a]);return x.jsx(iI,{scope:n.__scopeAccordion,value:o,onItemOpen:c,onItemClose:u,children:x.jsx(rI,{scope:n.__scopeAccordion,collapsible:!0,children:x.jsx(oI,{...r,ref:e})})})}),[TG,Ex]=Sx(nr),oI=$.forwardRef((n,e)=>{const{__scopeAccordion:t,disabled:s,dir:i,orientation:r="vertical",...o}=n,a=$.useRef(null),c=Us(a,e),u=xG(t),h=vG(i)==="ltr",f=_t(n.onKeyDown,p=>{var R;if(!wG.includes(p.key))return;const y=p.target,m=u().filter(M=>{var N;return!((N=M.ref.current)!=null&&N.disabled)}),b=m.findIndex(M=>M.ref.current===y),g=m.length;if(b===-1)return;p.preventDefault();let v=b;const A=0,E=g-1,T=()=>{v=b+1,v>E&&(v=A)},k=()=>{v=b-1,v<A&&(v=E)};switch(p.key){case"Home":v=A;break;case"End":v=E;break;case"ArrowRight":r==="horizontal"&&(h?T():k());break;case"ArrowDown":r==="vertical"&&T();break;case"ArrowLeft":r==="horizontal"&&(h?k():T());break;case"ArrowUp":r==="vertical"&&k();break}const _=v%g;(R=m[_].ref.current)==null||R.focus()});return x.jsx(TG,{scope:t,disabled:s,direction:i,orientation:r,children:x.jsx($C.Slot,{scope:t,children:x.jsx(zt.div,{...o,"data-orientation":r,ref:c,onKeyDown:s?void 0:f})})})}),dw="AccordionItem",[PG,zC]=Sx(dw),aI=$.forwardRef((n,e)=>{const{__scopeAccordion:t,value:s,...i}=n,r=Ex(dw,t),o=AG(dw,t),a=UC(t),c=AN(),u=s&&o.value.includes(s)||!1,d=r.disabled||n.disabled;return x.jsx(PG,{scope:t,open:u,disabled:d,triggerId:c,children:x.jsx(pG,{"data-orientation":r.orientation,"data-state":fI(u),...a,...i,ref:e,disabled:d,open:u,onOpenChange:h=>{h?o.onItemOpen(s):o.onItemClose(s)}})})});aI.displayName=dw;var lI="AccordionHeader",cI=$.forwardRef((n,e)=>{const{__scopeAccordion:t,...s}=n,i=Ex(nr,t),r=zC(lI,t);return x.jsx(zt.h3,{"data-orientation":i.orientation,"data-state":fI(r.open),"data-disabled":r.disabled?"":void 0,...s,ref:e})});cI.displayName=lI;var yA="AccordionTrigger",uI=$.forwardRef((n,e)=>{const{__scopeAccordion:t,...s}=n,i=Ex(nr,t),r=zC(yA,t),o=SG(yA,t),a=UC(t);return x.jsx($C.ItemSlot,{scope:t,children:x.jsx(mG,{"aria-disabled":r.open&&!o.collapsible||void 0,"data-orientation":i.orientation,id:r.triggerId,...a,...s,ref:e})})});uI.displayName=yA;var dI="AccordionContent",hI=$.forwardRef((n,e)=>{const{__scopeAccordion:t,...s}=n,i=Ex(nr,t),r=zC(dI,t),o=UC(t);return x.jsx(gG,{role:"region","aria-labelledby":r.triggerId,"data-orientation":i.orientation,...o,...s,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...n.style}})});hI.displayName=dI;function fI(n){return n?"open":"closed"}var kG=sI,_G=aI,RG=cI,pI=uI,mI=hI;const MG=kG,gI=P.forwardRef(({className:n,...e},t)=>x.jsx(_G,{ref:t,className:tr("border-b",n),...e}));gI.displayName="AccordionItem";const yI=P.forwardRef(({className:n,children:e,...t},s)=>x.jsx(RG,{className:"flex",children:x.jsxs(pI,{ref:s,className:tr("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",n),...t,children:[e,x.jsx(C4,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));yI.displayName=pI.displayName;const vI=P.forwardRef(({className:n,children:e,...t},s)=>x.jsx(mI,{ref:s,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...t,children:x.jsx("div",{className:tr("pb-4 pt-0",n),children:e})}));vI.displayName=mI.displayName;const NG=()=>{const n=[{question:"How do I sign up for the beta test?",answer:"You can sign up for the beta test by clicking the 'Sign Up for Beta' button on our website or navigating to our Beta page. Fill out the form with your details to get started!"},{question:"When will Uni Go launch?",answer:"We're currently in beta testing phase with select universities. Full launch details will be in Spring 2026. Stay tuned for updates!"},{question:"How do drivers get paid?",answer:"When you post a ride as a driver, you set your own price for the trip. You keep 100% of the fare. You can also accept ride requests from other users and earn money that way."},{question:"Can I set my own schedule as a driver?",answer:"Yes, drivers can set their own schedules and work as much or as little as they want. You can choose to fulfill any rides that others request or post your own."},{question:"Can drivers drive casually or is there a commitment?",answer:"Drivers have complete flexibility. You can drive casually whenever you want without any long-term commitment. Just log in, accept rides, post your own rides, and start earning!"},{question:"Can I choose who I drive?",answer:"As a driver, you can view rider profiles and ratings before accepting ride requests. This allows you to choose riders you feel comfortable driving."},{question:"How can I make sure I don't miss any rides?",answer:"In your account settings, you can set certain locations to receive notifications so you never miss a ride for that location."},{question:"Can I be a rider and a driver?",answer:"Absolutely! Many users choose to be both riders and drivers on Uni Go. You can switch between roles based on your needs and availability."},{question:"As a rider, can I coordinate rides with friends?",answer:"Yes, when creating your ride, enter how many seats you would need so the appropriate drivers can accept with your request."},{question:"Can I choose who I ride with?",answer:"Yes, as a rider, you can view driver profiles and ratings before accepting. This way, you can choose to ride with drivers you feel comfortable with."},{question:"Is there an Android app available?",answer:"Currently, Uni Go is available as an iOS app. We are working on developing native apps for Android, which will be released in the near future."}];return x.jsx(fs,{children:x.jsx("section",{className:"py-16 md:py-24",children:x.jsxs("div",{className:"container mx-auto px-4",children:[x.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-2xl mx-auto text-center",children:[x.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-foreground mb-6",children:["Contact ",x.jsx("span",{className:"text-gradient-gold",children:"Us"})]}),x.jsx("p",{className:"text-lg text-muted-foreground mb-12",children:"Have questions about Uni Go? We're here to help! Reach out and we'll get back to you as soon as possible."})]}),x.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"max-w-xl mx-auto",children:[x.jsx("div",{className:"bg-card rounded-3xl p-8 md:p-12 border border-border shadow-uni-md",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"w-20 h-20 rounded-2xl bg-primary/10 flex items-center justify-center mx-auto mb-6",children:x.jsx(bm,{className:"w-10 h-10 text-primary"})}),x.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"Email Us"}),x.jsx(Zi,{asChild:!0,size:"lg",className:"shadow-gold w-full sm:w-auto",children:x.jsxs("a",{href:"mailto:uni.go.llc@gmail.com",children:[x.jsx(bm,{className:"w-5 h-5 mr-2"}),"uni.go.llc@gmail.com"]})})]})}),x.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"mt-8 p-6 bg-secondary/50 roundedi-2xl",children:[x.jsx("h3",{className:"font-semibold text-foreground mb-4 text-center",children:"FAQ"}),x.jsx(MG,{type:"single",collapsible:!0,className:"w-full",children:n.map((e,t)=>x.jsxs(gI,{value:`item-${t}`,children:[x.jsx(yI,{className:"text-sm text-foreground hover:font-bold hover:text-foreground no-underline",children:e.question}),x.jsx(vI,{className:"text-sm text-muted-foreground",children:e.answer})]},t))})]})]})]})})})},DG=[{icon:I4,title:"General Feedback",description:"Share your thoughts on Uni Go"},{icon:k4,title:"Feature Request",description:"Suggest new features"},{icon:S4,title:"Report a Bug",description:"Help us fix issues"}],LG=()=>x.jsx(fs,{children:x.jsx("section",{className:"py-16 md:py-24",children:x.jsxs("div",{className:"container mx-auto px-4",children:[x.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-2xl mx-auto text-center",children:[x.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-foreground mb-6",children:["Share Your ",x.jsx("span",{className:"text-gradient-gold",children:"Feedback"})]}),x.jsx("p",{className:"text-lg text-muted-foreground mb-12",children:"Your feedback helps us build a better app for students. Whether it's a bug report, feature request, or general thoughtswe want to hear from you!"})]}),x.jsx(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"grid md:grid-cols-3 gap-6 max-w-4xl mx-auto mb-12",children:DG.map((n,e)=>x.jsxs("div",{className:"bg-card rounded-2xl p-6 border border-border text-center",children:[x.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary/10 flex items-center justify-center mx-auto mb-4",children:x.jsx(n.icon,{className:"w-6 h-6 text-primary"})}),x.jsx("h3",{className:"font-semibold text-foreground mb-1",children:n.title}),x.jsx("p",{className:"text-sm text-muted-foreground",children:n.description})]},n.title))}),x.jsx(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"max-w-xl mx-auto",children:x.jsxs("div",{className:"bg-card rounded-3xl p-8 md:p-12 border border-border shadow-uni-md text-center",children:[x.jsx("div",{className:"w-20 h-20 rounded-2xl bg-primary flex items-center justify-center mx-auto mb-6 shadow-gold",children:x.jsx(bm,{className:"w-10 h-10 text-primary-foreground"})}),x.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"Send Us Feedback"}),x.jsx("p",{className:"text-muted-foreground mb-6",children:"Email us with your feedback and include as much detail as possible. Screenshots are always helpful!"}),x.jsx(Zi,{asChild:!0,size:"lg",className:"shadow-gold w-full sm:w-auto",children:x.jsxs("a",{href:"mailto:uni.go.llc@gmail.com?subject=Feedback",children:[x.jsx(bm,{className:"w-5 h-5 mr-2"}),"uni.go.llc@gmail.com"]})})]})})]})})}),E_=[{phase:"Phase 1",title:"Sign Up",date:"Now",description:"Register your interest and join our beta tester community",active:!0},{phase:"Phase 2",title:"Launch Beta Test",date:"Early 2026",description:"Get early access to test core features as a rider or driver"},{phase:"Phase 3",title:"Feedback & Iteration",date:"Spring 2026",description:"Share feedback and help us refine the experience"},{phase:"Phase 4",title:"Launch",date:"Fall 2026",description:"Official launch at Augustana University"}],IG=[{icon:uN,title:"Gift Cards",description:"Gift cards & prizes for participating"},{icon:$f,title:"Early Access",description:"Be first to try new features"},{icon:cN,title:"Shape the App",description:"Your feedback directly impacts development"}],FG=()=>x.jsxs(fs,{children:[x.jsxs("section",{className:"py-16 md:py-24 relative overflow-hidden",children:[x.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[x.jsx("div",{className:"absolute top-20 right-10 w-72 h-72 bg-primary/10 rounded-full blur-3xl"}),x.jsx("div",{className:"absolute bottom-20 left-10 w-96 h-96 bg-primary/5 rounded-full blur-3xl"})]}),x.jsx("div",{className:"container mx-auto px-4 relative z-10",children:x.jsx("div",{className:"max-w-2xl",children:x.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[x.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-foreground mb-6",children:["Help Us Launch Uni ",x.jsx("span",{className:"text-gradient-gold",children:"Go"})]}),x.jsx("p",{className:"text-lg text-muted-foreground mb-6",children:"Be part of the team that brings Uni Go to Augustana University! Sign up to test the app as a rider, driver, or both. Earn rewards while helping us build the perfect ridesharing experience for students."}),x.jsx("div",{className:"flex flex-col sm:flex-row gap-4 mb-8",children:x.jsx(Zi,{asChild:!0,size:"lg",className:"shadow-gold group",children:x.jsxs("a",{href:"https://forms.gle/uLgw6DH4pcYdvszg7",target:"_blank",rel:"noopener noreferrer",children:["Fill out the Beta Form",x.jsx(wm,{className:"w-4 h-4 ml-2 group-hover:translate-x-1 transition-transform"})]})})}),x.jsxs("div",{className:"flex gap-8",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-2xl font-bold text-primary",children:"Upto $30/hr"}),x.jsx("div",{className:"text-sm text-muted-foreground",children:"As a Driver"})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-2xl font-bold text-foreground",children:"2026"}),x.jsx("div",{className:"text-sm text-muted-foreground",children:"Launch year"})]})]})]})})})]}),x.jsx("section",{className:"py-16 md:py-24 bg-card",children:x.jsxs("div",{className:"container mx-auto px-4",children:[x.jsxs(ie.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-12",children:[x.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-foreground mb-4",children:"Beta Tester Rewards"}),x.jsx("p",{className:"text-lg text-muted-foreground",children:"Get rewarded for helping us build a better app."})]}),x.jsx("div",{className:"grid md:grid-cols-3 gap-6 max-w-4xl mx-auto",children:IG.map((n,e)=>x.jsxs(ie.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:e*.1},className:"bg-background rounded-2xl p-6 border border-border text-center hover:border-primary/30 hover:shadow-uni-md transition-all",children:[x.jsx("div",{className:"w-14 h-14 rounded-xl bg-primary/10 flex items-center justify-center mx-auto mb-4",children:x.jsx(n.icon,{className:"w-7 h-7 text-primary"})}),x.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:n.title}),x.jsx("p",{className:"text-muted-foreground text-sm",children:n.description})]},n.title))})]})}),x.jsx("section",{className:"py-16 md:py-24",children:x.jsxs("div",{className:"container mx-auto px-4",children:[x.jsxs(ie.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-12",children:[x.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-foreground mb-4",children:"Beta Timeline"}),x.jsx("p",{className:"text-lg text-muted-foreground",children:"Here's what to expect on our journey to launch."})]}),x.jsx("div",{className:"max-w-3xl mx-auto",children:E_.map((n,e)=>x.jsxs(ie.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:e*.1},className:"flex gap-4 mb-8 last:mb-0",children:[x.jsxs("div",{className:"flex flex-col items-center",children:[x.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${n.active?"bg-primary shadow-gold":"bg-secondary"}`,children:n.active?x.jsx(xm,{className:`w-6 h-6 ${n.active?"text-primary-foreground":"text-muted-foreground"}`}):x.jsx(aN,{className:"w-6 h-6 text-muted-foreground"})}),e<E_.length-1&&x.jsx("div",{className:"w-0.5 h-full bg-border mt-2"})]}),x.jsxs("div",{className:`flex-1 pb-8 ${n.active,""}`,children:[x.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[x.jsx("span",{className:"text-xs font-medium text-black bg-primary/10 px-2 py-0.5 rounded",children:n.phase}),x.jsx("span",{className:"text-sm text-muted-foreground",children:n.date})]}),x.jsx("h3",{className:"text-lg font-semibold text-foreground mb-1",children:n.title}),x.jsx("p",{className:"text-muted-foreground text-sm",children:n.description})]})]},n.phase))})]})}),x.jsx("section",{className:"py-16 md:py-24 bg-foreground",children:x.jsx("div",{className:"container mx-auto px-4",children:x.jsxs(ie.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"max-w-2xl mx-auto text-center",children:[x.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-background mb-4",children:"Ready to Join?"}),x.jsx("p",{className:"text-lg text-background/70 mb-8",children:"Fill out our quick form to sign up as a beta tester. It only takes a minute!"}),x.jsx(Zi,{asChild:!0,size:"lg",className:"shadow-gold",children:x.jsxs("a",{href:"https://forms.gle/uLgw6DH4pcYdvszg7",target:"_blank",rel:"noopener noreferrer",children:["Fill out the Beta Form",x.jsx(wm,{className:"w-4 h-4 ml-2"})]})})]})})})]}),Vn=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),vA=[.001,0,0,.001,0,0],Lb=1.35,Ns={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Br={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Dm="pdfjs_internal_editor_",ae={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},xe={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},wI={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},en={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},tm={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Ct={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Zu={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Fy={ERRORS:0,WARNINGS:1,INFOS:5},Nf={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},vv={moveTo:0,lineTo:1,curveTo:2,closePath:3},xI={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Cx=Fy.WARNINGS;function OG(n){Number.isInteger(n)&&(Cx=n)}function jG(){return Cx}function Tx(n){Cx>=Fy.INFOS&&console.info(`Info: ${n}`)}function le(n){Cx>=Fy.WARNINGS&&console.warn(`Warning: ${n}`)}function He(n){throw new Error(n)}function Ae(n,e){n||He(e)}function BG(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function HC(n,e=null,t=null){if(!n)return null;if(t&&typeof n=="string"){if(t.addDefaultProtocol&&n.startsWith("www.")){const i=n.match(/\./g);(i==null?void 0:i.length)>=2&&(n=`http://${n}`)}if(t.tryConvertEncoding)try{n=HG(n)}catch{}}const s=e?URL.parse(n,e):URL.parse(n);return BG(s)?s:null}function WC(n,e,t=!1){const s=URL.parse(n);return s?(s.hash=e,s.href):t&&HC(n,"http://example.com")?n.split("#",1)[0]+`${e?`#${e}`:""}`:""}function fe(n,e,t,s=!1){return Object.defineProperty(n,e,{value:t,enumerable:!s,configurable:!0,writable:!1}),t}const Gu=function(){function e(t,s){this.message=t,this.name=s}return e.prototype=new Error,e.constructor=e,e}();class C_ extends Gu{constructor(e,t){super(e,"PasswordException"),this.code=t}}class Ib extends Gu{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class hw extends Gu{constructor(e){super(e,"InvalidPDFException")}}class Lm extends Gu{constructor(e,t,s){super(e,"ResponseException"),this.status=t,this.missing=s}}class VG extends Gu{constructor(e){super(e,"FormatError")}}class na extends Gu{constructor(e){super(e,"AbortException")}}function bI(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&He("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const s=[];for(let i=0;i<e;i+=t){const r=Math.min(i+t,e),o=n.subarray(i,r);s.push(String.fromCharCode.apply(null,o))}return s.join("")}function Oy(n){typeof n!="string"&&He("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let s=0;s<e;++s)t[s]=n.charCodeAt(s)&255;return t}function $G(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function UG(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function zG(){try{return new Function(""),!0}catch{return!1}}class Jt{static get isLittleEndian(){return fe(this,"isLittleEndian",UG())}static get isEvalSupported(){return fe(this,"isEvalSupported",zG())}static get isOffscreenCanvasSupported(){return fe(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return fe(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:e,userAgent:t}=navigator;return fe(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){var e,t;return fe(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const Fb=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var Go,qv,wA;class Q{static makeHexColor(e,t,s){return`#${Fb[e]}${Fb[t]}${Fb[s]}`}static domMatrixToTransform(e){return[e.a,e.b,e.c,e.d,e.e,e.f]}static scaleMinMax(e,t){let s;e[0]?(e[0]<0&&(s=t[0],t[0]=t[2],t[2]=s),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(s=t[1],t[1]=t[3],t[3]=s),t[1]*=e[3],t[3]*=e[3]):(s=t[0],t[0]=t[1],t[1]=s,s=t[2],t[2]=t[3],t[3]=s,e[1]<0&&(s=t[1],t[1]=t[3],t[3]=s),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(s=t[0],t[0]=t[2],t[2]=s),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static multiplyByDOMMatrix(e,t){return[e[0]*t.a+e[2]*t.b,e[1]*t.a+e[3]*t.b,e[0]*t.c+e[2]*t.d,e[1]*t.c+e[3]*t.d,e[0]*t.e+e[2]*t.f+e[4],e[1]*t.e+e[3]*t.f+e[5]]}static applyTransform(e,t,s=0){const i=e[s],r=e[s+1];e[s]=i*t[0]+r*t[2]+t[4],e[s+1]=i*t[1]+r*t[3]+t[5]}static applyTransformToBezier(e,t,s=0){const i=t[0],r=t[1],o=t[2],a=t[3],c=t[4],u=t[5];for(let d=0;d<6;d+=2){const h=e[s+d],f=e[s+d+1];e[s+d]=h*i+f*o+c,e[s+d+1]=h*r+f*a+u}}static applyInverseTransform(e,t){const s=e[0],i=e[1],r=t[0]*t[3]-t[1]*t[2];e[0]=(s*t[3]-i*t[2]+t[2]*t[5]-t[4]*t[3])/r,e[1]=(-s*t[1]+i*t[0]+t[4]*t[1]-t[5]*t[0])/r}static axialAlignedBoundingBox(e,t,s){const i=t[0],r=t[1],o=t[2],a=t[3],c=t[4],u=t[5],d=e[0],h=e[1],f=e[2],p=e[3];let y=i*d+c,m=y,b=i*f+c,g=b,v=a*h+u,A=v,E=a*p+u,T=E;if(r!==0||o!==0){const k=r*d,_=r*f,R=o*h,M=o*p;y+=R,g+=R,b+=M,m+=M,v+=k,T+=k,E+=_,A+=_}s[0]=Math.min(s[0],y,b,m,g),s[1]=Math.min(s[1],v,E,A,T),s[2]=Math.max(s[2],y,b,m,g),s[3]=Math.max(s[3],v,E,A,T)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const s=e[0],i=e[1],r=e[2],o=e[3],a=s**2+i**2,c=s*r+i*o,u=r**2+o**2,d=(a+u)/2,h=Math.sqrt(d**2-(a*u-c**2));t[0]=Math.sqrt(d+h||1),t[1]=Math.sqrt(d-h||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const s=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(s>i)return null;const r=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),o=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return r>o?null:[s,r,i,o]}static pointBoundingBox(e,t,s){s[0]=Math.min(s[0],e),s[1]=Math.min(s[1],t),s[2]=Math.max(s[2],e),s[3]=Math.max(s[3],t)}static rectBoundingBox(e,t,s,i,r){r[0]=Math.min(r[0],e,s),r[1]=Math.min(r[1],t,i),r[2]=Math.max(r[2],e,s),r[3]=Math.max(r[3],t,i)}static bezierBoundingBox(e,t,s,i,r,o,a,c,u){u[0]=Math.min(u[0],e,a),u[1]=Math.min(u[1],t,c),u[2]=Math.max(u[2],e,a),u[3]=Math.max(u[3],t,c),C(this,Go,wA).call(this,e,s,r,a,t,i,o,c,3*(-e+3*(s-r)+a),6*(e-2*s+r),3*(s-e),u),C(this,Go,wA).call(this,e,s,r,a,t,i,o,c,3*(-t+3*(i-o)+c),6*(t-2*i+o),3*(i-t),u)}}Go=new WeakSet,qv=function(e,t,s,i,r,o,a,c,u,d){if(u<=0||u>=1)return;const h=1-u,f=u*u,p=f*u,y=h*(h*(h*e+3*u*t)+3*f*s)+p*i,m=h*(h*(h*r+3*u*o)+3*f*a)+p*c;d[0]=Math.min(d[0],y),d[1]=Math.min(d[1],m),d[2]=Math.max(d[2],y),d[3]=Math.max(d[3],m)},wA=function(e,t,s,i,r,o,a,c,u,d,h,f){if(Math.abs(u)<1e-12){Math.abs(d)>=1e-12&&C(this,Go,qv).call(this,e,t,s,i,r,o,a,c,-h/d,f);return}const p=d**2-4*h*u;if(p<0)return;const y=Math.sqrt(p),m=2*u;C(this,Go,qv).call(this,e,t,s,i,r,o,a,c,(-d+y)/m,f),C(this,Go,qv).call(this,e,t,s,i,r,o,a,c,(-d-y)/m,f)},S(Q,Go);function HG(n){return decodeURIComponent(escape(n))}let Ob=null,T_=null;function AI(n){return Ob||(Ob=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,T_=new Map([["","t"]])),n.replaceAll(Ob,(e,t,s)=>t?t.normalize("NFKC"):T_.get(s))}function GC(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const n=new Uint8Array(32);return crypto.getRandomValues(n),bI(n)}const qC="pdfjs_internal_id_";function WG(n,e,t){if(!Array.isArray(t)||t.length<2)return!1;const[s,i,...r]=t;if(!n(s)&&!Number.isInteger(s)||!e(i))return!1;const o=r.length;let a=!0;switch(i.name){case"XYZ":if(o<2||o>3)return!1;break;case"Fit":case"FitB":return o===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(o>1)return!1;break;case"FitR":if(o!==4)return!1;a=!1;break;default:return!1}for(const c of r)if(!(typeof c=="number"||a&&c===null))return!1;return!0}function Tn(n,e,t){return Math.min(Math.max(n,e),t)}function SI(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(bI(n))}function GG(n){return Uint8Array.fromBase64?Uint8Array.fromBase64(n):Oy(atob(n))}typeof Promise.try!="function"&&(Promise.try=function(n,...e){return new Promise(t=>{t(n(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(n){return n.reduce((e,t)=>e+t,0)});class Im{static textContent(e){const t=[],s={items:t,styles:Object.create(null)};function i(r){var c;if(!r)return;let o=null;const a=r.name;if(a==="#text")o=r.value;else if(Im.shouldBuildText(a))(c=r==null?void 0:r.attributes)!=null&&c.textContent?o=r.attributes.textContent:r.value&&(o=r.value);else return;if(o!==null&&t.push({str:o}),!!r.children)for(const u of r.children)i(u)}return i(e),s}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}class XC{static setupStorage(e,t,s,i,r){const o=i.getValue(t,{value:null});switch(s.name){case"textarea":if(o.value!==null&&(e.textContent=o.value),r==="print")break;e.addEventListener("input",a=>{i.setValue(t,{value:a.target.value})});break;case"input":if(s.attributes.type==="radio"||s.attributes.type==="checkbox"){if(o.value===s.attributes.xfaOn?e.setAttribute("checked",!0):o.value===s.attributes.xfaOff&&e.removeAttribute("checked"),r==="print")break;e.addEventListener("change",a=>{i.setValue(t,{value:a.target.checked?a.target.getAttribute("xfaOn"):a.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&e.setAttribute("value",o.value),r==="print")break;e.addEventListener("input",a=>{i.setValue(t,{value:a.target.value})})}break;case"select":if(o.value!==null){e.setAttribute("value",o.value);for(const a of s.children)a.attributes.value===o.value?a.attributes.selected=!0:a.attributes.hasOwnProperty("selected")&&delete a.attributes.selected}e.addEventListener("input",a=>{const c=a.target.options,u=c.selectedIndex===-1?"":c[c.selectedIndex].value;i.setValue(t,{value:u})});break}}static setAttributes({html:e,element:t,storage:s=null,intent:i,linkService:r}){const{attributes:o}=t,a=e instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${i}`);for(const[c,u]of Object.entries(o))if(u!=null)switch(c){case"class":u.length&&e.setAttribute(c,u.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",u);break;case"style":Object.assign(e.style,u);break;case"textContent":e.textContent=u;break;default:(!a||c!=="href"&&c!=="newWindow")&&e.setAttribute(c,u)}a&&r.addLinkAttributes(e,o.href,o.newWindow),s&&o.dataId&&this.setupStorage(e,o.dataId,t,s)}static render(e){var h,f;const t=e.annotationStorage,s=e.linkService,i=e.xfaHtml,r=e.intent||"display",o=document.createElement(i.name);i.attributes&&this.setAttributes({html:o,element:i,intent:r,linkService:s});const a=r!=="richText",c=e.div;if(c.append(o),e.viewport){const p=`matrix(${e.viewport.transform.join(",")})`;c.style.transform=p}a&&c.setAttribute("class","xfaLayer xfaFont");const u=[];if(i.children.length===0){if(i.value){const p=document.createTextNode(i.value);o.append(p),a&&Im.shouldBuildText(i.name)&&u.push(p)}return{textDivs:u}}const d=[[i,-1,o]];for(;d.length>0;){const[p,y,m]=d.at(-1);if(y+1===p.children.length){d.pop();continue}const b=p.children[++d.at(-1)[1]];if(b===null)continue;const{name:g}=b;if(g==="#text"){const A=document.createTextNode(b.value);u.push(A),m.append(A);continue}const v=(h=b==null?void 0:b.attributes)!=null&&h.xmlns?document.createElementNS(b.attributes.xmlns,g):document.createElement(g);if(m.append(v),b.attributes&&this.setAttributes({html:v,element:b,storage:t,intent:r,linkService:s}),((f=b.children)==null?void 0:f.length)>0)d.push([b,-1,v]);else if(b.value){const A=document.createTextNode(b.value);a&&Im.shouldBuildText(g)&&u.push(A),v.append(A)}}for(const p of c.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:u}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const eo="http://www.w3.org/2000/svg",ic=class ic{};V(ic,"CSS",96),V(ic,"PDF",72),V(ic,"PDF_TO_CSS_UNITS",ic.CSS/ic.PDF);let sa=ic;async function Kf(n,e="text"){if(xp(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,s)=>{const i=new XMLHttpRequest;i.open("GET",n,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(i.response);return}t(i.responseText);return}s(new Error(i.statusText))}},i.send(null)})}class jy{constructor({viewBox:e,userUnit:t,scale:s,rotation:i,offsetX:r=0,offsetY:o=0,dontFlip:a=!1}){this.viewBox=e,this.userUnit=t,this.scale=s,this.rotation=i,this.offsetX=r,this.offsetY=o,s*=t;const c=(e[2]+e[0])/2,u=(e[3]+e[1])/2;let d,h,f,p;switch(i%=360,i<0&&(i+=360),i){case 180:d=-1,h=0,f=0,p=1;break;case 90:d=0,h=1,f=1,p=0;break;case 270:d=0,h=-1,f=-1,p=0;break;case 0:d=1,h=0,f=0,p=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}a&&(f=-f,p=-p);let y,m,b,g;d===0?(y=Math.abs(u-e[1])*s+r,m=Math.abs(c-e[0])*s+o,b=(e[3]-e[1])*s,g=(e[2]-e[0])*s):(y=Math.abs(c-e[0])*s+r,m=Math.abs(u-e[1])*s+o,b=(e[2]-e[0])*s,g=(e[3]-e[1])*s),this.transform=[d*s,h*s,f*s,p*s,y-d*s*c-f*s*u,m-h*s*c-p*s*u],this.width=b,this.height=g}get rawDims(){const e=this.viewBox;return fe(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:s=this.offsetX,offsetY:i=this.offsetY,dontFlip:r=!1}={}){return new jy({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:s,offsetY:i,dontFlip:r})}convertToViewportPoint(e,t){const s=[e,t];return Q.applyTransform(s,this.transform),s}convertToViewportRectangle(e){const t=[e[0],e[1]];Q.applyTransform(t,this.transform);const s=[e[2],e[3]];return Q.applyTransform(s,this.transform),[t[0],t[1],s[0],s[1]]}convertToPdfPoint(e,t){const s=[e,t];return Q.applyInverseTransform(s,this.transform),s}}class Px extends Gu{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function By(n){const e=n.length;let t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function kx(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function EI(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function CI(n,e="document.pdf"){if(typeof n!="string")return e;if(By(n))return le('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const s=(a=>{try{return new URL(a)}catch{try{return new URL(decodeURIComponent(a))}catch{try{return new URL(a,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(a),"https://foo.bar")}catch{return null}}}}})(n);if(!s)return e;const i=a=>{try{let c=decodeURIComponent(a);return c.includes("/")?(c=c.split("/").at(-1),c.test(/^\.pdf$/i)?c:a):c}catch{return a}},r=/\.pdf$/i,o=s.pathname.split("/").at(-1);if(r.test(o))return i(o);if(s.searchParams.size>0){const a=Array.from(s.searchParams.values()).reverse();for(const u of a)if(r.test(u))return i(u);const c=Array.from(s.searchParams.keys()).reverse();for(const u of c)if(r.test(u))return i(u)}if(s.hash){const c=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(s.hash);if(c)return i(c[0])}return e}class P_{constructor(){V(this,"started",Object.create(null));V(this,"times",[])}time(e){e in this.started&&le(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||le(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:s}of this.times)t=Math.max(s.length,t);for(const{name:s,start:i,end:r}of this.times)e.push(`${s.padEnd(t)} ${r-i}ms
`);return e.join("")}}function xp(n,e){const t=e?URL.parse(n,e):URL.parse(n);return(t==null?void 0:t.protocol)==="http:"||(t==null?void 0:t.protocol)==="https:"}function zs(n){n.preventDefault()}function ct(n){n.preventDefault(),n.stopPropagation()}function qG(n){console.log("Deprecated API usage: "+n)}var zm;class Fm{static toDateObject(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;l(this,zm)||w(this,zm,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=l(this,zm).exec(e);if(!t)return null;const s=parseInt(t[1],10);let i=parseInt(t[2],10);i=i>=1&&i<=12?i-1:0;let r=parseInt(t[3],10);r=r>=1&&r<=31?r:1;let o=parseInt(t[4],10);o=o>=0&&o<=23?o:0;let a=parseInt(t[5],10);a=a>=0&&a<=59?a:0;let c=parseInt(t[6],10);c=c>=0&&c<=59?c:0;const u=t[7]||"Z";let d=parseInt(t[8],10);d=d>=0&&d<=23?d:0;let h=parseInt(t[9],10)||0;return h=h>=0&&h<=59?h:0,u==="-"?(o+=d,a+=h):u==="+"&&(o-=d,a-=h),new Date(Date.UTC(s,i,r,o,a,c))}}zm=new WeakMap,S(Fm,zm);function TI(n,{scale:e=1,rotation:t=0}){const{width:s,height:i}=n.attributes.style,r=[0,0,parseInt(s),parseInt(i)];return new jy({viewBox:r,userUnit:1,scale:e,rotation:t})}function Qf(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(le(`Not a valid color format: "${n}"`),[0,0,0])}function XG(n){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const t of n.keys()){e.style.color=t;const s=window.getComputedStyle(e).color;n.set(t,Qf(s))}e.remove()}function at(n){const{a:e,b:t,c:s,d:i,e:r,f:o}=n.getTransform();return[e,t,s,i,r,o]}function lr(n){const{a:e,b:t,c:s,d:i,e:r,f:o}=n.getTransform().invertSelf();return[e,t,s,i,r,o]}function Vl(n,e,t=!1,s=!0){if(e instanceof jy){const{pageWidth:i,pageHeight:r}=e.rawDims,{style:o}=n,a=Jt.isCSSRoundSupported,c=`var(--total-scale-factor) * ${i}px`,u=`var(--total-scale-factor) * ${r}px`,d=a?`round(down, ${c}, var(--scale-round-x))`:`calc(${c})`,h=a?`round(down, ${u}, var(--scale-round-y))`:`calc(${u})`;!t||e.rotation%180===0?(o.width=d,o.height=h):(o.width=h,o.height=d)}s&&n.setAttribute("data-main-rotation",e.rotation)}class Ji{constructor(){const{pixelRatio:e}=Ji;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,s,i,r=-1){let o=1/0,a=1/0,c=1/0;s=Ji.capPixels(s,r),s>0&&(o=Math.sqrt(s/(e*t))),i!==-1&&(a=i/e,c=i/t);const u=Math.min(o,a,c);return this.sx>u||this.sy>u?(this.sx=u,this.sy=u,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const s=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,s):s}return e}}const fw=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class YG{static get isDarkMode(){var e;return fe(this,"isDarkMode",!!((e=window==null?void 0:window.matchMedia)!=null&&e.call(window,"(prefers-color-scheme: dark)").matches))}}class PI{static get commentForegroundColor(){const e=document.createElement("span");e.classList.add("comment","sidebar");const{style:t}=e;t.width=t.height="0",t.display="none",t.color="var(--comment-fg-color)",document.body.append(e);const{color:s}=window.getComputedStyle(e);return e.remove(),fe(this,"commentForegroundColor",Qf(s))}}function kI(n,e,t,s){s=Math.min(Math.max(s??1,0),1);const i=255*(1-s);return n=Math.round(n*s+i),e=Math.round(e*s+i),t=Math.round(t*s+i),[n,e,t]}function k_(n,e){const t=n[0]/255,s=n[1]/255,i=n[2]/255,r=Math.max(t,s,i),o=Math.min(t,s,i),a=(r+o)/2;if(r===o)e[0]=e[1]=0;else{const c=r-o;switch(e[1]=a<.5?c/(r+o):c/(2-r-o),r){case t:e[0]=((s-i)/c+(s<i?6:0))*60;break;case s:e[0]=((i-t)/c+2)*60;break;case i:e[0]=((t-s)/c+4)*60;break}}e[2]=a}function xA(n,e){const t=n[0],s=n[1],i=n[2],r=(1-Math.abs(2*i-1))*s,o=r*(1-Math.abs(t/60%2-1)),a=i-r/2;switch(Math.floor(t/60)){case 0:e[0]=r+a,e[1]=o+a,e[2]=a;break;case 1:e[0]=o+a,e[1]=r+a,e[2]=a;break;case 2:e[0]=a,e[1]=r+a,e[2]=o+a;break;case 3:e[0]=a,e[1]=o+a,e[2]=r+a;break;case 4:e[0]=o+a,e[1]=a,e[2]=r+a;break;case 5:case 6:e[0]=r+a,e[1]=a,e[2]=o+a;break}}function __(n){return n<=.03928?n/12.92:((n+.055)/1.055)**2.4}function R_(n,e,t){xA(n,t),t.map(__);const s=.2126*t[0]+.7152*t[1]+.0722*t[2];xA(e,t),t.map(__);const i=.2126*t[0]+.7152*t[1]+.0722*t[2];return s>i?(s+.05)/(i+.05):(i+.05)/(s+.05)}const M_=new Map;function _I(n,e){const t=n[0]+n[1]*256+n[2]*65536+e[0]*16777216+e[1]*4294967296+e[2]*1099511627776;let s=M_.get(t);if(s)return s;const i=new Float32Array(9),r=i.subarray(0,3),o=i.subarray(3,6);k_(n,o);const a=i.subarray(6,9);k_(e,a);const c=a[2]<.5,u=c?12:4.5;if(o[2]=c?Math.sqrt(o[2]):1-Math.sqrt(1-o[2]),R_(o,a,r)<u){let d,h;c?(d=o[2],h=1):(d=0,h=o[2]);const f=.005;for(;h-d>f;){const p=o[2]=(d+h)/2;c===R_(o,a,r)<u?d=p:h=p}o[2]=c?h:d}return xA(o,r),s=Q.makeHexColor(Math.round(r[0]*255),Math.round(r[1]*255),Math.round(r[2]*255)),M_.set(t,s),s}function YC({html:n,dir:e,className:t},s){const i=document.createDocumentFragment();if(typeof n=="string"){const r=document.createElement("p");r.dir=e||"auto";const o=n.split(/(?:\r\n?|\n)/);for(let a=0,c=o.length;a<c;++a){const u=o[a];r.append(document.createTextNode(u)),a<c-1&&r.append(document.createElement("br"))}i.append(r)}else XC.render({xfaHtml:n,div:i,intent:"richText"});i.firstChild.classList.add("richText",t),s.append(i)}var Pa,ka,Ks,Qs,Hm,_a,Xd,Yd,Wm,Ew,RI,hn,MI,NI,Ju,bp;const io=class io{constructor(e){S(this,hn);S(this,Pa,null);S(this,ka,null);S(this,Ks);S(this,Qs,null);S(this,Hm,null);S(this,_a,null);S(this,Xd,null);S(this,Yd,null);w(this,Ks,e),l(io,Wm)||w(io,Wm,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const e=w(this,Pa,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=l(this,Ks)._uiManager._signal;t instanceof AbortSignal&&!t.aborted&&(e.addEventListener("contextmenu",zs,{signal:t}),e.addEventListener("pointerdown",C(io,Ew,RI),{signal:t}));const s=w(this,Qs,document.createElement("div"));s.className="buttons",e.append(s);const i=l(this,Ks).toolbarPosition;if(i){const{style:r}=e,o=l(this,Ks)._uiManager.direction==="ltr"?1-i[0]:i[0];r.insetInlineEnd=`${100*o}%`,r.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return l(this,Pa)}hide(){var e;l(this,Pa).classList.add("hidden"),(e=l(this,ka))==null||e.hideDropdown()}show(){var e,t;l(this,Pa).classList.remove("hidden"),(e=l(this,Hm))==null||e.shown(),(t=l(this,_a))==null||t.shown()}addDeleteButton(){const{editorType:e,_uiManager:t}=l(this,Ks),s=document.createElement("button");s.classList.add("basic","deleteButton"),s.tabIndex=0,s.setAttribute("data-l10n-id",l(io,Wm)[e]),C(this,hn,Ju).call(this,s)&&s.addEventListener("click",i=>{t.delete()},{signal:t._signal}),l(this,Qs).append(s)}async addAltText(e){const t=await e.render();C(this,hn,Ju).call(this,t),l(this,Qs).append(t,l(this,hn,bp)),w(this,Hm,e)}addComment(e,t=null){if(l(this,_a))return;const s=e.renderForToolbar();if(!s)return;C(this,hn,Ju).call(this,s);const i=w(this,Xd,l(this,hn,bp));t?(l(this,Qs).insertBefore(s,t),l(this,Qs).insertBefore(i,t)):l(this,Qs).append(s,i),w(this,_a,e),e.toolbar=this}addColorPicker(e){if(l(this,ka))return;w(this,ka,e);const t=e.renderButton();C(this,hn,Ju).call(this,t),l(this,Qs).append(t,l(this,hn,bp))}async addEditSignatureButton(e){const t=w(this,Yd,await e.renderEditButton(l(this,Ks)));C(this,hn,Ju).call(this,t),l(this,Qs).append(t,l(this,hn,bp))}removeButton(e){var t,s;switch(e){case"comment":(t=l(this,_a))==null||t.removeToolbarCommentButton(),w(this,_a,null),(s=l(this,Xd))==null||s.remove(),w(this,Xd,null);break}}async addButton(e,t){switch(e){case"colorPicker":this.addColorPicker(t);break;case"altText":await this.addAltText(t);break;case"editSignature":await this.addEditSignatureButton(t);break;case"delete":this.addDeleteButton();break;case"comment":this.addComment(t);break}}async addButtonBefore(e,t,s){const i=l(this,Qs).querySelector(s);i&&e==="comment"&&this.addComment(t,i)}updateEditSignatureButton(e){l(this,Yd)&&(l(this,Yd).title=e)}remove(){var e;l(this,Pa).remove(),(e=l(this,ka))==null||e.destroy(),w(this,ka,null)}};Pa=new WeakMap,ka=new WeakMap,Ks=new WeakMap,Qs=new WeakMap,Hm=new WeakMap,_a=new WeakMap,Xd=new WeakMap,Yd=new WeakMap,Wm=new WeakMap,Ew=new WeakSet,RI=function(e){e.stopPropagation()},hn=new WeakSet,MI=function(e){l(this,Ks)._focusEventsAllowed=!1,ct(e)},NI=function(e){l(this,Ks)._focusEventsAllowed=!0,ct(e)},Ju=function(e){const t=l(this,Ks)._uiManager._signal;return!(t instanceof AbortSignal)||t.aborted?!1:(e.addEventListener("focusin",C(this,hn,MI).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",C(this,hn,NI).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",zs,{signal:t}),!0)},bp=function(){const e=document.createElement("div");return e.className="divider",e},S(io,Ew),S(io,Wm,null);let bA=io;var Gm,vc,lo,ia,DI,LI,AA;class KG{constructor(e){S(this,ia);S(this,Gm,null);S(this,vc,null);S(this,lo);w(this,lo,e)}show(e,t,s){const[i,r]=C(this,ia,LI).call(this,t,s),{style:o}=l(this,vc)||w(this,vc,C(this,ia,DI).call(this));e.append(l(this,vc)),o.insetInlineEnd=`${100*i}%`,o.top=`calc(${100*r}% + var(--editor-toolbar-vert-offset))`}hide(){l(this,vc).remove()}}Gm=new WeakMap,vc=new WeakMap,lo=new WeakMap,ia=new WeakSet,DI=function(){const e=w(this,vc,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar");const t=l(this,lo)._signal;t instanceof AbortSignal&&!t.aborted&&e.addEventListener("contextmenu",zs,{signal:t});const s=w(this,Gm,document.createElement("div"));return s.className="buttons",e.append(s),l(this,lo).hasCommentManager()&&C(this,ia,AA).call(this,"commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{l(this,lo).commentSelection("floating_button")}),C(this,ia,AA).call(this,"highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{l(this,lo).highlightSelection("floating_button")}),e},LI=function(e,t){let s=0,i=0;for(const r of e){const o=r.y+r.height;if(o<s)continue;const a=r.x+(t?r.width:0);if(o>s){i=a,s=o;continue}t?a>i&&(i=a):a<i&&(i=a)}return[t?1-i:i,s]},AA=function(e,t,s,i){const r=document.createElement("button");r.classList.add("basic",e),r.tabIndex=0,r.setAttribute("data-l10n-id",t);const o=document.createElement("span");r.append(o),o.className="visuallyHidden",o.setAttribute("data-l10n-id",s);const a=l(this,lo)._signal;a instanceof AbortSignal&&!a.aborted&&(r.addEventListener("contextmenu",zs,{signal:a}),r.addEventListener("click",i,{signal:a})),l(this,Gm).append(r)};function II(n,e,t){for(const s of t)e.addEventListener(s,n[s].bind(n))}var Cw;class QG{constructor(){S(this,Cw,0)}get id(){return`${Dm}${gt(this,Cw)._++}`}}Cw=new WeakMap;var Kd,qm,xn,Qd,Xv;const oT=class oT{constructor(){S(this,Qd);S(this,Kd,GC());S(this,qm,0);S(this,xn,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',s=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const r=i.decode().then(()=>(s.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(s.getImageData(0,0,1,1).data.buffer)[0]===0));return fe(this,"_isSVGFittingCanvas",r)}async getFromFile(e){const{lastModified:t,name:s,size:i,type:r}=e;return C(this,Qd,Xv).call(this,`${t}_${s}_${i}_${r}`,e)}async getFromUrl(e){return C(this,Qd,Xv).call(this,e,e)}async getFromBlob(e,t){const s=await t;return C(this,Qd,Xv).call(this,e,s)}async getFromId(e){l(this,xn)||w(this,xn,new Map);const t=l(this,xn).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:s}=t;return delete t.blobPromise,this.getFromBlob(t.id,s)}return this.getFromUrl(t.url)}getFromCanvas(e,t){l(this,xn)||w(this,xn,new Map);let s=l(this,xn).get(e);if(s!=null&&s.bitmap)return s.refCounter+=1,s;const i=new OffscreenCanvas(t.width,t.height);return i.getContext("2d").drawImage(t,0,0),s={bitmap:i.transferToImageBitmap(),id:`image_${l(this,Kd)}_${gt(this,qm)._++}`,refCounter:1,isSvg:!1},l(this,xn).set(e,s),l(this,xn).set(s.id,s),s}getSvgUrl(e){const t=l(this,xn).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var i;l(this,xn)||w(this,xn,new Map);const t=l(this,xn).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:s}=t;if(!t.url&&!t.file){const r=new OffscreenCanvas(s.width,s.height);r.getContext("bitmaprenderer").transferFromImageBitmap(s),t.blobPromise=r.convertToBlob()}(i=s.close)==null||i.call(s),t.bitmap=null}isValidId(e){return e.startsWith(`image_${l(this,Kd)}_`)}};Kd=new WeakMap,qm=new WeakMap,xn=new WeakMap,Qd=new WeakSet,Xv=async function(e,t){l(this,xn)||w(this,xn,new Map);let s=l(this,xn).get(e);if(s===null)return null;if(s!=null&&s.bitmap)return s.refCounter+=1,s;try{s||(s={bitmap:null,id:`image_${l(this,Kd)}_${gt(this,qm)._++}`,refCounter:0,isSvg:!1});let i;if(typeof t=="string"?(s.url=t,i=await Kf(t,"blob")):t instanceof File?i=s.file=t:t instanceof Blob&&(i=t),i.type==="image/svg+xml"){const r=oT._isSVGFittingCanvas,o=new FileReader,a=new Image,c=new Promise((u,d)=>{a.onload=()=>{s.bitmap=a,s.isSvg=!0,u()},o.onload=async()=>{const h=s.svgUrl=o.result;a.src=await r?`${h}#svgView(preserveAspectRatio(none))`:h},a.onerror=o.onerror=d});o.readAsDataURL(i),await c}else s.bitmap=await createImageBitmap(i);s.refCounter=1}catch(i){le(i),s=null}return l(this,xn).set(e,s),s&&l(this,xn).set(s.id,s),s};let SA=oT;var Tt,Ra,Xm,ot;class ZG{constructor(e=128){S(this,Tt,[]);S(this,Ra,!1);S(this,Xm);S(this,ot,-1);w(this,Xm,e)}add({cmd:e,undo:t,post:s,mustExec:i,type:r=NaN,overwriteIfSameType:o=!1,keepUndo:a=!1}){if(i&&e(),l(this,Ra))return;const c={cmd:e,undo:t,post:s,type:r};if(l(this,ot)===-1){l(this,Tt).length>0&&(l(this,Tt).length=0),w(this,ot,0),l(this,Tt).push(c);return}if(o&&l(this,Tt)[l(this,ot)].type===r){a&&(c.undo=l(this,Tt)[l(this,ot)].undo),l(this,Tt)[l(this,ot)]=c;return}const u=l(this,ot)+1;u===l(this,Xm)?l(this,Tt).splice(0,1):(w(this,ot,u),u<l(this,Tt).length&&l(this,Tt).splice(u)),l(this,Tt).push(c)}undo(){if(l(this,ot)===-1)return;w(this,Ra,!0);const{undo:e,post:t}=l(this,Tt)[l(this,ot)];e(),t==null||t(),w(this,Ra,!1),w(this,ot,l(this,ot)-1)}redo(){if(l(this,ot)<l(this,Tt).length-1){w(this,ot,l(this,ot)+1),w(this,Ra,!0);const{cmd:e,post:t}=l(this,Tt)[l(this,ot)];e(),t==null||t(),w(this,Ra,!1)}}hasSomethingToUndo(){return l(this,ot)!==-1}hasSomethingToRedo(){return l(this,ot)<l(this,Tt).length-1}cleanType(e){if(l(this,ot)!==-1){for(let t=l(this,ot);t>=0;t--)if(l(this,Tt)[t].type!==e){l(this,Tt).splice(t+1,l(this,ot)-t),w(this,ot,t);return}l(this,Tt).length=0,w(this,ot,-1)}}destroy(){w(this,Tt,null)}}Tt=new WeakMap,Ra=new WeakMap,Xm=new WeakMap,ot=new WeakMap;var Tw,FI;class Vy{constructor(e){S(this,Tw);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=Jt.platform;for(const[s,i,r={}]of e)for(const o of s){const a=o.startsWith("mac+");t&&a?(this.callbacks.set(o.slice(4),{callback:i,options:r}),this.allKeys.add(o.split("+").at(-1))):!t&&!a&&(this.callbacks.set(o,{callback:i,options:r}),this.allKeys.add(o.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const s=this.callbacks.get(C(this,Tw,FI).call(this,t));if(!s)return;const{callback:i,options:{bubbles:r=!1,args:o=[],checker:a=null}}=s;a&&!a(e,t)||(i.bind(e,...o,t)(),r||ct(t))}}Tw=new WeakSet,FI=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const Pw=class Pw{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return XG(e),fe(this,"_colors",e)}convert(e){const t=Qf(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[s,i]of this._colors)if(i.every((r,o)=>r===t[o]))return Pw._colorsMapping.get(s);return t}getHexCode(e){const t=this._colors.get(e);return t?Q.makeHexColor(...t):e}};V(Pw,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let EA=Pw;var Zd,ms,Jd,vt,Ot,eh,Zs,th,Js,bn,Ma,Na,nh,Da,mr,ei,wc,Ym,Km,sh,Qm,gr,La,ih,Ia,yr,kw,Fa,rh,Zm,Oa,xc,oh,ja,Jm,Mt,Me,co,Ba,Va,eg,ah,tg,$a,vr,uo,ng,sg,ti,q,Yv,CA,OI,jI,Ap,BI,VI,$I,TA,UI,PA,kA,zI,Ln,to,HI,WI,_A,GI,Sp,RA;const Ed=class Ed{constructor(e,t,s,i,r,o,a,c,u,d,h,f,p,y,m,b){S(this,q);S(this,Zd,new AbortController);S(this,ms,null);S(this,Jd,null);S(this,vt,new Map);S(this,Ot,new Map);S(this,eh,null);S(this,Zs,null);S(this,th,null);S(this,Js,new ZG);S(this,bn,null);S(this,Ma,null);S(this,Na,null);S(this,nh,0);S(this,Da,new Set);S(this,mr,null);S(this,ei,null);S(this,wc,new Set);V(this,"_editorUndoBar",null);S(this,Ym,!1);S(this,Km,!1);S(this,sh,!1);S(this,Qm,null);S(this,gr,null);S(this,La,null);S(this,ih,null);S(this,Ia,!1);S(this,yr,null);S(this,kw,new QG);S(this,Fa,!1);S(this,rh,!1);S(this,Zm,!1);S(this,Oa,null);S(this,xc,null);S(this,oh,null);S(this,ja,null);S(this,Jm,null);S(this,Mt,ae.NONE);S(this,Me,new Set);S(this,co,null);S(this,Ba,null);S(this,Va,null);S(this,eg,null);S(this,ah,null);S(this,tg,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});S(this,$a,[0,0]);S(this,vr,null);S(this,uo,null);S(this,ng,null);S(this,sg,null);S(this,ti,null);const g=this._signal=l(this,Zd).signal;w(this,uo,e),w(this,ng,t),w(this,sg,s),w(this,eh,i),w(this,bn,r),w(this,Ba,o),w(this,ah,c),this._eventBus=a,a._on("editingaction",this.onEditingAction.bind(this),{signal:g}),a._on("pagechanging",this.onPageChanging.bind(this),{signal:g}),a._on("scalechanging",this.onScaleChanging.bind(this),{signal:g}),a._on("rotationchanging",this.onRotationChanging.bind(this),{signal:g}),a._on("setpreference",this.onSetPreference.bind(this),{signal:g}),a._on("switchannotationeditorparams",v=>this.updateParams(v.type,v.value),{signal:g}),window.addEventListener("pointerdown",()=>{w(this,rh,!0)},{capture:!0,signal:g}),window.addEventListener("pointerup",()=>{w(this,rh,!1)},{capture:!0,signal:g}),C(this,q,BI).call(this),C(this,q,zI).call(this),C(this,q,TA).call(this),w(this,Zs,c.annotationStorage),w(this,Qm,c.filterFactory),w(this,Va,u),w(this,ih,d||null),w(this,Ym,h),w(this,Km,f),w(this,sh,p),w(this,Jm,y||null),this.viewParameters={realScale:sa.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=m||null,this._supportsPinchToZoom=b!==!1,r==null||r.setSidebarUiManager(this)}static get _keyboardManager(){const e=Ed.prototype,t=o=>l(o,uo).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),s=(o,{target:a})=>{if(a instanceof HTMLInputElement){const{type:c}=a;return c!=="text"&&c!=="number"}return!0},i=this.TRANSLATE_SMALL,r=this.TRANSLATE_BIG;return fe(this,"_keyboardManager",new Vy([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:s}],[["ctrl+z","mac+meta+z"],e.undo,{checker:s}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:s}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:s}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&l(o,uo).contains(a)&&!o.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&l(o,uo).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:t}]]))}destroy(){var e,t,s,i,r,o,a,c,u;(e=l(this,ti))==null||e.resolve(),w(this,ti,null),(t=l(this,Zd))==null||t.abort(),w(this,Zd,null),this._signal=null;for(const d of l(this,Ot).values())d.destroy();l(this,Ot).clear(),l(this,vt).clear(),l(this,wc).clear(),(s=l(this,ja))==null||s.clear(),w(this,ms,null),l(this,Me).clear(),l(this,Js).destroy(),(i=l(this,eh))==null||i.destroy(),(r=l(this,bn))==null||r.destroy(),(o=l(this,Ba))==null||o.destroy(),(a=l(this,yr))==null||a.hide(),w(this,yr,null),(c=l(this,oh))==null||c.destroy(),w(this,oh,null),w(this,Jd,null),l(this,gr)&&(clearTimeout(l(this,gr)),w(this,gr,null)),l(this,vr)&&(clearTimeout(l(this,vr)),w(this,vr,null)),(u=this._editorUndoBar)==null||u.destroy(),w(this,ah,null)}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return l(this,Jm)}get useNewAltTextFlow(){return l(this,Km)}get useNewAltTextWhenAddingImage(){return l(this,sh)}get hcmFilter(){return fe(this,"hcmFilter",l(this,Va)?l(this,Qm).addHCMFilter(l(this,Va).foreground,l(this,Va).background):"none")}get direction(){return fe(this,"direction",getComputedStyle(l(this,uo)).direction)}get _highlightColors(){return fe(this,"_highlightColors",l(this,ih)?new Map(l(this,ih).split(",").map(e=>(e=e.split("=").map(t=>t.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return fe(this,"highlightColors",null);const t=new Map,s=!!l(this,Va);for(const[i,r]of e){const o=i.endsWith("_HCM");if(s&&o){t.set(i.replace("_HCM",""),r);continue}!s&&!o&&t.set(i,r)}return fe(this,"highlightColors",t)}get highlightColorNames(){return fe(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const t=this.highlightColorNames.get(e);return this._highlightColors.get(t)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),w(this,Na,e)}setMainHighlightColorPicker(e){w(this,oh,e)}editAltText(e,t=!1){var s;(s=l(this,eh))==null||s.editAltText(this,e,t)}hasCommentManager(){return!!l(this,bn)}editComment(e,t,s,i){var r;(r=l(this,bn))==null||r.showDialog(this,e,t,s,i)}selectComment(e,t){const s=l(this,Ot).get(e),i=s==null?void 0:s.getEditorByUID(t);i==null||i.toggleComment(!0,!0)}updateComment(e){var t;(t=l(this,bn))==null||t.updateComment(e.getData())}updatePopupColor(e){var t;(t=l(this,bn))==null||t.updatePopupColor(e)}removeComment(e){var t;(t=l(this,bn))==null||t.removeComments([e.uid])}toggleComment(e,t,s=void 0){var i;(i=l(this,bn))==null||i.toggleCommentPopup(e,t,s)}makeCommentColor(e,t){var s;return e&&((s=l(this,bn))==null?void 0:s.makeCommentColor(e,t))||null}getCommentDialogElement(){var e;return((e=l(this,bn))==null?void 0:e.dialogElement)||null}async waitForEditorsRendered(e){if(l(this,Ot).has(e-1))return;const{resolve:t,promise:s}=Promise.withResolvers(),i=r=>{r.pageNumber===e&&(this._eventBus._off("editorsrendered",i),t())};this._eventBus.on("editorsrendered",i),await s}getSignature(e){var t;(t=l(this,Ba))==null||t.getSignature({uiManager:this,editor:e})}get signatureManager(){return l(this,Ba)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":w(this,sh,t);break}}onPageChanging({pageNumber:e}){w(this,nh,e-1)}focusMainContainer(){l(this,uo).focus()}findParent(e,t){for(const s of l(this,Ot).values()){const{x:i,y:r,width:o,height:a}=s.div.getBoundingClientRect();if(e>=i&&e<=i+o&&t>=r&&t<=r+a)return s}return null}disableUserSelect(e=!1){l(this,ng).classList.toggle("noUserSelect",e)}addShouldRescale(e){l(this,wc).add(e)}removeShouldRescale(e){l(this,wc).delete(e)}onScaleChanging({scale:e}){var t;this.commitOrRemove(),this.viewParameters.realScale=e*sa.PDF_TO_CSS_UNITS;for(const s of l(this,wc))s.onScaleChanging();(t=l(this,Na))==null||t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e="",t=!1){const s=document.getSelection();if(!s||s.isCollapsed)return;const{anchorNode:i,anchorOffset:r,focusNode:o,focusOffset:a}=s,c=s.toString(),d=C(this,q,Yv).call(this,s).closest(".textLayer"),h=this.getSelectionBoxes(d);if(!h)return;s.empty();const f=C(this,q,CA).call(this,d),p=l(this,Mt)===ae.NONE,y=()=>{const m=f==null?void 0:f.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:h,anchorNode:i,anchorOffset:r,focusNode:o,focusOffset:a,text:c});p&&this.showAllEditors("highlight",!0,!0),t&&(m==null||m.editComment())};if(p){this.switchToMode(ae.HIGHLIGHT,y);return}y()}commentSelection(e=""){this.highlightSelection(e,!0)}getAndRemoveDataFromAnnotationStorage(e){if(!l(this,Zs))return null;const t=`${Dm}${e}`,s=l(this,Zs).getRawValue(t);return s&&l(this,Zs).remove(t),s}addToAnnotationStorage(e){!e.isEmpty()&&l(this,Zs)&&!l(this,Zs).has(e.id)&&l(this,Zs).setValue(e.id,e)}a11yAlert(e,t=null){const s=l(this,sg);s&&(s.setAttribute("data-l10n-id",e),t?s.setAttribute("data-l10n-args",JSON.stringify(t)):s.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,l(this,Ia)&&(w(this,Ia,!1),C(this,q,Ap).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of l(this,Me))if(t.div.contains(e)){w(this,xc,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!l(this,xc))return;const[e,t]=l(this,xc);w(this,xc,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){C(this,q,TA).call(this),C(this,q,PA).call(this)}removeEditListeners(){C(this,q,UI).call(this),C(this,q,kA).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const s of l(this,ei))if(s.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const s of l(this,ei))if(s.isHandlingMimeForPasting(t.type)){s.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var s;if(e.preventDefault(),(s=l(this,ms))==null||s.commitOrRemove(),!this.hasSelection)return;const t=[];for(const i of l(this,Me)){const r=i.serialize(!0);r&&t.push(r)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const r of t.items)for(const o of l(this,ei))if(o.isHandlingMimeForPasting(r.type)){o.paste(r,this.currentLayer);return}let s=t.getData("application/pdfjs");if(!s)return;try{s=JSON.parse(s)}catch(r){le(`paste: "${r.message}".`);return}if(!Array.isArray(s))return;this.unselectAll();const i=this.currentLayer;try{const r=[];for(const c of s){const u=await i.deserialize(c);if(!u)return;r.push(u)}const o=()=>{for(const c of r)C(this,q,_A).call(this,c);C(this,q,RA).call(this,r)},a=()=>{for(const c of r)c.remove()};this.addCommands({cmd:o,undo:a,mustExec:!0})}catch(r){le(`paste: "${r.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),l(this,Mt)!==ae.NONE&&!this.isEditorHandlingKeyboard&&Ed._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,l(this,Ia)&&(w(this,Ia,!1),C(this,q,Ap).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}setEditingState(e){e?(C(this,q,VI).call(this),C(this,q,PA).call(this),C(this,q,Ln).call(this,{isEditing:l(this,Mt)!==ae.NONE,isEmpty:C(this,q,Sp).call(this),hasSomethingToUndo:l(this,Js).hasSomethingToUndo(),hasSomethingToRedo:l(this,Js).hasSomethingToRedo(),hasSelectedEditor:!1})):(C(this,q,$I).call(this),C(this,q,kA).call(this),C(this,q,Ln).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!l(this,ei)){w(this,ei,e);for(const t of l(this,ei))C(this,q,to).call(this,t.defaultPropertiesToUpdate)}}getId(){return l(this,kw).id}get currentLayer(){return l(this,Ot).get(l(this,nh))}getLayer(e){return l(this,Ot).get(e)}get currentPageIndex(){return l(this,nh)}addLayer(e){l(this,Ot).set(e.pageIndex,e),l(this,Fa)?e.enable():e.disable()}removeLayer(e){l(this,Ot).delete(e.pageIndex)}async updateMode(e,t=null,s=!1,i=!1,r=!1){var o,a,c,u,d,h;if(l(this,Mt)!==e&&!(l(this,ti)&&(await l(this,ti).promise,!l(this,ti)))){if(w(this,ti,Promise.withResolvers()),(o=l(this,Na))==null||o.commitOrRemove(),l(this,Mt)===ae.POPUP&&((a=l(this,bn))==null||a.hideSidebar()),(c=l(this,bn))==null||c.destroyPopup(),w(this,Mt,e),e===ae.NONE){this.setEditingState(!1),C(this,q,WI).call(this);for(const f of l(this,vt).values())f.hideStandaloneCommentButton();(u=this._editorUndoBar)==null||u.hide(),this.toggleComment(null),l(this,ti).resolve();return}for(const f of l(this,vt).values())f.addStandaloneCommentButton();e===ae.SIGNATURE&&await((d=l(this,Ba))==null?void 0:d.loadSignatures()),this.setEditingState(!0),await C(this,q,HI).call(this),this.unselectAll();for(const f of l(this,Ot).values())f.updateMode(e);if(e===ae.POPUP){l(this,Jd)||w(this,Jd,await l(this,ah).getAnnotationsByType(new Set(l(this,ei).map(y=>y._editorType))));const f=new Set,p=[];for(const y of l(this,vt).values()){const{annotationElementId:m,hasComment:b,deleted:g}=y;m&&f.add(m),b&&!g&&p.push(y.getData())}for(const y of l(this,Jd)){const{id:m,popupRef:b,contentsObj:g}=y;b&&(g!=null&&g.str)&&!f.has(m)&&!l(this,Da).has(m)&&p.push(y)}(h=l(this,bn))==null||h.showSidebar(p)}if(!t){s&&this.addNewEditorFromKeyboard(),l(this,ti).resolve();return}for(const f of l(this,vt).values())f.uid===t?(this.setSelected(f),r?f.editComment():i?f.enterInEditMode():f.focus()):f.unselect();l(this,ti).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==l(this,Mt)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,t){if(l(this,ei)){switch(e){case xe.CREATE:this.currentLayer.addNewEditor(t);return;case xe.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(l(this,eg)||w(this,eg,new Map)).set(e,t),this.showAllEditors("highlight",t);break}if(this.hasSelection)for(const s of l(this,Me))s.updateParams(e,t);else for(const s of l(this,ei))s.updateDefaultParams(e,t)}}showAllEditors(e,t,s=!1){var r;for(const o of l(this,vt).values())o.editorType===e&&o.show(t);(((r=l(this,eg))==null?void 0:r.get(xe.HIGHLIGHT_SHOW_ALL))??!0)!==t&&C(this,q,to).call(this,[[xe.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(l(this,Zm)!==e){w(this,Zm,e);for(const t of l(this,Ot).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}*getEditors(e){for(const t of l(this,vt).values())t.pageIndex===e&&(yield t)}getEditor(e){return l(this,vt).get(e)}addEditor(e){l(this,vt).set(e.id,e)}removeEditor(e){var t,s;e.div.contains(document.activeElement)&&(l(this,gr)&&clearTimeout(l(this,gr)),w(this,gr,setTimeout(()=>{this.focusMainContainer(),w(this,gr,null)},0))),l(this,vt).delete(e.id),e.annotationElementId&&((t=l(this,ja))==null||t.delete(e.annotationElementId)),this.unselect(e),(!e.annotationElementId||!l(this,Da).has(e.annotationElementId))&&((s=l(this,Zs))==null||s.remove(e.id))}addDeletedAnnotationElement(e){l(this,Da).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return l(this,Da).has(e)}removeDeletedAnnotationElement(e){l(this,Da).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){l(this,ms)!==e&&(w(this,ms,e),e&&C(this,q,to).call(this,e.propertiesToUpdate))}updateUI(e){l(this,q,GI)===e&&C(this,q,to).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){C(this,q,to).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(l(this,Me).has(e)){l(this,Me).delete(e),e.unselect(),C(this,q,Ln).call(this,{hasSelectedEditor:this.hasSelection});return}l(this,Me).add(e),e.select(),C(this,q,to).call(this,e.propertiesToUpdate),C(this,q,Ln).call(this,{hasSelectedEditor:!0})}setSelected(e){var t;this.updateToolbar({mode:e.mode,editId:e.id}),(t=l(this,Na))==null||t.commitOrRemove();for(const s of l(this,Me))s!==e&&s.unselect();l(this,Me).clear(),l(this,Me).add(e),e.select(),C(this,q,to).call(this,e.propertiesToUpdate),C(this,q,Ln).call(this,{hasSelectedEditor:!0})}isSelected(e){return l(this,Me).has(e)}get firstSelectedEditor(){return l(this,Me).values().next().value}unselect(e){e.unselect(),l(this,Me).delete(e),C(this,q,Ln).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return l(this,Me).size!==0}get isEnterHandled(){return l(this,Me).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;l(this,Js).undo(),C(this,q,Ln).call(this,{hasSomethingToUndo:l(this,Js).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:C(this,q,Sp).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){l(this,Js).redo(),C(this,q,Ln).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:l(this,Js).hasSomethingToRedo(),isEmpty:C(this,q,Sp).call(this)})}addCommands(e){l(this,Js).add(e),C(this,q,Ln).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:C(this,q,Sp).call(this)})}cleanUndoStack(e){l(this,Js).cleanType(e)}delete(){var r;this.commitOrRemove();const e=(r=this.currentLayer)==null?void 0:r.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...l(this,Me)],s=()=>{var o;(o=this._editorUndoBar)==null||o.show(i,t.length===1?t[0].editorType:t.length);for(const a of t)a.remove()},i=()=>{for(const o of t)C(this,q,_A).call(this,o)};this.addCommands({cmd:s,undo:i,mustExec:!0})}commitOrRemove(){var e;(e=l(this,ms))==null||e.commitOrRemove()}hasSomethingToControl(){return l(this,ms)||this.hasSelection}selectAll(){for(const e of l(this,Me))e.commit();C(this,q,RA).call(this,l(this,vt).values())}unselectAll(){var e;if(!(l(this,ms)&&(l(this,ms).commitOrRemove(),l(this,Mt)!==ae.NONE))&&!((e=l(this,Na))!=null&&e.commitOrRemove())&&this.hasSelection){for(const t of l(this,Me))t.unselect();l(this,Me).clear(),C(this,q,Ln).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,s=!1){if(s||this.commitOrRemove(),!this.hasSelection)return;l(this,$a)[0]+=e,l(this,$a)[1]+=t;const[i,r]=l(this,$a),o=[...l(this,Me)],a=1e3;l(this,vr)&&clearTimeout(l(this,vr)),w(this,vr,setTimeout(()=>{w(this,vr,null),l(this,$a)[0]=l(this,$a)[1]=0,this.addCommands({cmd:()=>{for(const c of o)l(this,vt).has(c.id)&&(c.translateInPage(i,r),c.translationDone())},undo:()=>{for(const c of o)l(this,vt).has(c.id)&&(c.translateInPage(-i,-r),c.translationDone())},mustExec:!1})},a));for(const c of o)c.translateInPage(e,t),c.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),w(this,mr,new Map);for(const e of l(this,Me))l(this,mr).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!l(this,mr))return!1;this.disableUserSelect(!1);const e=l(this,mr);w(this,mr,null);let t=!1;for(const[{x:i,y:r,pageIndex:o},a]of e)a.newX=i,a.newY=r,a.newPageIndex=o,t||(t=i!==a.savedX||r!==a.savedY||o!==a.savedPageIndex);if(!t)return!1;const s=(i,r,o,a)=>{if(l(this,vt).has(i.id)){const c=l(this,Ot).get(a);c?i._setParentAndPosition(c,r,o):(i.pageIndex=a,i.x=r,i.y=o)}};return this.addCommands({cmd:()=>{for(const[i,{newX:r,newY:o,newPageIndex:a}]of e)s(i,r,o,a)},undo:()=>{for(const[i,{savedX:r,savedY:o,savedPageIndex:a}]of e)s(i,r,o,a)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(l(this,mr))for(const s of l(this,mr).keys())s.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||l(this,Me).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return l(this,ms)===e}getActive(){return l(this,ms)}getMode(){return l(this,Mt)}isEditingMode(){return l(this,Mt)!==ae.NONE}get imageManager(){return fe(this,"imageManager",new SA)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let u=0,d=t.rangeCount;u<d;u++)if(!e.contains(t.getRangeAt(u).commonAncestorContainer))return null;const{x:s,y:i,width:r,height:o}=e.getBoundingClientRect();let a;switch(e.getAttribute("data-main-rotation")){case"90":a=(u,d,h,f)=>({x:(d-i)/o,y:1-(u+h-s)/r,width:f/o,height:h/r});break;case"180":a=(u,d,h,f)=>({x:1-(u+h-s)/r,y:1-(d+f-i)/o,width:h/r,height:f/o});break;case"270":a=(u,d,h,f)=>({x:1-(d+f-i)/o,y:(u-s)/r,width:f/o,height:h/r});break;default:a=(u,d,h,f)=>({x:(u-s)/r,y:(d-i)/o,width:h/r,height:f/o});break}const c=[];for(let u=0,d=t.rangeCount;u<d;u++){const h=t.getRangeAt(u);if(!h.collapsed)for(const{x:f,y:p,width:y,height:m}of h.getClientRects())y===0||m===0||c.push(a(f,p,y,m))}return c.length===0?null:c}addChangedExistingAnnotation({annotationElementId:e,id:t}){(l(this,th)||w(this,th,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=l(this,th))==null||t.delete(e)}renderAnnotationElement(e){var i;const t=(i=l(this,th))==null?void 0:i.get(e.data.id);if(!t)return;const s=l(this,Zs).getRawValue(t);s&&(l(this,Mt)===ae.NONE&&!s.hasBeenModified||s.renderAnnotationElement(e))}setMissingCanvas(e,t,s){var r;const i=(r=l(this,ja))==null?void 0:r.get(e);i&&(i.setCanvas(t,s),l(this,ja).delete(e))}addMissingCanvas(e,t){(l(this,ja)||w(this,ja,new Map)).set(e,t)}};Zd=new WeakMap,ms=new WeakMap,Jd=new WeakMap,vt=new WeakMap,Ot=new WeakMap,eh=new WeakMap,Zs=new WeakMap,th=new WeakMap,Js=new WeakMap,bn=new WeakMap,Ma=new WeakMap,Na=new WeakMap,nh=new WeakMap,Da=new WeakMap,mr=new WeakMap,ei=new WeakMap,wc=new WeakMap,Ym=new WeakMap,Km=new WeakMap,sh=new WeakMap,Qm=new WeakMap,gr=new WeakMap,La=new WeakMap,ih=new WeakMap,Ia=new WeakMap,yr=new WeakMap,kw=new WeakMap,Fa=new WeakMap,rh=new WeakMap,Zm=new WeakMap,Oa=new WeakMap,xc=new WeakMap,oh=new WeakMap,ja=new WeakMap,Jm=new WeakMap,Mt=new WeakMap,Me=new WeakMap,co=new WeakMap,Ba=new WeakMap,Va=new WeakMap,eg=new WeakMap,ah=new WeakMap,tg=new WeakMap,$a=new WeakMap,vr=new WeakMap,uo=new WeakMap,ng=new WeakMap,sg=new WeakMap,ti=new WeakMap,q=new WeakSet,Yv=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},CA=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const s of l(this,Ot).values())if(s.hasTextLayer(e))return s;return null},OI=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const s=C(this,q,Yv).call(this,e).closest(".textLayer"),i=this.getSelectionBoxes(s);i&&(l(this,yr)||w(this,yr,new KG(this)),l(this,yr).show(s,i,this.direction==="ltr"))},jI=function(){var r,o,a;const e=document.getSelection();if(!e||e.isCollapsed){l(this,co)&&((r=l(this,yr))==null||r.hide(),w(this,co,null),C(this,q,Ln).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===l(this,co))return;const i=C(this,q,Yv).call(this,e).closest(".textLayer");if(!i){l(this,co)&&((o=l(this,yr))==null||o.hide(),w(this,co,null),C(this,q,Ln).call(this,{hasSelectedText:!1}));return}if((a=l(this,yr))==null||a.hide(),w(this,co,t),C(this,q,Ln).call(this,{hasSelectedText:!0}),!(l(this,Mt)!==ae.HIGHLIGHT&&l(this,Mt)!==ae.NONE)&&(l(this,Mt)===ae.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),w(this,Ia,this.isShiftKeyDown),!this.isShiftKeyDown)){const c=l(this,Mt)===ae.HIGHLIGHT?C(this,q,CA).call(this,i):null;if(c==null||c.toggleDrawing(),l(this,rh)){const u=new AbortController,d=this.combinedSignal(u),h=f=>{f.type==="pointerup"&&f.button!==0||(u.abort(),c==null||c.toggleDrawing(!0),f.type==="pointerup"&&C(this,q,Ap).call(this,"main_toolbar"))};window.addEventListener("pointerup",h,{signal:d}),window.addEventListener("blur",h,{signal:d})}else c==null||c.toggleDrawing(!0),C(this,q,Ap).call(this,"main_toolbar")}},Ap=function(e=""){l(this,Mt)===ae.HIGHLIGHT?this.highlightSelection(e):l(this,Ym)&&C(this,q,OI).call(this)},BI=function(){document.addEventListener("selectionchange",C(this,q,jI).bind(this),{signal:this._signal})},VI=function(){if(l(this,La))return;w(this,La,new AbortController);const e=this.combinedSignal(l(this,La));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},$I=function(){var e;(e=l(this,La))==null||e.abort(),w(this,La,null)},TA=function(){if(l(this,Oa))return;w(this,Oa,new AbortController);const e=this.combinedSignal(l(this,Oa));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},UI=function(){var e;(e=l(this,Oa))==null||e.abort(),w(this,Oa,null)},PA=function(){if(l(this,Ma))return;w(this,Ma,new AbortController);const e=this.combinedSignal(l(this,Ma));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},kA=function(){var e;(e=l(this,Ma))==null||e.abort(),w(this,Ma,null)},zI=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},Ln=function(e){Object.entries(e).some(([s,i])=>l(this,tg)[s]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(l(this,tg),e)}),l(this,Mt)===ae.HIGHLIGHT&&e.hasSelectedEditor===!1&&C(this,q,to).call(this,[[xe.HIGHLIGHT_FREE,!0]]))},to=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},HI=async function(){if(!l(this,Fa)){w(this,Fa,!0);const e=[];for(const t of l(this,Ot).values())e.push(t.enable());await Promise.all(e);for(const t of l(this,vt).values())t.enable()}},WI=function(){if(this.unselectAll(),l(this,Fa)){w(this,Fa,!1);for(const e of l(this,Ot).values())e.disable();for(const e of l(this,vt).values())e.disable()}},_A=function(e){const t=l(this,Ot).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},GI=function(){let e=null;for(e of l(this,Me));return e},Sp=function(){if(l(this,vt).size===0)return!0;if(l(this,vt).size===1)for(const e of l(this,vt).values())return e.isEmpty();return!1},RA=function(e){for(const t of l(this,Me))t.unselect();l(this,Me).clear();for(const t of e)t.isEmpty()||(l(this,Me).add(t),t.select());C(this,q,Ln).call(this,{hasSelectedEditor:this.hasSelection})},V(Ed,"TRANSLATE_SMALL",1),V(Ed,"TRANSLATE_BIG",10);let $l=Ed;var Ht,wr,Ni,lh,xr,gs,ch,br,Zn,ho,bc,Ar,Ua,Gi,Ep,Kv;const In=class In{constructor(e){S(this,Gi);S(this,Ht,null);S(this,wr,!1);S(this,Ni,null);S(this,lh,null);S(this,xr,null);S(this,gs,null);S(this,ch,!1);S(this,br,null);S(this,Zn,null);S(this,ho,null);S(this,bc,null);S(this,Ar,!1);w(this,Zn,e),w(this,Ar,e._uiManager.useNewAltTextFlow),l(In,Ua)||w(In,Ua,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){In._l10n??(In._l10n=e)}async render(){const e=w(this,Ni,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=w(this,lh,document.createElement("span"));e.append(t),l(this,Ar)?(e.classList.add("new"),e.setAttribute("data-l10n-id",l(In,Ua).missing),t.setAttribute("data-l10n-id",l(In,Ua)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const s=l(this,Zn)._uiManager._signal;e.addEventListener("contextmenu",zs,{signal:s}),e.addEventListener("pointerdown",r=>r.stopPropagation(),{signal:s});const i=r=>{r.preventDefault(),l(this,Zn)._uiManager.editAltText(l(this,Zn)),l(this,Ar)&&l(this,Zn)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:l(this,Gi,Ep)}})};return e.addEventListener("click",i,{capture:!0,signal:s}),e.addEventListener("keydown",r=>{r.target===e&&r.key==="Enter"&&(w(this,ch,!0),i(r))},{signal:s}),await C(this,Gi,Kv).call(this),e}finish(){l(this,Ni)&&(l(this,Ni).focus({focusVisible:l(this,ch)}),w(this,ch,!1))}isEmpty(){return l(this,Ar)?l(this,Ht)===null:!l(this,Ht)&&!l(this,wr)}hasData(){return l(this,Ar)?l(this,Ht)!==null||!!l(this,ho):this.isEmpty()}get guessedText(){return l(this,ho)}async setGuessedText(e){l(this,Ht)===null&&(w(this,ho,e),w(this,bc,await In._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),C(this,Gi,Kv).call(this))}toggleAltTextBadge(e=!1){var t;if(!l(this,Ar)||l(this,Ht)){(t=l(this,br))==null||t.remove(),w(this,br,null);return}if(!l(this,br)){const s=w(this,br,document.createElement("div"));s.className="noAltTextBadge",l(this,Zn).div.append(s)}l(this,br).classList.toggle("hidden",!e)}serialize(e){let t=l(this,Ht);return!e&&l(this,ho)===t&&(t=l(this,bc)),{altText:t,decorative:l(this,wr),guessedText:l(this,ho),textWithDisclaimer:l(this,bc)}}get data(){return{altText:l(this,Ht),decorative:l(this,wr)}}set data({altText:e,decorative:t,guessedText:s,textWithDisclaimer:i,cancel:r=!1}){s&&(w(this,ho,s),w(this,bc,i)),!(l(this,Ht)===e&&l(this,wr)===t)&&(r||(w(this,Ht,e),w(this,wr,t)),C(this,Gi,Kv).call(this))}toggle(e=!1){l(this,Ni)&&(!e&&l(this,gs)&&(clearTimeout(l(this,gs)),w(this,gs,null)),l(this,Ni).disabled=!e)}shown(){l(this,Zn)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:l(this,Gi,Ep)}})}destroy(){var e,t;(e=l(this,Ni))==null||e.remove(),w(this,Ni,null),w(this,lh,null),w(this,xr,null),(t=l(this,br))==null||t.remove(),w(this,br,null)}};Ht=new WeakMap,wr=new WeakMap,Ni=new WeakMap,lh=new WeakMap,xr=new WeakMap,gs=new WeakMap,ch=new WeakMap,br=new WeakMap,Zn=new WeakMap,ho=new WeakMap,bc=new WeakMap,Ar=new WeakMap,Ua=new WeakMap,Gi=new WeakSet,Ep=function(){return l(this,Ht)&&"added"||l(this,Ht)===null&&this.guessedText&&"review"||"missing"},Kv=async function(){var i,r,o;const e=l(this,Ni);if(!e)return;if(l(this,Ar)){if(e.classList.toggle("done",!!l(this,Ht)),e.setAttribute("data-l10n-id",l(In,Ua)[l(this,Gi,Ep)]),(i=l(this,lh))==null||i.setAttribute("data-l10n-id",l(In,Ua)[`${l(this,Gi,Ep)}-label`]),!l(this,Ht)){(r=l(this,xr))==null||r.remove();return}}else{if(!l(this,Ht)&&!l(this,wr)){e.classList.remove("done"),(o=l(this,xr))==null||o.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=l(this,xr);if(!t){w(this,xr,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${l(this,Zn).id}`;const a=100,c=l(this,Zn)._uiManager._signal;c.addEventListener("abort",()=>{clearTimeout(l(this,gs)),w(this,gs,null)},{once:!0}),e.addEventListener("mouseenter",()=>{w(this,gs,setTimeout(()=>{w(this,gs,null),l(this,xr).classList.add("show"),l(this,Zn)._reportTelemetry({action:"alt_text_tooltip"})},a))},{signal:c}),e.addEventListener("mouseleave",()=>{var u;l(this,gs)&&(clearTimeout(l(this,gs)),w(this,gs,null)),(u=l(this,xr))==null||u.classList.remove("show")},{signal:c})}l(this,wr)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=l(this,Ht)),t.parentNode||e.append(t);const s=l(this,Zn).getElementForAltText();s==null||s.setAttribute("aria-describedby",t.id)},S(In,Ua,null),V(In,"_l10n",null);let pw=In;var tn,ni,Ac,We,ig,Sc,Di,Ec,Cc,Tc,rg,MA;class wv{constructor(e){S(this,rg);S(this,tn,null);S(this,ni,null);S(this,Ac,!1);S(this,We,null);S(this,ig,null);S(this,Sc,null);S(this,Di,null);S(this,Ec,null);S(this,Cc,!1);S(this,Tc,null);w(this,We,e)}renderForToolbar(){const e=w(this,ni,document.createElement("button"));return e.className="comment",C(this,rg,MA).call(this,e,!1)}renderForStandalone(){const e=w(this,tn,document.createElement("button"));e.className="annotationCommentButton";const t=l(this,We).commentButtonPosition;if(t){const{style:s}=e;s.insetInlineEnd=`calc(${100*(l(this,We)._uiManager.direction==="ltr"?1-t[0]:t[0])}% - var(--comment-button-dim))`,s.top=`calc(${100*t[1]}% - var(--comment-button-dim))`;const i=l(this,We).commentButtonColor;i&&(s.backgroundColor=i)}return C(this,rg,MA).call(this,e,!0)}focusButton(){setTimeout(()=>{var e;(e=l(this,tn)??l(this,ni))==null||e.focus()},0)}onUpdatedColor(){if(!l(this,tn))return;const e=l(this,We).commentButtonColor;e&&(l(this,tn).style.backgroundColor=e),l(this,We)._uiManager.updatePopupColor(l(this,We))}get commentButtonWidth(){var e;return(((e=l(this,tn))==null?void 0:e.getBoundingClientRect().width)??0)/l(this,We).parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(l(this,Tc))return l(this,Tc);if(!l(this,tn))return null;const{x:e,y:t,height:s}=l(this,tn).getBoundingClientRect(),{x:i,y:r,width:o,height:a}=l(this,We).parent.boundingClientRect;return[(e-i)/o,(t+s-r)/a]}set commentPopupPositionInLayer(e){w(this,Tc,e)}hasDefaultPopupPosition(){return l(this,Tc)===null}removeStandaloneCommentButton(){var e;(e=l(this,tn))==null||e.remove(),w(this,tn,null)}removeToolbarCommentButton(){var e;(e=l(this,ni))==null||e.remove(),w(this,ni,null)}setCommentButtonStates({selected:e,hasPopup:t}){l(this,tn)&&(l(this,tn).classList.toggle("selected",e),l(this,tn).ariaExpanded=t)}edit(e){const t=this.commentPopupPositionInLayer;let s,i;if(t)[s,i]=t;else{[s,i]=l(this,We).commentButtonPosition;const{width:d,height:h,x:f,y:p}=l(this,We);s=f+s*d,i=p+i*h}const r=l(this,We).parent.boundingClientRect,{x:o,y:a,width:c,height:u}=r;l(this,We)._uiManager.editComment(l(this,We),o+s*c,a+i*u,{...e,parentDimensions:r})}finish(){l(this,ni)&&(l(this,ni).focus({focusVisible:l(this,Ac)}),w(this,Ac,!1))}isDeleted(){return l(this,Cc)||l(this,Di)===""}isEmpty(){return l(this,Di)===null}hasBeenEdited(){return this.isDeleted()||l(this,Di)!==l(this,ig)}serialize(){return this.data}get data(){return{text:l(this,Di),richText:l(this,Sc),date:l(this,Ec),deleted:this.isDeleted()}}set data(e){if(e!==l(this,Di)&&w(this,Sc,null),e===null){w(this,Di,""),w(this,Cc,!0);return}w(this,Di,e),w(this,Ec,new Date),w(this,Cc,!1)}setInitialText(e,t=null){w(this,ig,e),this.data=e,w(this,Ec,null),w(this,Sc,t)}shown(){}destroy(){var e,t;(e=l(this,ni))==null||e.remove(),w(this,ni,null),(t=l(this,tn))==null||t.remove(),w(this,tn,null),w(this,Di,""),w(this,Sc,null),w(this,Ec,null),w(this,We,null),w(this,Ac,!1),w(this,Cc,!1)}}tn=new WeakMap,ni=new WeakMap,Ac=new WeakMap,We=new WeakMap,ig=new WeakMap,Sc=new WeakMap,Di=new WeakMap,Ec=new WeakMap,Cc=new WeakMap,Tc=new WeakMap,rg=new WeakSet,MA=function(e,t){if(!l(this,We)._uiManager.hasCommentManager())return null;e.tabIndex="0",e.ariaHasPopup="dialog",t?(e.ariaControls="commentPopup",e.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(e.ariaControlsElements=[l(this,We)._uiManager.getCommentDialogElement()],e.setAttribute("data-l10n-id","pdfjs-editor-edit-comment-button"));const s=l(this,We)._uiManager._signal;if(!(s instanceof AbortSignal)||s.aborted)return e;e.addEventListener("contextmenu",zs,{signal:s}),t&&(e.addEventListener("focusin",r=>{l(this,We)._focusEventsAllowed=!1,ct(r)},{capture:!0,signal:s}),e.addEventListener("focusout",r=>{l(this,We)._focusEventsAllowed=!0,ct(r)},{capture:!0,signal:s})),e.addEventListener("pointerdown",r=>r.stopPropagation(),{signal:s});const i=r=>{r.preventDefault(),e===l(this,ni)?this.edit():l(this,We).toggleComment(!0)};return e.addEventListener("click",i,{capture:!0,signal:s}),e.addEventListener("keydown",r=>{r.target===e&&r.key==="Enter"&&(w(this,Ac,!0),i(r))},{signal:s}),e.addEventListener("pointerenter",()=>{l(this,We).toggleComment(!1,!0)},{signal:s}),e.addEventListener("pointerleave",()=>{l(this,We).toggleComment(!1,!1)},{signal:s}),e};var uh,Pc,og,ag,lg,cg,ug,fo,kc,po,_c,mo,Ul,qI,XI,YI;const aT=class aT{constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:s=null,onPinchStart:i=null,onPinching:r=null,onPinchEnd:o=null,signal:a}){S(this,Ul);S(this,uh);S(this,Pc,!1);S(this,og,null);S(this,ag);S(this,lg);S(this,cg);S(this,ug);S(this,fo,null);S(this,kc);S(this,po,null);S(this,_c);S(this,mo,null);w(this,uh,e),w(this,og,s),w(this,ag,t),w(this,lg,i),w(this,cg,r),w(this,ug,o),w(this,_c,new AbortController),w(this,kc,AbortSignal.any([a,l(this,_c).signal])),e.addEventListener("touchstart",C(this,Ul,qI).bind(this),{passive:!1,signal:l(this,kc)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Ji.pixelRatio}destroy(){var e,t;(e=l(this,_c))==null||e.abort(),w(this,_c,null),(t=l(this,fo))==null||t.abort(),w(this,fo,null)}};uh=new WeakMap,Pc=new WeakMap,og=new WeakMap,ag=new WeakMap,lg=new WeakMap,cg=new WeakMap,ug=new WeakMap,fo=new WeakMap,kc=new WeakMap,po=new WeakMap,_c=new WeakMap,mo=new WeakMap,Ul=new WeakSet,qI=function(e){var i,r,o;if((i=l(this,ag))!=null&&i.call(this))return;if(e.touches.length===1){if(l(this,fo))return;const a=w(this,fo,new AbortController),c=AbortSignal.any([l(this,kc),a.signal]),u=l(this,uh),d={capture:!0,signal:c,passive:!1},h=f=>{var p;f.pointerType==="touch"&&((p=l(this,fo))==null||p.abort(),w(this,fo,null))};u.addEventListener("pointerdown",f=>{f.pointerType==="touch"&&(ct(f),h(f))},d),u.addEventListener("pointerup",h,d),u.addEventListener("pointercancel",h,d);return}if(!l(this,mo)){w(this,mo,new AbortController);const a=AbortSignal.any([l(this,kc),l(this,mo).signal]),c=l(this,uh),u={signal:a,capture:!1,passive:!1};c.addEventListener("touchmove",C(this,Ul,XI).bind(this),u);const d=C(this,Ul,YI).bind(this);c.addEventListener("touchend",d,u),c.addEventListener("touchcancel",d,u),u.capture=!0,c.addEventListener("pointerdown",ct,u),c.addEventListener("pointermove",ct,u),c.addEventListener("pointercancel",ct,u),c.addEventListener("pointerup",ct,u),(r=l(this,lg))==null||r.call(this)}if(ct(e),e.touches.length!==2||(o=l(this,og))!=null&&o.call(this)){w(this,po,null);return}let[t,s]=e.touches;t.identifier>s.identifier&&([t,s]=[s,t]),w(this,po,{touch0X:t.screenX,touch0Y:t.screenY,touch1X:s.screenX,touch1Y:s.screenY})},XI=function(e){var E;if(!l(this,po)||e.touches.length!==2)return;ct(e);let[t,s]=e.touches;t.identifier>s.identifier&&([t,s]=[s,t]);const{screenX:i,screenY:r}=t,{screenX:o,screenY:a}=s,c=l(this,po),{touch0X:u,touch0Y:d,touch1X:h,touch1Y:f}=c,p=h-u,y=f-d,m=o-i,b=a-r,g=Math.hypot(m,b)||1,v=Math.hypot(p,y)||1;if(!l(this,Pc)&&Math.abs(v-g)<=aT.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(c.touch0X=i,c.touch0Y=r,c.touch1X=o,c.touch1Y=a,!l(this,Pc)){w(this,Pc,!0);return}const A=[(i+o)/2,(r+a)/2];(E=l(this,cg))==null||E.call(this,A,v,g)},YI=function(e){var t;e.touches.length>=2||(l(this,mo)&&(l(this,mo).abort(),w(this,mo,null),(t=l(this,ug))==null||t.call(this)),l(this,po)&&(ct(e),w(this,po,null),w(this,Pc,!1)))};let Om=aT;var Rc,Li,et,Ve,go,dh,za,dg,nn,Mc,yo,Sr,Ha,hg,Nc,ys,fg,Dc,vo,Er,hh,fh,si,Lc,pg,_w,re,NA,mg,DA,Qv,KI,QI,LA,Zv,IA,ZI,JI,eF,FA,tF,OA,nF,sF,iF,jA,Cp;const ue=class ue{constructor(e){S(this,re);S(this,Rc,null);S(this,Li,null);S(this,et,null);S(this,Ve,null);S(this,go,null);S(this,dh,!1);S(this,za,null);S(this,dg,"");S(this,nn,null);S(this,Mc,null);S(this,yo,null);S(this,Sr,null);S(this,Ha,null);S(this,hg,"");S(this,Nc,!1);S(this,ys,null);S(this,fg,!1);S(this,Dc,!1);S(this,vo,!1);S(this,Er,null);S(this,hh,0);S(this,fh,0);S(this,si,null);S(this,Lc,null);V(this,"isSelected",!1);V(this,"_isCopy",!1);V(this,"_editToolbar",null);V(this,"_initialOptions",Object.create(null));V(this,"_initialData",null);V(this,"_isVisible",!0);V(this,"_uiManager",null);V(this,"_focusEventsAllowed",!0);S(this,pg,!1);S(this,_w,ue._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null,this.creationDate=e.creationDate||new Date,this.modificationDate=e.modificationDate||null;const{rotation:t,rawDims:{pageWidth:s,pageHeight:i,pageX:r,pageY:o}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[s,i],this.pageTranslation=[r,o];const[a,c]=this.parentDimensions;this.x=e.x/a,this.y=e.y/c,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=ue.prototype._resizeWithKeyboard,t=$l.TRANSLATE_SMALL,s=$l.TRANSLATE_BIG;return fe(this,"_resizerKeyboardManager",new Vy([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-s,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[s,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-s]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,s]}],[["Escape","mac+Escape"],ue.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return fe(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new JG({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(ue._l10n??(ue._l10n=e),ue._l10nResizer||(ue._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),ue._borderLineWidth!==-1)return;const s=getComputedStyle(document.documentElement);ue._borderLineWidth=parseFloat(s.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){He("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return l(this,pg)}set _isDraggable(e){var t;w(this,pg,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=l(this,_w)}setParent(e){var t;e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):(C(this,re,Cp).call(this),(t=l(this,Sr))==null||t.remove(),w(this,Sr,null)),this.parent=e}focusin(e){this._focusEventsAllowed&&(l(this,Nc)?w(this,Nc,!1):this.parent.setSelected(this))}focusout(e){var s;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(s=this.parent)!=null&&s.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,s,i){const[r,o]=this.parentDimensions;[s,i]=this.screenToPageTranslation(s,i),this.x=(e+s)/r,this.y=(t+i)/o,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[s,i]=this.parentDimensions;this.setAt(e*s,t*i,this.width*s,this.height*i),this._onTranslated()}translate(e,t){C(this,re,NA).call(this,this.parentDimensions,e,t)}translateInPage(e,t){l(this,ys)||w(this,ys,[this.x,this.y,this.width,this.height]),C(this,re,NA).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){l(this,ys)||w(this,ys,[this.x,this.y,this.width,this.height]);const{div:s,parentDimensions:[i,r]}=this;if(this.x+=e/i,this.y+=t/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:h,y:f}=this.div.getBoundingClientRect();this.parent.findNewParent(this,h,f)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:a}=this;const[c,u]=this.getBaseTranslation();o+=c,a+=u;const{style:d}=s;d.left=`${(100*o).toFixed(2)}%`,d.top=`${(100*a).toFixed(2)}%`,this._onTranslating(o,a),s.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!l(this,ys)&&(l(this,ys)[0]!==this.x||l(this,ys)[1]!==this.y)}get _hasBeenResized(){return!!l(this,ys)&&(l(this,ys)[2]!==this.width||l(this,ys)[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:s}=ue,i=s/e,r=s/t;switch(this.rotation){case 90:return[-i,r];case 180:return[i,r];case 270:return[i,-r];default:return[-i,-r]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[s,i]}=this;let{x:r,y:o,width:a,height:c}=this;if(a*=s,c*=i,r*=s,o*=i,this._mustFixPosition)switch(e){case 0:r=Tn(r,0,s-a),o=Tn(o,0,i-c);break;case 90:r=Tn(r,0,s-c),o=Tn(o,a,i);break;case 180:r=Tn(r,a,s),o=Tn(o,c,i);break;case 270:r=Tn(r,c,s),o=Tn(o,0,i-a);break}this.x=r/=s,this.y=o/=i;const[u,d]=this.getBaseTranslation();r+=u,o+=d,t.left=`${(100*r).toFixed(2)}%`,t.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var s;return C(s=ue,mg,DA).call(s,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var s;return C(s=ue,mg,DA).call(s,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,s]}=this;return[t*e,s*e]}setDims(){const{div:{style:e},width:t,height:s}=this;e.width=`${(100*t).toFixed(2)}%`,e.height=`${(100*s).toFixed(2)}%`}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=l(this,et))==null||e.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||l(this,Dc))return this._editToolbar;this._editToolbar=new bA(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[t,s]of e)await this._editToolbar.addButton(t,s);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){var e;(e=this._editToolbar)==null||e.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){var e;(e=this._editToolbar)==null||e.removeButton("comment")}removeEditToolbar(){var e,t;(e=this._editToolbar)==null||e.remove(),this._editToolbar=null,(t=l(this,et))==null||t.destroy()}addContainer(e){var s;const t=(s=this._editToolbar)==null?void 0:s.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return l(this,et)||(pw.initialize(ue._l10n),w(this,et,new pw(this)),l(this,Rc)&&(l(this,et).data=l(this,Rc),w(this,Rc,null))),l(this,et)}get altTextData(){var e;return(e=l(this,et))==null?void 0:e.data}set altTextData(e){l(this,et)&&(l(this,et).data=e)}get guessedAltText(){var e;return(e=l(this,et))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=l(this,et))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=l(this,et))==null?void 0:t.serialize(e)}hasAltText(){return!!l(this,et)&&!l(this,et).isEmpty()}hasAltTextData(){var e;return((e=l(this,et))==null?void 0:e.hasData())??!1}focusCommentButton(){var e;(e=l(this,Ve))==null||e.focusButton()}addCommentButton(){return l(this,Ve)||w(this,Ve,new wv(this))}addStandaloneCommentButton(){if(l(this,go)){this._uiManager.isEditingMode()&&l(this,go).classList.remove("hidden");return}this.hasComment&&(w(this,go,l(this,Ve).renderForStandalone()),this.div.append(l(this,go)))}removeStandaloneCommentButton(){l(this,Ve).removeStandaloneCommentButton(),w(this,go,null)}hideStandaloneCommentButton(){var e;(e=l(this,go))==null||e.classList.add("hidden")}get comment(){const{data:{richText:e,text:t,date:s,deleted:i}}=l(this,Ve);return{text:t,richText:e,date:s,deleted:i,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(e){l(this,Ve)||w(this,Ve,new wv(this)),l(this,Ve).data=e,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:e,popupRef:t,richText:s}){if(!t||(l(this,Ve)||w(this,Ve,new wv(this)),l(this,Ve).setInitialText(e,s),!this.annotationElementId))return;const i=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);i&&this.updateFromAnnotationLayer(i)}get hasEditedComment(){var e;return(e=l(this,Ve))==null?void 0:e.hasBeenEdited()}get hasDeletedComment(){var e;return(e=l(this,Ve))==null?void 0:e.isDeleted()}get hasComment(){return!!l(this,Ve)&&!l(this,Ve).isEmpty()&&!l(this,Ve).isDeleted()}async editComment(e){l(this,Ve)||w(this,Ve,new wv(this)),l(this,Ve).edit(e)}toggleComment(e,t=void 0){this.hasComment&&this._uiManager.toggleComment(this,e,t)}setSelectedCommentButton(e){l(this,Ve).setSelectedButton(e)}addComment(e){if(this.hasEditedComment){const[,,,i]=e.rect,[r]=this.pageDimensions,[o]=this.pageTranslation,a=o+r+1,c=i-100,u=a+180;e.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[a,c,u,i]}}}updateFromAnnotationLayer({popup:{contents:e,deleted:t}}){l(this,Ve).data=t?null:e}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){var o;const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=l(this,dh)?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),C(this,re,OA).call(this);const[t,s]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*s/t).toFixed(2)}%`,e.style.maxHeight=`${(100*t/s).toFixed(2)}%`);const[i,r]=this.getInitialTranslation();return this.translate(i,r),II(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(l(this,Lc)||w(this,Lc,new Om({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:C(this,re,ZI).bind(this),onPinching:C(this,re,JI).bind(this),onPinchEnd:C(this,re,eF).bind(this),signal:this._uiManager._signal}))),this.addStandaloneCommentButton(),(o=this._uiManager._editorUndoBar)==null||o.hide(),e}pointerdown(e){const{isMac:t}=Jt.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(w(this,Nc,!0),this._isDraggable){C(this,re,tF).call(this,e);return}C(this,re,FA).call(this,e)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){l(this,Er)&&clearTimeout(l(this,Er)),w(this,Er,setTimeout(()=>{var e;w(this,Er,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,s){e.changeParent(this),this.x=t,this.y=s,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,s=this.rotation){const i=this.parentScale,[r,o]=this.pageDimensions,[a,c]=this.pageTranslation,u=e/i,d=t/i,h=this.x*r,f=this.y*o,p=this.width*r,y=this.height*o;switch(s){case 0:return[h+u+a,o-f-d-y+c,h+u+p+a,o-f-d+c];case 90:return[h+d+a,o-f+u+c,h+d+y+a,o-f+u+p+c];case 180:return[h-u-p+a,o-f+d+c,h-u+a,o-f+d+y+c];case 270:return[h-d-y+a,o-f-u-p+c,h-d+a,o-f-u+c];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[s,i,r,o]=e,a=r-s,c=o-i;switch(this.rotation){case 0:return[s,t-o,a,c];case 90:return[s,t-i,c,a];case 180:return[r,t-i,a,c];case 270:return[r,t-o,c,a];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&ue._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){var e;(e=l(this,Ve))==null||e.onUpdatedColor()}getData(){const{comment:{text:e,color:t,date:s,opacity:i,deleted:r,richText:o},uid:a,pageIndex:c,creationDate:u,modificationDate:d}=this;return{id:a,pageIndex:c,rect:this.getPDFRect(),richText:o,contentsObj:{str:e},creationDate:u,modificationDate:s||d,popupRef:!r,color:t,opacity:i}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),w(this,Dc,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),w(this,Dc,!1),!0):!1}isInEditMode(){return l(this,Dc)}shouldGetKeyboardEvents(){return l(this,vo)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:s,right:i}=this.getClientDimensions(),{innerHeight:r,innerWidth:o}=window;return t<o&&i>0&&e<r&&s>0}rebuild(){C(this,re,OA).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){var s;return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:((s=this._initialData)==null?void 0:s.popupRef)||""}}static async deserialize(e,t,s){const i=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:s,annotationElementId:e.annotationElementId,creationDate:e.creationDate,modificationDate:e.modificationDate});i.rotation=e.rotation,w(i,Rc,e.accessibilityData),i._isCopy=e.isCopy||!1;const[r,o]=i.pageDimensions,[a,c,u,d]=i.getRectInCurrentCoords(e.rect,o);return i.x=a/r,i.y=c/o,i.width=u/r,i.height=d/o,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,t;if((e=l(this,Ha))==null||e.abort(),w(this,Ha,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),l(this,Er)&&(clearTimeout(l(this,Er)),w(this,Er,null)),C(this,re,Cp).call(this),this.removeEditToolbar(),l(this,si)){for(const s of l(this,si).values())clearTimeout(s);w(this,si,null)}this.parent=null,(t=l(this,Lc))==null||t.destroy(),w(this,Lc,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(C(this,re,KI).call(this),l(this,nn).classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[e,t]}=this,[s,i,r,o]=this.getPDFRect();return[ue._round(s+(r-s)*e),ue._round(i+(o-i)*(1-t))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return l(this,Ve).commentPopupPositionInLayer}set commentPopupPosition(e){l(this,Ve).commentPopupPositionInLayer=e}hasDefaultPopupPosition(){return l(this,Ve).hasDefaultPopupPosition()}get commentButtonWidth(){return l(this,Ve).commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(e){l(this,Ve).setCommentButtonStates(e)}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),w(this,yo,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=l(this,nn).children;if(!l(this,Li)){w(this,Li,Array.from(t));const o=C(this,re,nF).bind(this),a=C(this,re,sF).bind(this),c=this._uiManager._signal;for(const u of l(this,Li)){const d=u.getAttribute("data-resizer-name");u.setAttribute("role","spinbutton"),u.addEventListener("keydown",o,{signal:c}),u.addEventListener("blur",a,{signal:c}),u.addEventListener("focus",C(this,re,iF).bind(this,d),{signal:c}),u.setAttribute("data-l10n-id",ue._l10nResizer[d])}}const s=l(this,Li)[0];let i=0;for(const o of t){if(o===s)break;i++}const r=(360-this.rotation+this.parentRotation)%360/90*(l(this,Li).length/4);if(r!==i){if(r<i)for(let a=0;a<i-r;a++)l(this,nn).append(l(this,nn).firstChild);else if(r>i)for(let a=0;a<r-i;a++)l(this,nn).firstChild.before(l(this,nn).lastChild);let o=0;for(const a of t){const u=l(this,Li)[o++].getAttribute("data-resizer-name");a.setAttribute("data-l10n-id",ue._l10nResizer[u])}}C(this,re,jA).call(this,0),w(this,vo,!0),l(this,nn).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){l(this,vo)&&C(this,re,IA).call(this,l(this,hg),{deltaX:e,deltaY:t,fromKeyboard:!0})}_stopResizingWithKeyboard(){C(this,re,Cp).call(this),this.div.focus()}select(){var e,t,s;if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var i,r;(i=this.div)!=null&&i.classList.contains("selectedEditor")&&((r=this._editToolbar)==null||r.show())});return}(t=this._editToolbar)==null||t.show(),(s=l(this,et))==null||s.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>{var e;return(e=this.div)==null?void 0:e.focus({preventScroll:!0})},0)}unselect(){var e,t,s,i,r;this.isSelected&&(this.isSelected=!1,(e=l(this,nn))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(s=this.div)!=null&&s.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=this._editToolbar)==null||i.hide(),(r=l(this,et))==null||r.toggleAltTextBadge(!0),this.hasComment&&this._uiManager.toggleComment(this,!1,!1))}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){e.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return l(this,fg)}set isEditing(e){w(this,fg,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){l(this,si)||w(this,si,new Map);const{action:s}=e;let i=l(this,si).get(s);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),l(this,si).delete(s),l(this,si).size===0&&w(this,si,null)},ue._telemetryTimeout),l(this,si).set(s,i);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),w(this,dh,!1)}disable(){this.div&&(this.div.tabIndex=-1),w(this,dh,!0)}updateFakeAnnotationElement(e){if(!l(this,Sr)&&!this.deleted){w(this,Sr,e.addFakeAnnotation(this));return}if(this.deleted){l(this,Sr).remove(),w(this,Sr,null);return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&l(this,Sr).updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const s=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),s.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};Rc=new WeakMap,Li=new WeakMap,et=new WeakMap,Ve=new WeakMap,go=new WeakMap,dh=new WeakMap,za=new WeakMap,dg=new WeakMap,nn=new WeakMap,Mc=new WeakMap,yo=new WeakMap,Sr=new WeakMap,Ha=new WeakMap,hg=new WeakMap,Nc=new WeakMap,ys=new WeakMap,fg=new WeakMap,Dc=new WeakMap,vo=new WeakMap,Er=new WeakMap,hh=new WeakMap,fh=new WeakMap,si=new WeakMap,Lc=new WeakMap,pg=new WeakMap,_w=new WeakMap,re=new WeakSet,NA=function([e,t],s,i){[s,i]=this.screenToPageTranslation(s,i),this.x+=s/e,this.y+=i/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},mg=new WeakSet,DA=function(e,t,s){switch(s){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},Qv=function(e){switch(e){case 90:{const[t,s]=this.pageDimensions;return[0,-t/s,s/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,s]=this.pageDimensions;return[0,t/s,-s/t,0]}default:return[1,0,0,1]}},KI=function(){if(l(this,nn))return;w(this,nn,document.createElement("div")),l(this,nn).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const s of e){const i=document.createElement("div");l(this,nn).append(i),i.classList.add("resizer",s),i.setAttribute("data-resizer-name",s),i.addEventListener("pointerdown",C(this,re,QI).bind(this,s),{signal:t}),i.addEventListener("contextmenu",zs,{signal:t}),i.tabIndex=-1}this.div.prepend(l(this,nn))},QI=function(e,t){var d;t.preventDefault();const{isMac:s}=Jt.platform;if(t.button!==0||t.ctrlKey&&s)return;(d=l(this,et))==null||d.toggle(!1);const i=this._isDraggable;this._isDraggable=!1,w(this,Mc,[t.screenX,t.screenY]);const r=new AbortController,o=this._uiManager.combinedSignal(r);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",C(this,re,IA).bind(this,e),{passive:!0,capture:!0,signal:o}),window.addEventListener("touchmove",ct,{passive:!1,signal:o}),window.addEventListener("contextmenu",zs,{signal:o}),w(this,yo,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const a=this.parent.div.style.cursor,c=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const u=()=>{var h;r.abort(),this.parent.togglePointerEvents(!0),(h=l(this,et))==null||h.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=a,this.div.style.cursor=c,C(this,re,Zv).call(this)};window.addEventListener("pointerup",u,{signal:o}),window.addEventListener("blur",u,{signal:o})},LA=function(e,t,s,i){this.width=s,this.height=i,this.x=e,this.y=t,this.setDims(),this.fixAndSetPosition(),this._onResized()},Zv=function(){if(!l(this,yo))return;const{savedX:e,savedY:t,savedWidth:s,savedHeight:i}=l(this,yo);w(this,yo,null);const r=this.x,o=this.y,a=this.width,c=this.height;r===e&&o===t&&a===s&&c===i||this.addCommands({cmd:C(this,re,LA).bind(this,r,o,a,c),undo:C(this,re,LA).bind(this,e,t,s,i),mustExec:!0})},IA=function(e,t){const[s,i]=this.parentDimensions,r=this.x,o=this.y,a=this.width,c=this.height,u=ue.MIN_SIZE/s,d=ue.MIN_SIZE/i,h=C(this,re,Qv).call(this,this.rotation),f=(B,j)=>[h[0]*B+h[2]*j,h[1]*B+h[3]*j],p=C(this,re,Qv).call(this,360-this.rotation),y=(B,j)=>[p[0]*B+p[2]*j,p[1]*B+p[3]*j];let m,b,g=!1,v=!1;switch(e){case"topLeft":g=!0,m=(B,j)=>[0,0],b=(B,j)=>[B,j];break;case"topMiddle":m=(B,j)=>[B/2,0],b=(B,j)=>[B/2,j];break;case"topRight":g=!0,m=(B,j)=>[B,0],b=(B,j)=>[0,j];break;case"middleRight":v=!0,m=(B,j)=>[B,j/2],b=(B,j)=>[0,j/2];break;case"bottomRight":g=!0,m=(B,j)=>[B,j],b=(B,j)=>[0,0];break;case"bottomMiddle":m=(B,j)=>[B/2,j],b=(B,j)=>[B/2,0];break;case"bottomLeft":g=!0,m=(B,j)=>[0,j],b=(B,j)=>[B,0];break;case"middleLeft":v=!0,m=(B,j)=>[0,j/2],b=(B,j)=>[B,j/2];break}const A=m(a,c),E=b(a,c);let T=f(...E);const k=ue._round(r+T[0]),_=ue._round(o+T[1]);let R=1,M=1,N,L;if(t.fromKeyboard)({deltaX:N,deltaY:L}=t);else{const{screenX:B,screenY:j}=t,[D,F]=l(this,Mc);[N,L]=this.screenToPageTranslation(B-D,j-F),l(this,Mc)[0]=B,l(this,Mc)[1]=j}if([N,L]=y(N/s,L/i),g){const B=Math.hypot(a,c);R=M=Math.max(Math.min(Math.hypot(E[0]-A[0]-N,E[1]-A[1]-L)/B,1/a,1/c),u/a,d/c)}else v?R=Tn(Math.abs(E[0]-A[0]-N),u,1)/a:M=Tn(Math.abs(E[1]-A[1]-L),d,1)/c;const O=ue._round(a*R),U=ue._round(c*M);T=f(...b(O,U));const I=k-T[0],W=_-T[1];l(this,ys)||w(this,ys,[this.x,this.y,this.width,this.height]),this.width=O,this.height=U,this.x=I,this.y=W,this.setDims(),this.fixAndSetPosition(),this._onResizing()},ZI=function(){var e;w(this,yo,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=l(this,et))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},JI=function(e,t,s){let r=.7*(s/t)+1-.7;if(r===1)return;const o=C(this,re,Qv).call(this,this.rotation),a=(k,_)=>[o[0]*k+o[2]*_,o[1]*k+o[3]*_],[c,u]=this.parentDimensions,d=this.x,h=this.y,f=this.width,p=this.height,y=ue.MIN_SIZE/c,m=ue.MIN_SIZE/u;r=Math.max(Math.min(r,1/f,1/p),y/f,m/p);const b=ue._round(f*r),g=ue._round(p*r);if(b===f&&g===p)return;l(this,ys)||w(this,ys,[d,h,f,p]);const v=a(f/2,p/2),A=ue._round(d+v[0]),E=ue._round(h+v[1]),T=a(b/2,g/2);this.x=A-T[0],this.y=E-T[1],this.width=b,this.height=g,this.setDims(),this.fixAndSetPosition(),this._onResizing()},eF=function(){var e;(e=l(this,et))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),C(this,re,Zv).call(this)},FA=function(e){const{isMac:t}=Jt.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},tF=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let s=!1;const i=new AbortController,r=this._uiManager.combinedSignal(i),o={capture:!0,passive:!1,signal:r},a=u=>{i.abort(),w(this,za,null),w(this,Nc,!1),this._uiManager.endDragSession()||C(this,re,FA).call(this,u),s&&this._onStopDragging()};t&&(w(this,hh,e.clientX),w(this,fh,e.clientY),w(this,za,e.pointerId),w(this,dg,e.pointerType),window.addEventListener("pointermove",u=>{s||(s=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:d,clientY:h,pointerId:f}=u;if(f!==l(this,za)){ct(u);return}const[p,y]=this.screenToPageTranslation(d-l(this,hh),h-l(this,fh));w(this,hh,d),w(this,fh,h),this._uiManager.dragSelectedEditors(p,y)},o),window.addEventListener("touchmove",ct,o),window.addEventListener("pointerdown",u=>{u.pointerType===l(this,dg)&&(l(this,Lc)||u.isPrimary)&&a(u),ct(u)},o));const c=u=>{if(!l(this,za)||l(this,za)===u.pointerId){a(u);return}ct(u)};window.addEventListener("pointerup",c,{signal:r}),window.addEventListener("blur",c,{signal:r})},OA=function(){if(l(this,Ha)||!this.div)return;w(this,Ha,new AbortController);const e=this._uiManager.combinedSignal(l(this,Ha));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},nF=function(e){ue._resizerKeyboardManager.exec(this,e)},sF=function(e){var t;l(this,vo)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==l(this,nn)&&C(this,re,Cp).call(this)},iF=function(e){w(this,hg,l(this,vo)?e:"")},jA=function(e){if(l(this,Li))for(const t of l(this,Li))t.tabIndex=e},Cp=function(){w(this,vo,!1),C(this,re,jA).call(this,-1),C(this,re,Zv).call(this)},S(ue,mg),V(ue,"_l10n",null),V(ue,"_l10nResizer",null),V(ue,"_borderLineWidth",-1),V(ue,"_colorManager",new EA),V(ue,"_zIndex",1),V(ue,"_telemetryTimeout",1e3);let qe=ue;class JG extends qe{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const N_=3285377520,Gs=4294901760,cr=65535;class rF{constructor(e){this.h1=e?e&4294967295:N_,this.h2=e?e&4294967295:N_}update(e){let t,s;if(typeof e=="string"){t=new Uint8Array(e.length*2),s=0;for(let m=0,b=e.length;m<b;m++){const g=e.charCodeAt(m);g<=255?t[s++]=g:(t[s++]=g>>>8,t[s++]=g&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),s=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=s>>2,r=s-i*4,o=new Uint32Array(t.buffer,0,i);let a=0,c=0,u=this.h1,d=this.h2;const h=3432918353,f=461845907,p=h&cr,y=f&cr;for(let m=0;m<i;m++)m&1?(a=o[m],a=a*h&Gs|a*p&cr,a=a<<15|a>>>17,a=a*f&Gs|a*y&cr,u^=a,u=u<<13|u>>>19,u=u*5+3864292196):(c=o[m],c=c*h&Gs|c*p&cr,c=c<<15|c>>>17,c=c*f&Gs|c*y&cr,d^=c,d=d<<13|d>>>19,d=d*5+3864292196);switch(a=0,r){case 3:a^=t[i*4+2]<<16;case 2:a^=t[i*4+1]<<8;case 1:a^=t[i*4],a=a*h&Gs|a*p&cr,a=a<<15|a>>>17,a=a*f&Gs|a*y&cr,i&1?u^=a:d^=a}this.h1=u,this.h2=d}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&Gs|e*36045&cr,t=t*4283543511&Gs|((t<<16|e>>>16)*2950163797&Gs)>>>16,e^=t>>>1,e=e*444984403&Gs|e*60499&cr,t=t*3301882366&Gs|((t<<16|e>>>16)*3120437893&Gs)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const BA=Object.freeze({map:null,hash:"",transfer:void 0});var Ic,Fc,wo,sn,Rw,oF;class KC{constructor(){S(this,Rw);S(this,Ic,!1);S(this,Fc,null);S(this,wo,null);S(this,sn,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const s=l(this,sn).get(e);return s===void 0?t:Object.assign(t,s)}getRawValue(e){return l(this,sn).get(e)}remove(e){const t=l(this,sn).get(e);if(t!==void 0&&(t instanceof qe&&l(this,wo).delete(t.annotationElementId),l(this,sn).delete(e),l(this,sn).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const s of l(this,sn).values())if(s instanceof qe)return;this.onAnnotationEditor(null)}}setValue(e,t){const s=l(this,sn).get(e);let i=!1;if(s!==void 0)for(const[r,o]of Object.entries(t))s[r]!==o&&(i=!0,s[r]=o);else i=!0,l(this,sn).set(e,t);i&&C(this,Rw,oF).call(this),t instanceof qe&&((l(this,wo)||w(this,wo,new Map)).set(t.annotationElementId,t),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type))}has(e){return l(this,sn).has(e)}get size(){return l(this,sn).size}resetModified(){l(this,Ic)&&(w(this,Ic,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new aF(this)}get serializable(){if(l(this,sn).size===0)return BA;const e=new Map,t=new rF,s=[],i=Object.create(null);let r=!1;for(const[o,a]of l(this,sn)){const c=a instanceof qe?a.serialize(!1,i):a;c&&(e.set(o,c),t.update(`${o}:${JSON.stringify(c)}`),r||(r=!!c.bitmap))}if(r)for(const o of e.values())o.bitmap&&s.push(o.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:s}:BA}get editorStats(){let e=null;const t=new Map;let s=0,i=0;for(const r of l(this,sn).values()){if(!(r instanceof qe)){r.popup&&(r.popup.deleted?i+=1:s+=1);continue}r.isCommentDeleted?i+=1:r.hasEditedComment&&(s+=1);const o=r.telemetryFinalData;if(!o)continue;const{type:a}=o;t.has(a)||t.set(a,Object.getPrototypeOf(r).constructor),e||(e=Object.create(null));const c=e[a]||(e[a]=new Map);for(const[u,d]of Object.entries(o)){if(u==="type")continue;let h=c.get(u);h||(h=new Map,c.set(u,h));const f=h.get(d)??0;h.set(d,f+1)}}if((i>0||s>0)&&(e||(e=Object.create(null)),e.comments={deleted:i,edited:s}),!e)return null;for(const[r,o]of t)e[r]=o.computeTelemetryFinalData(e[r]);return e}resetModifiedIds(){w(this,Fc,null)}updateEditor(e,t){var i;const s=(i=l(this,wo))==null?void 0:i.get(e);return s?(s.updateFromAnnotationLayer(t),!0):!1}getEditor(e){var t;return((t=l(this,wo))==null?void 0:t.get(e))||null}get modifiedIds(){if(l(this,Fc))return l(this,Fc);const e=[];if(l(this,wo))for(const t of l(this,wo).values())t.serialize()&&e.push(t.annotationElementId);return w(this,Fc,{ids:new Set(e),hash:e.join(",")})}[Symbol.iterator](){return l(this,sn).entries()}}Ic=new WeakMap,Fc=new WeakMap,wo=new WeakMap,sn=new WeakMap,Rw=new WeakSet,oF=function(){l(this,Ic)||(w(this,Ic,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var gg;class aF extends KC{constructor(t){super();S(this,gg);const{map:s,hash:i,transfer:r}=t.serializable,o=structuredClone(s,r?{transfer:r}:null);w(this,gg,{map:o,hash:i,transfer:r})}get print(){He("Should not call PrintAnnotationStorage.print")}get serializable(){return l(this,gg)}get modifiedIds(){return fe(this,"modifiedIds",{ids:new Set,hash:""})}}gg=new WeakMap;var ph;class e7{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){S(this,ph,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),l(this,ph).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:t,_inspectFont:s}){if(!(!e||l(this,ph).has(e.loadedName))){if(Ae(!t,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:r,style:o}=e,a=new FontFace(i,r,o);this.addNativeFontFace(a);try{await a.load(),l(this,ph).add(i),s==null||s(e)}catch{le(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(a)}return}He("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const s=e.createNativeFontFace();if(s){this.addNativeFontFace(s);try{await s.loaded}catch(i){throw le(`Failed to load font '${s.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(s=>{const i=this._queueLoadingCallback(s);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return fe(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return fe(this,"isSyncFontLoadingSupported",Vn||Jt.platform.isFirefox)}_queueLoadingCallback(e){function t(){for(Ae(!i.done,"completeRequest() cannot be called twice."),i.done=!0;s.length>0&&s[0].done;){const r=s.shift();setTimeout(r.callback,0)}}const{loadingRequests:s}=this,i={done:!1,complete:t,callback:e};return s.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return fe(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function s(E,T){return E.charCodeAt(T)<<24|E.charCodeAt(T+1)<<16|E.charCodeAt(T+2)<<8|E.charCodeAt(T+3)&255}function i(E,T,k,_){const R=E.substring(0,T),M=E.substring(T+k);return R+_+M}let r,o;const a=this._document.createElement("canvas");a.width=1,a.height=1;const c=a.getContext("2d");let u=0;function d(E,T){if(++u>30){le("Load test font never loaded."),T();return}if(c.font="30px "+E,c.fillText(".",0,20),c.getImageData(0,0,1,1).data[3]>0){T();return}setTimeout(d.bind(null,E,T))}const h=`lt${Date.now()}${this.loadTestFontId++}`;let f=this._loadTestFont;f=i(f,976,h.length,h);const y=16,m=1482184792;let b=s(f,y);for(r=0,o=h.length-3;r<o;r+=4)b=b-m+s(h,r)|0;r<h.length&&(b=b-m+s(h+"XXX",r)|0),f=i(f,y,4,$G(b));const g=`url(data:font/opentype;base64,${btoa(f)});`,v=`@font-face {font-family:"${h}";src:${g}}`;this.insertRule(v);const A=this._document.createElement("div");A.style.visibility="hidden",A.style.width=A.style.height="10px",A.style.position="absolute",A.style.top=A.style.left="0px";for(const E of[e.loadedName,h]){const T=this._document.createElement("span");T.textContent="Hi",T.style.fontFamily=E,A.append(T)}this._document.body.append(A),d(h,()=>{A.remove(),t.complete()})}}ph=new WeakMap;var Ie;class t7{constructor(e,t=null,s,i){S(this,Ie);this.compiledGlyphs=Object.create(null),w(this,Ie,e),this._inspectFont=t,s&&Object.assign(this,s),i&&(this.charProcOperatorList=i)}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const s={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(s.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,s)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var s;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${SI(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${e}}`}return(s=this._inspectFont)==null||s.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const s=this.loadedName+"_path_"+t;let i;try{i=e.get(s)}catch(o){le(`getPathGenerator - ignoring character: "${o}".`)}const r=new Path2D(i||"");return this.fontExtraProperties||e.delete(s),this.compiledGlyphs[t]=r}get black(){return l(this,Ie).black}get bold(){return l(this,Ie).bold}get disableFontFace(){return l(this,Ie).disableFontFace??!1}get fontExtraProperties(){return l(this,Ie).fontExtraProperties??!1}get isInvalidPDFjsFont(){return l(this,Ie).isInvalidPDFjsFont}get isType3Font(){return l(this,Ie).isType3Font}get italic(){return l(this,Ie).italic}get missingFile(){return l(this,Ie).missingFile}get remeasure(){return l(this,Ie).remeasure}get vertical(){return l(this,Ie).vertical}get ascent(){return l(this,Ie).ascent}get defaultWidth(){return l(this,Ie).defaultWidth}get descent(){return l(this,Ie).descent}get bbox(){return l(this,Ie).bbox}get fontMatrix(){return l(this,Ie).fontMatrix}get fallbackName(){return l(this,Ie).fallbackName}get loadedName(){return l(this,Ie).loadedName}get mimetype(){return l(this,Ie).mimetype}get name(){return l(this,Ie).name}get data(){return l(this,Ie).data}clearData(){l(this,Ie).clearData()}get cssFontInfo(){return l(this,Ie).cssFontInfo}get systemFontInfo(){return l(this,Ie).systemFontInfo}get defaultVMetrics(){return l(this,Ie).defaultVMetrics}}Ie=new WeakMap;function n7(n){if(n instanceof URL)return n.href;if(typeof n=="string"){if(Vn)return n;const e=URL.parse(n,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function s7(n){if(Vn&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return Oy(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function xv(n){if(typeof n!="string")return null;if(n.endsWith("/"))return n;throw new Error(`Invalid factory url: "${n}" must include trailing slash.`)}const VA=n=>typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0,i7=n=>typeof n=="object"&&typeof(n==null?void 0:n.name)=="string",lF=WG.bind(null,VA,i7);var xo,Mw;class r7{constructor(){S(this,xo,new Map);S(this,Mw,Promise.resolve())}postMessage(e,t){const s={data:structuredClone(e,t?{transfer:t}:null)};l(this,Mw).then(()=>{for(const[i]of l(this,xo))i.call(this,s)})}addEventListener(e,t,s=null){let i=null;if((s==null?void 0:s.signal)instanceof AbortSignal){const{signal:r}=s;if(r.aborted){le("LoopbackPort - cannot use an `aborted` signal.");return}const o=()=>this.removeEventListener(e,t);i=()=>r.removeEventListener("abort",o),r.addEventListener("abort",o)}l(this,xo).set(t,i)}removeEventListener(e,t){const s=l(this,xo).get(t);s==null||s(),l(this,xo).delete(t)}terminate(){for(const[,e]of l(this,xo))e==null||e();l(this,xo).clear()}}xo=new WeakMap,Mw=new WeakMap;const bv={DATA:1,ERROR:2},Rt={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function D_(){}function Kn(n){if(n instanceof na||n instanceof hw||n instanceof C_||n instanceof Lm||n instanceof Ib)return n;switch(n instanceof Error||typeof n=="object"&&n!==null||He('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new na(n.message);case"InvalidPDFException":return new hw(n.message);case"PasswordException":return new C_(n.message,n.code);case"ResponseException":return new Lm(n.message,n.status,n.missing);case"UnknownErrorException":return new Ib(n.message,n.details)}return new Ib(n.message,n.toString())}var mh,mi,cF,uF,dF,Jv;class Tp{constructor(e,t,s){S(this,mi);S(this,mh,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=s,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),s.addEventListener("message",C(this,mi,cF).bind(this),{signal:l(this,mh).signal})}on(e,t){const s=this.actionHandler;if(s[e])throw new Error(`There is already an actionName called "${e}"`);s[e]=t}send(e,t,s){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},s)}sendWithPromise(e,t,s){const i=this.callbackId++,r=Promise.withResolvers();this.callbackCapabilities[i]=r;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},s)}catch(o){r.reject(o)}return r.promise}sendWithStream(e,t,s,i){const r=this.streamId++,o=this.sourceName,a=this.targetName,c=this.comObj;return new ReadableStream({start:u=>{const d=Promise.withResolvers();return this.streamControllers[r]={controller:u,startCall:d,pullCall:null,cancelCall:null,isClosed:!1},c.postMessage({sourceName:o,targetName:a,action:e,streamId:r,data:t,desiredSize:u.desiredSize},i),d.promise},pull:u=>{const d=Promise.withResolvers();return this.streamControllers[r].pullCall=d,c.postMessage({sourceName:o,targetName:a,stream:Rt.PULL,streamId:r,desiredSize:u.desiredSize}),d.promise},cancel:u=>{Ae(u instanceof Error,"cancel must have a valid reason");const d=Promise.withResolvers();return this.streamControllers[r].cancelCall=d,this.streamControllers[r].isClosed=!0,c.postMessage({sourceName:o,targetName:a,stream:Rt.CANCEL,streamId:r,reason:Kn(u)}),d.promise}},s)}destroy(){var e;(e=l(this,mh))==null||e.abort(),w(this,mh,null)}}mh=new WeakMap,mi=new WeakSet,cF=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){C(this,mi,dF).call(this,e);return}if(e.callback){const s=e.callbackId,i=this.callbackCapabilities[s];if(!i)throw new Error(`Cannot resolve callback ${s}`);if(delete this.callbackCapabilities[s],e.callback===bv.DATA)i.resolve(e.data);else if(e.callback===bv.ERROR)i.reject(Kn(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const s=this.sourceName,i=e.sourceName,r=this.comObj;Promise.try(t,e.data).then(function(o){r.postMessage({sourceName:s,targetName:i,callback:bv.DATA,callbackId:e.callbackId,data:o})},function(o){r.postMessage({sourceName:s,targetName:i,callback:bv.ERROR,callbackId:e.callbackId,reason:Kn(o)})});return}if(e.streamId){C(this,mi,uF).call(this,e);return}t(e.data)},uF=function(e){const t=e.streamId,s=this.sourceName,i=e.sourceName,r=this.comObj,o=this,a=this.actionHandler[e.action],c={enqueue(u,d=1,h){if(this.isCancelled)return;const f=this.desiredSize;this.desiredSize-=d,f>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),r.postMessage({sourceName:s,targetName:i,stream:Rt.ENQUEUE,streamId:t,chunk:u},h)},close(){this.isCancelled||(this.isCancelled=!0,r.postMessage({sourceName:s,targetName:i,stream:Rt.CLOSE,streamId:t}),delete o.streamSinks[t])},error(u){Ae(u instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,r.postMessage({sourceName:s,targetName:i,stream:Rt.ERROR,streamId:t,reason:Kn(u)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};c.sinkCapability.resolve(),c.ready=c.sinkCapability.promise,this.streamSinks[t]=c,Promise.try(a,e.data,c).then(function(){r.postMessage({sourceName:s,targetName:i,stream:Rt.START_COMPLETE,streamId:t,success:!0})},function(u){r.postMessage({sourceName:s,targetName:i,stream:Rt.START_COMPLETE,streamId:t,reason:Kn(u)})})},dF=function(e){const t=e.streamId,s=this.sourceName,i=e.sourceName,r=this.comObj,o=this.streamControllers[t],a=this.streamSinks[t];switch(e.stream){case Rt.START_COMPLETE:e.success?o.startCall.resolve():o.startCall.reject(Kn(e.reason));break;case Rt.PULL_COMPLETE:e.success?o.pullCall.resolve():o.pullCall.reject(Kn(e.reason));break;case Rt.PULL:if(!a){r.postMessage({sourceName:s,targetName:i,stream:Rt.PULL_COMPLETE,streamId:t,success:!0});break}a.desiredSize<=0&&e.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=e.desiredSize,Promise.try(a.onPull||D_).then(function(){r.postMessage({sourceName:s,targetName:i,stream:Rt.PULL_COMPLETE,streamId:t,success:!0})},function(u){r.postMessage({sourceName:s,targetName:i,stream:Rt.PULL_COMPLETE,streamId:t,reason:Kn(u)})});break;case Rt.ENQUEUE:if(Ae(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(e.chunk);break;case Rt.CLOSE:if(Ae(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),C(this,mi,Jv).call(this,o,t);break;case Rt.ERROR:Ae(o,"error should have stream controller"),o.controller.error(Kn(e.reason)),C(this,mi,Jv).call(this,o,t);break;case Rt.CANCEL_COMPLETE:e.success?o.cancelCall.resolve():o.cancelCall.reject(Kn(e.reason)),C(this,mi,Jv).call(this,o,t);break;case Rt.CANCEL:if(!a)break;const c=Kn(e.reason);Promise.try(a.onCancel||D_,c).then(function(){r.postMessage({sourceName:s,targetName:i,stream:Rt.CANCEL_COMPLETE,streamId:t,success:!0})},function(u){r.postMessage({sourceName:s,targetName:i,stream:Rt.CANCEL_COMPLETE,streamId:t,reason:Kn(u)})}),a.sinkCapability.reject(c),a.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},Jv=async function(e,t){var s,i,r;await Promise.allSettled([(s=e.startCall)==null?void 0:s.promise,(i=e.pullCall)==null?void 0:i.promise,(r=e.cancelCall)==null?void 0:r.promise]),delete this.streamControllers[t]};var yg;class hF{constructor({enableHWA:e=!1}){S(this,yg,!1);w(this,yg,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const s=this._createCanvas(e,t);return{canvas:s,context:s.getContext("2d",{willReadFrequently:!l(this,yg)})}}reset(e,t,s){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||s<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=s}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){He("Abstract method `_createCanvas` called.")}}yg=new WeakMap;class o7 extends hF{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const s=this._document.createElement("canvas");return s.width=e,s.height=t,s}}class fF{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(s=>({cMapData:s,isCompressed:this.isCompressed})).catch(s=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){He("Abstract method `_fetch` called.")}}class L_ extends fF{async _fetch(e){const t=await Kf(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):Oy(t)}}class pF{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,s,i,r){return"none"}destroy(e=!1){}}var Oc,gh,bo,Ao,An,jc,Bc,Y,vn,Pp,ed,e0,td,mF,$A,nd,kp,_p,UA,Rp;class a7 extends pF{constructor({docId:t,ownerDocument:s=globalThis.document}){super();S(this,Y);S(this,Oc);S(this,gh);S(this,bo);S(this,Ao);S(this,An);S(this,jc);S(this,Bc,0);w(this,Ao,t),w(this,An,s)}addFilter(t){if(!t)return"none";let s=l(this,Y,vn).get(t);if(s)return s;const[i,r,o]=C(this,Y,e0).call(this,t),a=t.length===1?i:`${i}${r}${o}`;if(s=l(this,Y,vn).get(a),s)return l(this,Y,vn).set(t,s),s;const c=`g_${l(this,Ao)}_transfer_map_${gt(this,Bc)._++}`,u=C(this,Y,td).call(this,c);l(this,Y,vn).set(t,u),l(this,Y,vn).set(a,u);const d=C(this,Y,nd).call(this,c);return C(this,Y,_p).call(this,i,r,o,d),u}addHCMFilter(t,s){var y;const i=`${t}-${s}`,r="base";let o=l(this,Y,Pp).get(r);if((o==null?void 0:o.key)===i||(o?((y=o.filter)==null||y.remove(),o.key=i,o.url="none",o.filter=null):(o={key:i,url:"none",filter:null},l(this,Y,Pp).set(r,o)),!t||!s))return o.url;const a=C(this,Y,Rp).call(this,t);t=Q.makeHexColor(...a);const c=C(this,Y,Rp).call(this,s);if(s=Q.makeHexColor(...c),l(this,Y,ed).style.color="",t==="#000000"&&s==="#ffffff"||t===s)return o.url;const u=new Array(256);for(let m=0;m<=255;m++){const b=m/255;u[m]=b<=.03928?b/12.92:((b+.055)/1.055)**2.4}const d=u.join(","),h=`g_${l(this,Ao)}_hcm_filter`,f=o.filter=C(this,Y,nd).call(this,h);C(this,Y,_p).call(this,d,d,d,f),C(this,Y,$A).call(this,f);const p=(m,b)=>{const g=a[m]/255,v=c[m]/255,A=new Array(b+1);for(let E=0;E<=b;E++)A[E]=g+E/b*(v-g);return A.join(",")};return C(this,Y,_p).call(this,p(0,5),p(1,5),p(2,5),f),o.url=C(this,Y,td).call(this,h),o.url}addAlphaFilter(t){let s=l(this,Y,vn).get(t);if(s)return s;const[i]=C(this,Y,e0).call(this,[t]),r=`alpha_${i}`;if(s=l(this,Y,vn).get(r),s)return l(this,Y,vn).set(t,s),s;const o=`g_${l(this,Ao)}_alpha_map_${gt(this,Bc)._++}`,a=C(this,Y,td).call(this,o);l(this,Y,vn).set(t,a),l(this,Y,vn).set(r,a);const c=C(this,Y,nd).call(this,o);return C(this,Y,UA).call(this,i,c),a}addLuminosityFilter(t){let s=l(this,Y,vn).get(t||"luminosity");if(s)return s;let i,r;if(t?([i]=C(this,Y,e0).call(this,[t]),r=`luminosity_${i}`):r="luminosity",s=l(this,Y,vn).get(r),s)return l(this,Y,vn).set(t,s),s;const o=`g_${l(this,Ao)}_luminosity_map_${gt(this,Bc)._++}`,a=C(this,Y,td).call(this,o);l(this,Y,vn).set(t,a),l(this,Y,vn).set(r,a);const c=C(this,Y,nd).call(this,o);return C(this,Y,mF).call(this,c),t&&C(this,Y,UA).call(this,i,c),a}addHighlightHCMFilter(t,s,i,r,o){var v;const a=`${s}-${i}-${r}-${o}`;let c=l(this,Y,Pp).get(t);if((c==null?void 0:c.key)===a||(c?((v=c.filter)==null||v.remove(),c.key=a,c.url="none",c.filter=null):(c={key:a,url:"none",filter:null},l(this,Y,Pp).set(t,c)),!s||!i))return c.url;const[u,d]=[s,i].map(C(this,Y,Rp).bind(this));let h=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),f=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),[p,y]=[r,o].map(C(this,Y,Rp).bind(this));f<h&&([h,f,p,y]=[f,h,y,p]),l(this,Y,ed).style.color="";const m=(A,E,T)=>{const k=new Array(256),_=(f-h)/T,R=A/255,M=(E-A)/(255*T);let N=0;for(let L=0;L<=T;L++){const O=Math.round(h+L*_),U=R+L*M;for(let I=N;I<=O;I++)k[I]=U;N=O+1}for(let L=N;L<256;L++)k[L]=k[N-1];return k.join(",")},b=`g_${l(this,Ao)}_hcm_${t}_filter`,g=c.filter=C(this,Y,nd).call(this,b);return C(this,Y,$A).call(this,g),C(this,Y,_p).call(this,m(p[0],y[0],5),m(p[1],y[1],5),m(p[2],y[2],5),g),c.url=C(this,Y,td).call(this,b),c.url}destroy(t=!1){var s,i,r,o;t&&((s=l(this,jc))!=null&&s.size)||((i=l(this,bo))==null||i.parentNode.parentNode.remove(),w(this,bo,null),(r=l(this,gh))==null||r.clear(),w(this,gh,null),(o=l(this,jc))==null||o.clear(),w(this,jc,null),w(this,Bc,0))}}Oc=new WeakMap,gh=new WeakMap,bo=new WeakMap,Ao=new WeakMap,An=new WeakMap,jc=new WeakMap,Bc=new WeakMap,Y=new WeakSet,vn=function(){return l(this,gh)||w(this,gh,new Map)},Pp=function(){return l(this,jc)||w(this,jc,new Map)},ed=function(){if(!l(this,bo)){const t=l(this,An).createElement("div"),{style:s}=t;s.visibility="hidden",s.contain="strict",s.width=s.height=0,s.position="absolute",s.top=s.left=0,s.zIndex=-1;const i=l(this,An).createElementNS(eo,"svg");i.setAttribute("width",0),i.setAttribute("height",0),w(this,bo,l(this,An).createElementNS(eo,"defs")),t.append(i),i.append(l(this,bo)),l(this,An).body.append(t)}return l(this,bo)},e0=function(t){if(t.length===1){const u=t[0],d=new Array(256);for(let f=0;f<256;f++)d[f]=u[f]/255;const h=d.join(",");return[h,h,h]}const[s,i,r]=t,o=new Array(256),a=new Array(256),c=new Array(256);for(let u=0;u<256;u++)o[u]=s[u]/255,a[u]=i[u]/255,c[u]=r[u]/255;return[o.join(","),a.join(","),c.join(",")]},td=function(t){if(l(this,Oc)===void 0){w(this,Oc,"");const s=l(this,An).URL;s!==l(this,An).baseURI&&(By(s)?le('#createUrl: ignore "data:"-URL for performance reasons.'):w(this,Oc,WC(s,"")))}return`url(${l(this,Oc)}#${t})`},mF=function(t){const s=l(this,An).createElementNS(eo,"feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(s)},$A=function(t){const s=l(this,An).createElementNS(eo,"feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(s)},nd=function(t){const s=l(this,An).createElementNS(eo,"filter");return s.setAttribute("color-interpolation-filters","sRGB"),s.setAttribute("id",t),l(this,Y,ed).append(s),s},kp=function(t,s,i){const r=l(this,An).createElementNS(eo,s);r.setAttribute("type","discrete"),r.setAttribute("tableValues",i),t.append(r)},_p=function(t,s,i,r){const o=l(this,An).createElementNS(eo,"feComponentTransfer");r.append(o),C(this,Y,kp).call(this,o,"feFuncR",t),C(this,Y,kp).call(this,o,"feFuncG",s),C(this,Y,kp).call(this,o,"feFuncB",i)},UA=function(t,s){const i=l(this,An).createElementNS(eo,"feComponentTransfer");s.append(i),C(this,Y,kp).call(this,i,"feFuncA",t)},Rp=function(t){return l(this,Y,ed).style.color=t,Qf(getComputedStyle(l(this,Y,ed)).getPropertyValue("color"))};class gF{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(s=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){He("Abstract method `_fetch` called.")}}class I_ extends gF{async _fetch(e){const t=await Kf(e,"arraybuffer");return new Uint8Array(t)}}class yF{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(s=>{throw new Error(`Unable to load wasm data at: ${t}`)})}async _fetch(e){He("Abstract method `_fetch` called.")}}class F_ extends yF{async _fetch(e){const t=await Kf(e,"arraybuffer");return new Uint8Array(t)}}Vn&&le("Please use the `legacy` build in Node.js environments.");async function QC(n){const t=await process.getBuiltinModule("fs").promises.readFile(n);return new Uint8Array(t)}class l7 extends pF{}class c7 extends hF{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class u7 extends fF{async _fetch(e){return QC(e)}}class d7 extends gF{async _fetch(e){return QC(e)}}class h7 extends yF{async _fetch(e){return QC(e)}}const Qu="__forcedDependency",{floor:O_,ceil:j_}=Math;function Av(n,e,t,s,i,r){n[e*4+0]=Math.min(n[e*4+0],t),n[e*4+1]=Math.min(n[e*4+1],s),n[e*4+2]=Math.max(n[e*4+2],i),n[e*4+3]=Math.max(n[e*4+3],r)}const zA=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];var yh,Wa;class f7{constructor(e,t){S(this,yh);S(this,Wa);w(this,yh,e),w(this,Wa,t)}get length(){return l(this,yh).length}isEmpty(e){return l(this,yh)[e]===zA}minX(e){return l(this,Wa)[e*4+0]/256}minY(e){return l(this,Wa)[e*4+1]/256}maxX(e){return(l(this,Wa)[e*4+2]+1)/256}maxY(e){return(l(this,Wa)[e*4+3]+1)/256}}yh=new WeakMap,Wa=new WeakMap;const Sv=(n,e)=>{if(!n)return;let t=n.get(e);return t||(t={dependencies:new Set,isRenderingOperation:!1},n.set(e,t)),t};var Jn,es,Vc,Ii,$c,So,Ne,Fe,Eo,ts,vg,vh,Uc,zc,Co,Sn,Cr,wg,HA;class p7{constructor(e,t,s=!1){S(this,wg);S(this,Jn,{__proto__:null});S(this,es,{__proto__:null,transform:[],moveText:[],sameLineText:[],[Qu]:[]});S(this,Vc,new Map);S(this,Ii,[]);S(this,$c,[]);S(this,So,[[1,0,0,1,0,0]]);S(this,Ne,[-1/0,-1/0,1/0,1/0]);S(this,Fe,new Float64Array([1/0,1/0,-1/0,-1/0]));S(this,Eo,-1);S(this,ts,new Set);S(this,vg,new Map);S(this,vh,new Map);S(this,Uc);S(this,zc);S(this,Co);S(this,Sn);S(this,Cr);w(this,Uc,e.width),w(this,zc,e.height),C(this,wg,HA).call(this,t),s&&w(this,Cr,new Map)}growOperationsCount(e){e>=l(this,Sn).length&&C(this,wg,HA).call(this,e,l(this,Sn))}save(e){return w(this,Jn,{__proto__:l(this,Jn)}),w(this,es,{__proto__:l(this,es),transform:{__proto__:l(this,es).transform},moveText:{__proto__:l(this,es).moveText},sameLineText:{__proto__:l(this,es).sameLineText},[Qu]:{__proto__:l(this,es)[Qu]}}),w(this,Ne,{__proto__:l(this,Ne)}),l(this,Ii).push(e),this}restore(e){var i;const t=Object.getPrototypeOf(l(this,Jn));if(t===null)return this;w(this,Jn,t),w(this,es,Object.getPrototypeOf(l(this,es))),w(this,Ne,Object.getPrototypeOf(l(this,Ne)));const s=l(this,Ii).pop();return s!==void 0&&((i=Sv(l(this,Cr),e))==null||i.dependencies.add(s),l(this,Sn)[e]=l(this,Sn)[s]),this}recordOpenMarker(e){return l(this,Ii).push(e),this}getOpenMarker(){return l(this,Ii).length===0?null:l(this,Ii).at(-1)}recordCloseMarker(e){var s;const t=l(this,Ii).pop();return t!==void 0&&((s=Sv(l(this,Cr),e))==null||s.dependencies.add(t),l(this,Sn)[e]=l(this,Sn)[t]),this}beginMarkedContent(e){return l(this,$c).push(e),this}endMarkedContent(e){var s;const t=l(this,$c).pop();return t!==void 0&&((s=Sv(l(this,Cr),e))==null||s.dependencies.add(t),l(this,Sn)[e]=l(this,Sn)[t]),this}pushBaseTransform(e){return l(this,So).push(Q.multiplyByDOMMatrix(l(this,So).at(-1),e.getTransform())),this}popBaseTransform(){return l(this,So).length>1&&l(this,So).pop(),this}recordSimpleData(e,t){return l(this,Jn)[e]=t,this}recordIncrementalData(e,t){return l(this,es)[e].push(t),this}resetIncrementalData(e,t){return l(this,es)[e].length=0,this}recordNamedData(e,t){return l(this,Vc).set(e,t),this}recordSimpleDataFromNamed(e,t,s){l(this,Jn)[e]=l(this,Vc).get(t)??s}recordFutureForcedDependency(e,t){return this.recordIncrementalData(Qu,t),this}inheritSimpleDataAsFutureForcedDependencies(e){for(const t of e)t in l(this,Jn)&&this.recordFutureForcedDependency(t,l(this,Jn)[t]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const e of l(this,ts))this.recordFutureForcedDependency(Qu,e);return this}resetBBox(e){return l(this,Eo)!==e&&(w(this,Eo,e),l(this,Fe)[0]=1/0,l(this,Fe)[1]=1/0,l(this,Fe)[2]=-1/0,l(this,Fe)[3]=-1/0),this}recordClipBox(e,t,s,i,r,o){const a=Q.multiplyByDOMMatrix(l(this,So).at(-1),t.getTransform()),c=[1/0,1/0,-1/0,-1/0];Q.axialAlignedBoundingBox([s,r,i,o],a,c);const u=Q.intersect(l(this,Ne),c);return u?(l(this,Ne)[0]=u[0],l(this,Ne)[1]=u[1],l(this,Ne)[2]=u[2],l(this,Ne)[3]=u[3]):(l(this,Ne)[0]=l(this,Ne)[1]=1/0,l(this,Ne)[2]=l(this,Ne)[3]=-1/0),this}recordBBox(e,t,s,i,r,o){const a=l(this,Ne);if(a[0]===1/0)return this;const c=Q.multiplyByDOMMatrix(l(this,So).at(-1),t.getTransform());if(a[0]===-1/0)return Q.axialAlignedBoundingBox([s,r,i,o],c,l(this,Fe)),this;const u=[1/0,1/0,-1/0,-1/0];return Q.axialAlignedBoundingBox([s,r,i,o],c,u),l(this,Fe)[0]=Math.min(l(this,Fe)[0],Math.max(u[0],a[0])),l(this,Fe)[1]=Math.min(l(this,Fe)[1],Math.max(u[1],a[1])),l(this,Fe)[2]=Math.max(l(this,Fe)[2],Math.min(u[2],a[2])),l(this,Fe)[3]=Math.max(l(this,Fe)[3],Math.min(u[3],a[3])),this}recordCharacterBBox(e,t,s,i=1,r=0,o=0,a){const c=s.bbox;let u,d;if(c&&(u=c[2]!==c[0]&&c[3]!==c[1]&&l(this,vh).get(s),u!==!1&&(d=[0,0,0,0],Q.axialAlignedBoundingBox(c,s.fontMatrix,d),(i!==1||r!==0||o!==0)&&Q.scaleMinMax([i,0,0,-i,r,o],d),u)))return this.recordBBox(e,t,d[0],d[2],d[1],d[3]);if(!a)return this.recordFullPageBBox(e);const h=a();return c&&d&&u===void 0&&(u=d[0]<=r-h.actualBoundingBoxLeft&&d[2]>=r+h.actualBoundingBoxRight&&d[1]<=o-h.actualBoundingBoxAscent&&d[3]>=o+h.actualBoundingBoxDescent,l(this,vh).set(s,u),u)?this.recordBBox(e,t,d[0],d[2],d[1],d[3]):this.recordBBox(e,t,r-h.actualBoundingBoxLeft,r+h.actualBoundingBoxRight,o-h.actualBoundingBoxAscent,o+h.actualBoundingBoxDescent)}recordFullPageBBox(e){return l(this,Fe)[0]=Math.max(0,l(this,Ne)[0]),l(this,Fe)[1]=Math.max(0,l(this,Ne)[1]),l(this,Fe)[2]=Math.min(l(this,Uc),l(this,Ne)[2]),l(this,Fe)[3]=Math.min(l(this,zc),l(this,Ne)[3]),this}getSimpleIndex(e){return l(this,Jn)[e]}recordDependencies(e,t){const s=l(this,ts),i=l(this,Jn),r=l(this,es);for(const o of t)o in l(this,Jn)?s.add(i[o]):o in r&&r[o].forEach(s.add,s);return this}recordNamedDependency(e,t){return l(this,Vc).has(t)&&l(this,ts).add(l(this,Vc).get(t)),this}recordOperation(e,t=!1){if(this.recordDependencies(e,[Qu]),l(this,Cr)){const s=Sv(l(this,Cr),e),{dependencies:i}=s;l(this,ts).forEach(i.add,i),l(this,Ii).forEach(i.add,i),l(this,$c).forEach(i.add,i),i.delete(e),s.isRenderingOperation=!0}if(l(this,Eo)===e){const s=O_(l(this,Fe)[0]*256/l(this,Uc)),i=O_(l(this,Fe)[1]*256/l(this,zc)),r=j_(l(this,Fe)[2]*256/l(this,Uc)),o=j_(l(this,Fe)[3]*256/l(this,zc));Av(l(this,Co),e,s,i,r,o);for(const a of l(this,ts))a!==e&&Av(l(this,Co),a,s,i,r,o);for(const a of l(this,Ii))a!==e&&Av(l(this,Co),a,s,i,r,o);for(const a of l(this,$c))a!==e&&Av(l(this,Co),a,s,i,r,o);t||(l(this,ts).clear(),w(this,Eo,-1))}return this}recordShowTextOperation(e,t=!1){const s=Array.from(l(this,ts));this.recordOperation(e,t),this.recordIncrementalData("sameLineText",e);for(const i of s)this.recordIncrementalData("sameLineText",i);return this}bboxToClipBoxDropOperation(e,t=!1){return l(this,Eo)===e&&(w(this,Eo,-1),l(this,Ne)[0]=Math.max(l(this,Ne)[0],l(this,Fe)[0]),l(this,Ne)[1]=Math.max(l(this,Ne)[1],l(this,Fe)[1]),l(this,Ne)[2]=Math.min(l(this,Ne)[2],l(this,Fe)[2]),l(this,Ne)[3]=Math.min(l(this,Ne)[3],l(this,Fe)[3]),t||l(this,ts).clear()),this}_takePendingDependencies(){const e=l(this,ts);return w(this,ts,new Set),e}_extractOperation(e){const t=l(this,vg).get(e);return l(this,vg).delete(e),t}_pushPendingDependencies(e){for(const t of e)l(this,ts).add(t)}take(){return l(this,vh).clear(),new f7(l(this,Sn),l(this,Co))}takeDebugMetadata(){return l(this,Cr)}}Jn=new WeakMap,es=new WeakMap,Vc=new WeakMap,Ii=new WeakMap,$c=new WeakMap,So=new WeakMap,Ne=new WeakMap,Fe=new WeakMap,Eo=new WeakMap,ts=new WeakMap,vg=new WeakMap,vh=new WeakMap,Uc=new WeakMap,zc=new WeakMap,Co=new WeakMap,Sn=new WeakMap,Cr=new WeakMap,wg=new WeakSet,HA=function(e,t){const s=new ArrayBuffer(e*4);w(this,Co,new Uint8ClampedArray(s)),w(this,Sn,new Uint32Array(s)),t&&t.length>0?(l(this,Sn).set(t),l(this,Sn).fill(zA,t.length)):l(this,Sn).fill(zA)};var $e,wt,Fi,wh,xh;const lT=class lT{constructor(e,t,s){S(this,$e);S(this,wt);S(this,Fi);S(this,wh,0);S(this,xh,0);if(e instanceof lT&&l(e,Fi)===!!s)return e;w(this,$e,e),w(this,wt,t),w(this,Fi,!!s)}growOperationsCount(){throw new Error("Unreachable")}save(e){return gt(this,xh)._++,l(this,$e).save(l(this,wt)),this}restore(e){return l(this,xh)>0&&(l(this,$e).restore(l(this,wt)),gt(this,xh)._--),this}recordOpenMarker(e){return gt(this,wh)._++,this}getOpenMarker(){return l(this,wh)>0?l(this,wt):l(this,$e).getOpenMarker()}recordCloseMarker(e){return gt(this,wh)._--,this}beginMarkedContent(e){return this}endMarkedContent(e){return this}pushBaseTransform(e){return l(this,$e).pushBaseTransform(e),this}popBaseTransform(){return l(this,$e).popBaseTransform(),this}recordSimpleData(e,t){return l(this,$e).recordSimpleData(e,l(this,wt)),this}recordIncrementalData(e,t){return l(this,$e).recordIncrementalData(e,l(this,wt)),this}resetIncrementalData(e,t){return l(this,$e).resetIncrementalData(e,l(this,wt)),this}recordNamedData(e,t){return this}recordSimpleDataFromNamed(e,t,s){return l(this,$e).recordSimpleDataFromNamed(e,t,l(this,wt)),this}recordFutureForcedDependency(e,t){return l(this,$e).recordFutureForcedDependency(e,l(this,wt)),this}inheritSimpleDataAsFutureForcedDependencies(e){return l(this,$e).inheritSimpleDataAsFutureForcedDependencies(e),this}inheritPendingDependenciesAsFutureForcedDependencies(){return l(this,$e).inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(e){return l(this,Fi)||l(this,$e).resetBBox(l(this,wt)),this}recordClipBox(e,t,s,i,r,o){return l(this,Fi)||l(this,$e).recordClipBox(l(this,wt),t,s,i,r,o),this}recordBBox(e,t,s,i,r,o){return l(this,Fi)||l(this,$e).recordBBox(l(this,wt),t,s,i,r,o),this}recordCharacterBBox(e,t,s,i,r,o,a){return l(this,Fi)||l(this,$e).recordCharacterBBox(l(this,wt),t,s,i,r,o,a),this}recordFullPageBBox(e){return l(this,Fi)||l(this,$e).recordFullPageBBox(l(this,wt)),this}getSimpleIndex(e){return l(this,$e).getSimpleIndex(e)}recordDependencies(e,t){return l(this,$e).recordDependencies(l(this,wt),t),this}recordNamedDependency(e,t){return l(this,$e).recordNamedDependency(l(this,wt),t),this}recordOperation(e){return l(this,$e).recordOperation(l(this,wt),!0),this}recordShowTextOperation(e){return l(this,$e).recordShowTextOperation(l(this,wt),!0),this}bboxToClipBoxDropOperation(e){return l(this,Fi)||l(this,$e).bboxToClipBoxDropOperation(l(this,wt),!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}};$e=new WeakMap,wt=new WeakMap,Fi=new WeakMap,wh=new WeakMap,xh=new WeakMap;let mw=lT;const qs={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},cn={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function WA(n,e){if(!e)return;const t=e[2]-e[0],s=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],t,s),n.clip(i)}class ZC{isModifyingCurrentTransform(){return!1}getPattern(){He("Abstract method `getPattern` called.")}}class m7 extends ZC{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const s of this._colorStops)t.addColorStop(s[0],s[1]);return t}getPattern(e,t,s,i){let r;if(i===cn.STROKE||i===cn.FILL){const o=t.current.getClippedPathBoundingBox(i,at(e))||[0,0,0,0],a=Math.ceil(o[2]-o[0])||1,c=Math.ceil(o[3]-o[1])||1,u=t.cachedCanvases.getCanvas("pattern",a,c),d=u.context;d.clearRect(0,0,d.canvas.width,d.canvas.height),d.beginPath(),d.rect(0,0,d.canvas.width,d.canvas.height),d.translate(-o[0],-o[1]),s=Q.transform(s,[1,0,0,1,o[0],o[1]]),d.transform(...t.baseTransform),this.matrix&&d.transform(...this.matrix),WA(d,this._bbox),d.fillStyle=this._createGradient(d),d.fill(),r=e.createPattern(u.canvas,"no-repeat");const h=new DOMMatrix(s);r.setTransform(h)}else WA(e,this._bbox),r=this._createGradient(e);return r}}function jb(n,e,t,s,i,r,o,a){const c=e.coords,u=e.colors,d=n.data,h=n.width*4;let f;c[t+1]>c[s+1]&&(f=t,t=s,s=f,f=r,r=o,o=f),c[s+1]>c[i+1]&&(f=s,s=i,i=f,f=o,o=a,a=f),c[t+1]>c[s+1]&&(f=t,t=s,s=f,f=r,r=o,o=f);const p=(c[t]+e.offsetX)*e.scaleX,y=(c[t+1]+e.offsetY)*e.scaleY,m=(c[s]+e.offsetX)*e.scaleX,b=(c[s+1]+e.offsetY)*e.scaleY,g=(c[i]+e.offsetX)*e.scaleX,v=(c[i+1]+e.offsetY)*e.scaleY;if(y>=v)return;const A=u[r],E=u[r+1],T=u[r+2],k=u[o],_=u[o+1],R=u[o+2],M=u[a],N=u[a+1],L=u[a+2],O=Math.round(y),U=Math.round(v);let I,W,B,j,D,F,z,te;for(let G=O;G<=U;G++){if(G<b){const ne=G<y?0:(y-G)/(y-b);I=p-(p-m)*ne,W=A-(A-k)*ne,B=E-(E-_)*ne,j=T-(T-R)*ne}else{let ne;G>v?ne=1:b===v?ne=0:ne=(b-G)/(b-v),I=m-(m-g)*ne,W=k-(k-M)*ne,B=_-(_-N)*ne,j=R-(R-L)*ne}let X;G<y?X=0:G>v?X=1:X=(y-G)/(y-v),D=p-(p-g)*X,F=A-(A-M)*X,z=E-(E-N)*X,te=T-(T-L)*X;const se=Math.round(Math.min(I,D)),ye=Math.round(Math.max(I,D));let Se=h*G+se*4;for(let ne=se;ne<=ye;ne++)X=(I-ne)/(I-D),X<0?X=0:X>1&&(X=1),d[Se++]=W-(W-F)*X|0,d[Se++]=B-(B-z)*X|0,d[Se++]=j-(j-te)*X|0,d[Se++]=255}}function g7(n,e,t){const s=e.coords,i=e.colors;let r,o;switch(e.type){case"lattice":const a=e.verticesPerRow,c=Math.floor(s.length/a)-1,u=a-1;for(r=0;r<c;r++){let d=r*a;for(let h=0;h<u;h++,d++)jb(n,t,s[d],s[d+1],s[d+a],i[d],i[d+1],i[d+a]),jb(n,t,s[d+a+1],s[d+1],s[d+a],i[d+a+1],i[d+1],i[d+a])}break;case"triangles":for(r=0,o=s.length;r<o;r+=3)jb(n,t,s[r],s[r+1],s[r+2],i[r],i[r+1],i[r+2]);break;default:throw new Error("illegal figure")}}class y7 extends ZC{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,s){const a=Math.floor(this._bounds[0]),c=Math.floor(this._bounds[1]),u=Math.ceil(this._bounds[2])-a,d=Math.ceil(this._bounds[3])-c,h=Math.min(Math.ceil(Math.abs(u*e[0]*1.1)),3e3),f=Math.min(Math.ceil(Math.abs(d*e[1]*1.1)),3e3),p=u/h,y=d/f,m={coords:this._coords,colors:this._colors,offsetX:-a,offsetY:-c,scaleX:1/p,scaleY:1/y},b=h+2*2,g=f+2*2,v=s.getCanvas("mesh",b,g),A=v.context,E=A.createImageData(h,f);if(t){const k=E.data;for(let _=0,R=k.length;_<R;_+=4)k[_]=t[0],k[_+1]=t[1],k[_+2]=t[2],k[_+3]=255}for(const k of this._figures)g7(E,k,m);return A.putImageData(E,2,2),{canvas:v.canvas,offsetX:a-2*p,offsetY:c-2*y,scaleX:p,scaleY:y}}isModifyingCurrentTransform(){return!0}getPattern(e,t,s,i){WA(e,this._bbox);const r=new Float32Array(2);if(i===cn.SHADING)Q.singularValueDecompose2dScale(at(e),r);else if(this.matrix){Q.singularValueDecompose2dScale(this.matrix,r);const[a,c]=r;Q.singularValueDecompose2dScale(t.baseTransform,r),r[0]*=a,r[1]*=c}else Q.singularValueDecompose2dScale(t.baseTransform,r);const o=this._createMeshCanvas(r,i===cn.SHADING?null:this._background,t.cachedCanvases);return i!==cn.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(o.offsetX,o.offsetY),e.scale(o.scaleX,o.scaleY),e.createPattern(o.canvas,"no-repeat")}}class v7 extends ZC{getPattern(){return"hotpink"}}function w7(n){switch(n[0]){case"RadialAxial":return new m7(n);case"Mesh":return new y7(n);case"Dummy":return new v7}throw new Error(`Unknown IR type: ${n[0]}`)}const B_={COLORED:1,UNCOLORED:2},Nw=class Nw{constructor(e,t,s,i){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=s,this.baseTransform=i}createPatternCanvas(e,t){var F,z;const{bbox:s,operatorList:i,paintType:r,tilingType:o,color:a,canvasGraphicsFactory:c}=this;let{xstep:u,ystep:d}=this;u=Math.abs(u),d=Math.abs(d),Tx("TilingType: "+o);const h=s[0],f=s[1],p=s[2],y=s[3],m=p-h,b=y-f,g=new Float32Array(2);Q.singularValueDecompose2dScale(this.matrix,g);const[v,A]=g;Q.singularValueDecompose2dScale(this.baseTransform,g);const E=v*g[0],T=A*g[1];let k=m,_=b,R=!1,M=!1;const N=Math.ceil(u*E),L=Math.ceil(d*T),O=Math.ceil(m*E),U=Math.ceil(b*T);N>=O?k=u:R=!0,L>=U?_=d:M=!0;const I=this.getSizeAndScale(k,this.ctx.canvas.width,E),W=this.getSizeAndScale(_,this.ctx.canvas.height,T),B=e.cachedCanvases.getCanvas("pattern",I.size,W.size),j=B.context,D=c.createCanvasGraphics(j,t);if(D.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(D,r,a),j.translate(-I.scale*h,-W.scale*f),D.transform(0,I.scale,0,0,W.scale,0,0),j.save(),(F=D.dependencyTracker)==null||F.save(),this.clipBbox(D,h,f,p,y),D.baseTransform=at(D.ctx),D.executeOperatorList(i),D.endDrawing(),(z=D.dependencyTracker)==null||z.restore(),j.restore(),R||M){const te=B.canvas;R&&(k=u),M&&(_=d);const G=this.getSizeAndScale(k,this.ctx.canvas.width,E),X=this.getSizeAndScale(_,this.ctx.canvas.height,T),se=G.size,ye=X.size,Se=e.cachedCanvases.getCanvas("pattern-workaround",se,ye),ne=Se.context,Mn=R?Math.floor(m/u):0,pt=M?Math.floor(b/d):0;for(let be=0;be<=Mn;be++)for(let mt=0;mt<=pt;mt++)ne.drawImage(te,se*be,ye*mt,se,ye,0,0,se,ye);return{canvas:Se.canvas,scaleX:G.scale,scaleY:X.scale,offsetX:h,offsetY:f}}return{canvas:B.canvas,scaleX:I.scale,scaleY:W.scale,offsetX:h,offsetY:f}}getSizeAndScale(e,t,s){const i=Math.max(Nw.MAX_PATTERN_SIZE,t);let r=Math.ceil(e*s);return r>=i?r=i:s=r/e,{scale:s,size:r}}clipBbox(e,t,s,i,r){const o=i-t,a=r-s;e.ctx.rect(t,s,o,a),Q.axialAlignedBoundingBox([t,s,i,r],at(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,s){const i=e.ctx,r=e.current;switch(t){case B_.COLORED:const{fillStyle:o,strokeStyle:a}=this.ctx;i.fillStyle=r.fillColor=o,i.strokeStyle=r.strokeColor=a;break;case B_.UNCOLORED:i.fillStyle=i.strokeStyle=s,r.fillColor=r.strokeColor=s;break;default:throw new VG(`Unsupported paint type: ${t}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,t,s,i,r){let o=s;i!==cn.SHADING&&(o=Q.transform(o,t.baseTransform),this.matrix&&(o=Q.transform(o,this.matrix)));const a=this.createPatternCanvas(t,r);let c=new DOMMatrix(o);c=c.translate(a.offsetX,a.offsetY),c=c.scale(1/a.scaleX,1/a.scaleY);const u=e.createPattern(a.canvas,"repeat");return u.setTransform(c),u}};V(Nw,"MAX_PATTERN_SIZE",3e3);let GA=Nw;function x7({src:n,srcPos:e=0,dest:t,width:s,height:i,nonBlackColor:r=4294967295,inverseDecode:o=!1}){const a=Jt.isLittleEndian?4278190080:255,[c,u]=o?[r,a]:[a,r],d=s>>3,h=s&7,f=n.length;t=new Uint32Array(t.buffer);let p=0;for(let y=0;y<i;y++){for(const b=e+d;e<b;e++){const g=e<f?n[e]:255;t[p++]=g&128?u:c,t[p++]=g&64?u:c,t[p++]=g&32?u:c,t[p++]=g&16?u:c,t[p++]=g&8?u:c,t[p++]=g&4?u:c,t[p++]=g&2?u:c,t[p++]=g&1?u:c}if(h===0)continue;const m=e<f?n[e++]:255;for(let b=0;b<h;b++)t[p++]=m&1<<7-b?u:c}return{srcPos:e,destPos:p}}const V_=16,$_=100,b7=15,U_=10,os=16,Bb=new DOMMatrix,Ls=new Float32Array(2),Sd=new Float32Array([1/0,1/0,-1/0,-1/0]);function A7(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(t,s){e.translate(t,s),this.__originalTranslate(t,s)},n.scale=function(t,s){e.scale(t,s),this.__originalScale(t,s)},n.transform=function(t,s,i,r,o,a){e.transform(t,s,i,r,o,a),this.__originalTransform(t,s,i,r,o,a)},n.setTransform=function(t,s,i,r,o,a){e.setTransform(t,s,i,r,o,a),this.__originalSetTransform(t,s,i,r,o,a)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(t){e.rotate(t),this.__originalRotate(t)},n.clip=function(t){e.clip(t),this.__originalClip(t)},n.moveTo=function(t,s){e.moveTo(t,s),this.__originalMoveTo(t,s)},n.lineTo=function(t,s){e.lineTo(t,s),this.__originalLineTo(t,s)},n.bezierCurveTo=function(t,s,i,r,o,a){e.bezierCurveTo(t,s,i,r,o,a),this.__originalBezierCurveTo(t,s,i,r,o,a)},n.rect=function(t,s,i,r){e.rect(t,s,i,r),this.__originalRect(t,s,i,r)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class S7{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,s){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,t,s)):(i=this.canvasFactory.create(t,s),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function Ev(n,e,t,s,i,r,o,a,c,u){const[d,h,f,p,y,m]=at(n);if(h===0&&f===0){const v=o*d+y,A=Math.round(v),E=a*p+m,T=Math.round(E),k=(o+c)*d+y,_=Math.abs(Math.round(k)-A)||1,R=(a+u)*p+m,M=Math.abs(Math.round(R)-T)||1;return n.setTransform(Math.sign(d),0,0,Math.sign(p),A,T),n.drawImage(e,t,s,i,r,0,0,_,M),n.setTransform(d,h,f,p,y,m),[_,M]}if(d===0&&p===0){const v=a*f+y,A=Math.round(v),E=o*h+m,T=Math.round(E),k=(a+u)*f+y,_=Math.abs(Math.round(k)-A)||1,R=(o+c)*h+m,M=Math.abs(Math.round(R)-T)||1;return n.setTransform(0,Math.sign(h),Math.sign(f),0,A,T),n.drawImage(e,t,s,i,r,0,0,M,_),n.setTransform(d,h,f,p,y,m),[M,_]}n.drawImage(e,t,s,i,r,o,a,c,u);const b=Math.hypot(d,h),g=Math.hypot(f,p);return[b*c,g*u]}class z_{constructor(e,t,s){V(this,"alphaIsShape",!1);V(this,"fontSize",0);V(this,"fontSizeScale",1);V(this,"textMatrix",null);V(this,"textMatrixScale",1);V(this,"fontMatrix",vA);V(this,"leading",0);V(this,"x",0);V(this,"y",0);V(this,"lineX",0);V(this,"lineY",0);V(this,"charSpacing",0);V(this,"wordSpacing",0);V(this,"textHScale",1);V(this,"textRenderingMode",en.FILL);V(this,"textRise",0);V(this,"fillColor","#000000");V(this,"strokeColor","#000000");V(this,"patternFill",!1);V(this,"patternStroke",!1);V(this,"fillAlpha",1);V(this,"strokeAlpha",1);V(this,"lineWidth",1);V(this,"activeSMask",null);V(this,"transferMaps","none");s==null||s(this),this.clipBox=new Float32Array([0,0,e,t]),this.minMax=Sd.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=cn.FILL,t=null){const s=this.minMax.slice();if(e===cn.STROKE){t||He("Stroke bounding box must include transform."),Q.singularValueDecompose2dScale(t,Ls);const i=Ls[0]*this.lineWidth/2,r=Ls[1]*this.lineWidth/2;s[0]-=i,s[1]-=r,s[2]+=i,s[3]+=r}return s}updateClipFromPath(){const e=Q.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(Sd,0)}getClippedPathBoundingBox(e=cn.FILL,t=null){return Q.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function H_(n,e){if(e instanceof ImageData){n.putImageData(e,0,0);return}const t=e.height,s=e.width,i=t%os,r=(t-i)/os,o=i===0?r:r+1,a=n.createImageData(s,os);let c=0,u;const d=e.data,h=a.data;let f,p,y,m;if(e.kind===tm.GRAYSCALE_1BPP){const b=d.byteLength,g=new Uint32Array(h.buffer,0,h.byteLength>>2),v=g.length,A=s+7>>3,E=4294967295,T=Jt.isLittleEndian?4278190080:255;for(f=0;f<o;f++){for(y=f<r?os:i,u=0,p=0;p<y;p++){const k=b-c;let _=0;const R=k>A?s:k*8-7,M=R&-8;let N=0,L=0;for(;_<M;_+=8)L=d[c++],g[u++]=L&128?E:T,g[u++]=L&64?E:T,g[u++]=L&32?E:T,g[u++]=L&16?E:T,g[u++]=L&8?E:T,g[u++]=L&4?E:T,g[u++]=L&2?E:T,g[u++]=L&1?E:T;for(;_<R;_++)N===0&&(L=d[c++],N=128),g[u++]=L&N?E:T,N>>=1}for(;u<v;)g[u++]=0;n.putImageData(a,0,f*os)}}else if(e.kind===tm.RGBA_32BPP){for(p=0,m=s*os*4,f=0;f<r;f++)h.set(d.subarray(c,c+m)),c+=m,n.putImageData(a,0,p),p+=os;f<o&&(m=s*i*4,h.set(d.subarray(c,c+m)),n.putImageData(a,0,p))}else if(e.kind===tm.RGB_24BPP)for(y=os,m=s*y,f=0;f<o;f++){for(f>=r&&(y=i,m=s*y),u=0,p=m;p--;)h[u++]=d[c++],h[u++]=d[c++],h[u++]=d[c++],h[u++]=255;n.putImageData(a,0,f*os)}else throw new Error(`bad image kind: ${e.kind}`)}function W_(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const t=e.height,s=e.width,i=t%os,r=(t-i)/os,o=i===0?r:r+1,a=n.createImageData(s,os);let c=0;const u=e.data,d=a.data;for(let h=0;h<o;h++){const f=h<r?os:i;({srcPos:c}=x7({src:u,srcPos:c,dest:d,width:s,height:f,nonBlackColor:0})),n.putImageData(a,0,h*os)}}function dp(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const s of t)n[s]!==void 0&&(e[s]=n[s]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function Cv(n){n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0);const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}function G_(n,e){if(e)return!0;Q.singularValueDecompose2dScale(n,Ls);const t=Math.fround(Ji.pixelRatio*sa.PDF_TO_CSS_UNITS);return Ls[0]<=t&&Ls[1]<=t}const E7=["butt","round","square"],C7=["miter","round","bevel"],T7={},q_={};var er,qA,XA,YA;const cT=class cT{constructor(e,t,s,i,r,{optionalContentConfig:o,markedContentStack:a=null},c,u,d){S(this,er);this.ctx=e,this.current=new z_(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=s,this.canvasFactory=i,this.filterFactory=r,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=a||[],this.optionalContentConfig=o,this.cachedCanvases=new S7(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=c,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=u,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=d??null}getObject(e,t,s=null){var i;return typeof t=="string"?((i=this.dependencyTracker)==null||i.recordNamedDependency(e,t),t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t)):s}beginDrawing({transform:e,viewport:t,transparency:s=!1,background:i=null}){const r=this.ctx.canvas.width,o=this.ctx.canvas.height,a=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,r,o),this.ctx.fillStyle=a,s){const c=this.cachedCanvases.getCanvas("transparent",r,o);this.compositeCtx=this.ctx,this.transparentCanvas=c.canvas,this.ctx=c.context,this.ctx.save(),this.ctx.transform(...at(this.compositeCtx))}this.ctx.save(),Cv(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=at(this.ctx)}executeOperatorList(e,t,s,i,r){var g;const o=e.argsArray,a=e.fnArray;let c=t||0;const u=o.length;if(u===c)return c;const d=u-c>U_&&typeof s=="function",h=d?Date.now()+b7:0;let f=0;const p=this.commonObjs,y=this.objs;let m,b;for(;;){if(i!==void 0&&c===i.nextBreakPoint)return i.breakIt(c,s),c;if(!r||r(c))if(m=a[c],b=o[c]??null,m!==Nf.dependency)b===null?this[m](c):this[m](c,...b);else for(const v of b){(g=this.dependencyTracker)==null||g.recordNamedData(v,c);const A=v.startsWith("g_")?p:y;if(!A.has(v))return A.get(v,s),c}if(c++,c===u)return c;if(d&&++f>U_){if(Date.now()>h)return s(),c;f=0}}}endDrawing(){C(this,er,qA).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),C(this,er,XA).call(this)}_scaleImage(e,t){const s=e.width??e.displayWidth,i=e.height??e.displayHeight;let r=Math.max(Math.hypot(t[0],t[1]),1),o=Math.max(Math.hypot(t[2],t[3]),1),a=s,c=i,u="prescale1",d,h;for(;r>2&&a>1||o>2&&c>1;){let f=a,p=c;r>2&&a>1&&(f=a>=16384?Math.floor(a/2)-1||1:Math.ceil(a/2),r/=a/f),o>2&&c>1&&(p=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c)/2,o/=c/p),d=this.cachedCanvases.getCanvas(u,f,p),h=d.context,h.clearRect(0,0,f,p),h.drawImage(e,0,0,a,c,0,0,f,p),e=d.canvas,a=f,c=p,u=u==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:a,paintHeight:c}}_createMaskCanvas(e,t){var N,L;const s=this.ctx,{width:i,height:r}=t,o=this.current.fillColor,a=this.current.patternFill,c=at(s);let u,d,h,f;if((t.bitmap||t.data)&&t.count>1){const O=t.bitmap||t.data.buffer;d=JSON.stringify(a?c:[c.slice(0,4),o]),u=this._cachedBitmapsMap.get(O),u||(u=new Map,this._cachedBitmapsMap.set(O,u));const U=u.get(d);if(U&&!a){const I=Math.round(Math.min(c[0],c[2])+c[4]),W=Math.round(Math.min(c[1],c[3])+c[5]);return(N=this.dependencyTracker)==null||N.recordDependencies(e,qs.transformAndFill),{canvas:U,offsetX:I,offsetY:W}}h=U}h||(f=this.cachedCanvases.getCanvas("maskCanvas",i,r),W_(f.context,t));let p=Q.transform(c,[1/i,0,0,-1/r,0,0]);p=Q.transform(p,[1,0,0,1,0,-r]);const y=Sd.slice();Q.axialAlignedBoundingBox([0,0,i,r],p,y);const[m,b,g,v]=y,A=Math.round(g-m)||1,E=Math.round(v-b)||1,T=this.cachedCanvases.getCanvas("fillCanvas",A,E),k=T.context,_=m,R=b;k.translate(-_,-R),k.transform(...p),h||(h=this._scaleImage(f.canvas,lr(k)),h=h.img,u&&a&&u.set(d,h)),k.imageSmoothingEnabled=G_(at(k),t.interpolate),Ev(k,h,0,0,h.width,h.height,0,0,i,r),k.globalCompositeOperation="source-in";const M=Q.transform(lr(k),[1,0,0,1,-_,-R]);return k.fillStyle=a?o.getPattern(s,this,M,cn.FILL,e):o,k.fillRect(0,0,i,r),u&&!a&&(this.cachedCanvases.delete("fillCanvas"),u.set(d,T.canvas)),(L=this.dependencyTracker)==null||L.recordDependencies(e,qs.transformAndFill),{canvas:T.canvas,offsetX:Math.round(_),offsetY:Math.round(R)}}setLineWidth(e,t){var s;(s=this.dependencyTracker)==null||s.recordSimpleData("lineWidth",e),t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(e,t){var s;(s=this.dependencyTracker)==null||s.recordSimpleData("lineCap",e),this.ctx.lineCap=E7[t]}setLineJoin(e,t){var s;(s=this.dependencyTracker)==null||s.recordSimpleData("lineJoin",e),this.ctx.lineJoin=C7[t]}setMiterLimit(e,t){var s;(s=this.dependencyTracker)==null||s.recordSimpleData("miterLimit",e),this.ctx.miterLimit=t}setDash(e,t,s){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("dash",e);const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(t),i.lineDashOffset=s)}setRenderingIntent(e,t){}setFlatness(e,t){}setGState(e,t){var s,i,r,o,a;for(const[c,u]of t)switch(c){case"LW":this.setLineWidth(e,u);break;case"LC":this.setLineCap(e,u);break;case"LJ":this.setLineJoin(e,u);break;case"ML":this.setMiterLimit(e,u);break;case"D":this.setDash(e,u[0],u[1]);break;case"RI":this.setRenderingIntent(e,u);break;case"FL":this.setFlatness(e,u);break;case"Font":this.setFont(e,u[0],u[1]);break;case"CA":(s=this.dependencyTracker)==null||s.recordSimpleData("strokeAlpha",e),this.current.strokeAlpha=u;break;case"ca":(i=this.dependencyTracker)==null||i.recordSimpleData("fillAlpha",e),this.ctx.globalAlpha=this.current.fillAlpha=u;break;case"BM":(r=this.dependencyTracker)==null||r.recordSimpleData("globalCompositeOperation",e),this.ctx.globalCompositeOperation=u;break;case"SMask":(o=this.dependencyTracker)==null||o.recordSimpleData("SMask",e),this.current.activeSMask=u?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":(a=this.dependencyTracker)==null||a.recordSimpleData("filter",e),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(u);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(e){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,s=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(i,t,s);this.suspendedCtx=this.ctx;const o=this.ctx=r.context;o.setTransform(this.suspendedCtx.getTransform()),dp(this.suspendedCtx,o),A7(o,this.suspendedCtx),this.setGState(e,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),dp(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,s=this.suspendedCtx;this.composeSMask(s,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,s,i){const r=i[0],o=i[1],a=i[2]-r,c=i[3]-o;a===0||c===0||(this.genericComposeSMask(t.context,s,a,c,t.subtype,t.backdrop,t.transferMap,r,o,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(s.canvas,0,0),e.restore())}genericComposeSMask(e,t,s,i,r,o,a,c,u,d,h){let f=e.canvas,p=c-d,y=u-h;if(o)if(p<0||y<0||p+s>f.width||y+i>f.height){const b=this.cachedCanvases.getCanvas("maskExtension",s,i),g=b.context;g.drawImage(f,-p,-y),g.globalCompositeOperation="destination-atop",g.fillStyle=o,g.fillRect(0,0,s,i),g.globalCompositeOperation="source-over",f=b.canvas,p=y=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const b=new Path2D;b.rect(p,y,s,i),e.clip(b),e.globalCompositeOperation="destination-atop",e.fillStyle=o,e.fillRect(p,y,s,i),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),r==="Alpha"&&a?t.filter=this.filterFactory.addAlphaFilter(a):r==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(a));const m=new Path2D;m.rect(c,u,s,i),t.clip(m),t.globalCompositeOperation="destination-in",t.drawImage(f,p,y,s,i,c,u,s,i),t.restore()}save(e){var s;this.inSMaskMode&&dp(this.ctx,this.suspendedCtx),this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone(),(s=this.dependencyTracker)==null||s.save(e)}restore(e){var t;if((t=this.dependencyTracker)==null||t.restore(e),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&dp(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,t,s,i,r,o,a){var c;(c=this.dependencyTracker)==null||c.recordIncrementalData("transform",e),this.ctx.transform(t,s,i,r,o,a),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,s,i){let[r]=s;if(!i){r||(r=s[0]=new Path2D),this[t](e,r);return}if(this.dependencyTracker!==null){const o=t===Nf.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(e).recordBBox(e,this.ctx,i[0]-o,i[2]+o,i[1]-o,i[3]+o).recordDependencies(e,["transform"])}if(!(r instanceof Path2D)){const o=s[0]=new Path2D;for(let a=0,c=r.length;a<c;)switch(r[a++]){case vv.moveTo:o.moveTo(r[a++],r[a++]);break;case vv.lineTo:o.lineTo(r[a++],r[a++]);break;case vv.curveTo:o.bezierCurveTo(r[a++],r[a++],r[a++],r[a++],r[a++],r[a++]);break;case vv.closePath:o.closePath();break;default:le(`Unrecognized drawing path operator: ${r[a-1]}`);break}r=o}Q.axialAlignedBoundingBox(i,at(this.ctx),this.current.minMax),this[t](e,r),this._pathStartIdx=e}closePath(e){this.ctx.closePath()}stroke(e,t,s=!0){var o;const i=this.ctx,r=this.current.strokeColor;if(i.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof r=="object"&&(r!=null&&r.getPattern)){const a=r.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.strokeStyle=r.getPattern(i,this,lr(i),cn.STROKE,e),a){const c=new Path2D;c.addPath(t,i.getTransform().invertSelf().multiplySelf(a)),t=c}this.rescaleAndStroke(t,!1),i.restore()}else this.rescaleAndStroke(t,!0);(o=this.dependencyTracker)==null||o.recordDependencies(e,qs.stroke),s&&this.consumePath(e,t,this.current.getClippedPathBoundingBox(cn.STROKE,at(this.ctx))),i.globalAlpha=this.current.fillAlpha}closeStroke(e,t){this.stroke(e,t)}fill(e,t,s=!0){var u,d,h;const i=this.ctx,r=this.current.fillColor,o=this.current.patternFill;let a=!1;if(o){const f=r.isModifyingCurrentTransform()?i.getTransform():null;if((u=this.dependencyTracker)==null||u.save(e),i.save(),i.fillStyle=r.getPattern(i,this,lr(i),cn.FILL,e),f){const p=new Path2D;p.addPath(t,i.getTransform().invertSelf().multiplySelf(f)),t=p}a=!0}const c=this.current.getClippedPathBoundingBox();this.contentVisible&&c!==null&&(this.pendingEOFill?(i.fill(t,"evenodd"),this.pendingEOFill=!1):i.fill(t)),(d=this.dependencyTracker)==null||d.recordDependencies(e,qs.fill),a&&(i.restore(),(h=this.dependencyTracker)==null||h.restore(e)),s&&this.consumePath(e,t,c)}eoFill(e,t){this.pendingEOFill=!0,this.fill(e,t)}fillStroke(e,t){this.fill(e,t,!1),this.stroke(e,t,!1),this.consumePath(e,t)}eoFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}closeFillStroke(e,t){this.fillStroke(e,t)}closeEOFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}endPath(e,t){this.consumePath(e,t)}rawFillPath(e,t){var s;this.ctx.fill(t),(s=this.dependencyTracker)==null||s.recordDependencies(e,qs.rawFillPath).recordOperation(e)}clip(e){var t;(t=this.dependencyTracker)==null||t.recordFutureForcedDependency("clipMode",e),this.pendingClip=T7}eoClip(e){var t;(t=this.dependencyTracker)==null||t.recordFutureForcedDependency("clipMode",e),this.pendingClip=q_}beginText(e){var t;this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,(t=this.dependencyTracker)==null||t.recordOpenMarker(e).resetIncrementalData("sameLineText").resetIncrementalData("moveText",e)}endText(e){const t=this.pendingTextPaths,s=this.ctx;if(this.dependencyTracker){const{dependencyTracker:i}=this;t!==void 0&&i.recordFutureForcedDependency("textClip",i.getOpenMarker()).recordFutureForcedDependency("textClip",e),i.recordCloseMarker(e)}if(t!==void 0){const i=new Path2D,r=s.getTransform().invertSelf();for(const{transform:o,x:a,y:c,fontSize:u,path:d}of t)d&&i.addPath(d,new DOMMatrix(o).preMultiplySelf(r).translate(a,c).scale(u,-u));s.clip(i)}delete this.pendingTextPaths}setCharSpacing(e,t){var s;(s=this.dependencyTracker)==null||s.recordSimpleData("charSpacing",e),this.current.charSpacing=t}setWordSpacing(e,t){var s;(s=this.dependencyTracker)==null||s.recordSimpleData("wordSpacing",e),this.current.wordSpacing=t}setHScale(e,t){var s;(s=this.dependencyTracker)==null||s.recordSimpleData("hScale",e),this.current.textHScale=t/100}setLeading(e,t){var s;(s=this.dependencyTracker)==null||s.recordSimpleData("leading",e),this.current.leading=-t}setFont(e,t,s){var h,f;(h=this.dependencyTracker)==null||h.recordSimpleData("font",e).recordSimpleDataFromNamed("fontObj",t,e);const i=this.commonObjs.get(t),r=this.current;if(!i)throw new Error(`Can't find font for ${t}`);if(r.fontMatrix=i.fontMatrix||vA,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&le("Invalid font matrix for font "+t),s<0?(s=-s,r.fontDirection=-1):r.fontDirection=1,this.current.font=i,this.current.fontSize=s,i.isType3Font)return;const o=i.loadedName||"sans-serif",a=((f=i.systemFontInfo)==null?void 0:f.css)||`"${o}", ${i.fallbackName}`;let c="normal";i.black?c="900":i.bold&&(c="bold");const u=i.italic?"italic":"normal";let d=s;s<V_?d=V_:s>$_&&(d=$_),this.current.fontSizeScale=s/d,this.ctx.font=`${u} ${c} ${d}px ${a}`}setTextRenderingMode(e,t){var s;(s=this.dependencyTracker)==null||s.recordSimpleData("textRenderingMode",e),this.current.textRenderingMode=t}setTextRise(e,t){var s;(s=this.dependencyTracker)==null||s.recordSimpleData("textRise",e),this.current.textRise=t}moveText(e,t,s){var i;(i=this.dependencyTracker)==null||i.resetIncrementalData("sameLineText").recordIncrementalData("moveText",e),this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=s}setLeadingMoveText(e,t,s){this.setLeading(e,-s),this.moveText(e,t,s)}setTextMatrix(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("textMatrix",e);const{current:s}=this;s.textMatrix=t,s.textMatrixScale=Math.hypot(t[0],t[1]),s.x=s.lineX=0,s.y=s.lineY=0}nextLine(e){var t;this.moveText(e,0,this.current.leading),(t=this.dependencyTracker)==null||t.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??e)}paintChar(e,t,s,i,r,o){var g,v,A,E;const a=this.ctx,c=this.current,u=c.font,d=c.textRenderingMode,h=c.fontSize/c.fontSizeScale,f=d&en.FILL_STROKE_MASK,p=!!(d&en.ADD_TO_PATH_FLAG),y=c.patternFill&&!u.missingFile,m=c.patternStroke&&!u.missingFile;let b;if((u.disableFontFace||p||y||m)&&!u.missingFile&&(b=u.getPathGenerator(this.commonObjs,t)),b&&(u.disableFontFace||y||m)){a.save(),a.translate(s,i),a.scale(h,-h),(g=this.dependencyTracker)==null||g.recordCharacterBBox(e,a,u);let T;if(f===en.FILL||f===en.FILL_STROKE)if(r){T=a.getTransform(),a.setTransform(...r);const k=C(this,er,YA).call(this,b,T,r);a.fill(k)}else a.fill(b);if(f===en.STROKE||f===en.FILL_STROKE)if(o){T||(T=a.getTransform()),a.setTransform(...o);const{a:k,b:_,c:R,d:M}=T,N=Q.inverseTransform(o),L=Q.transform([k,_,R,M,0,0],N);Q.singularValueDecompose2dScale(L,Ls),a.lineWidth*=Math.max(Ls[0],Ls[1])/h,a.stroke(C(this,er,YA).call(this,b,T,o))}else a.lineWidth/=h,a.stroke(b);a.restore()}else(f===en.FILL||f===en.FILL_STROKE)&&(a.fillText(t,s,i),(v=this.dependencyTracker)==null||v.recordCharacterBBox(e,a,u,h,s,i,()=>a.measureText(t))),(f===en.STROKE||f===en.FILL_STROKE)&&(this.dependencyTracker&&((A=this.dependencyTracker)==null||A.recordCharacterBBox(e,a,u,h,s,i,()=>a.measureText(t)).recordDependencies(e,qs.stroke)),a.strokeText(t,s,i));p&&((this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:at(a),x:s,y:i,fontSize:h,path:b}),(E=this.dependencyTracker)==null||E.recordCharacterBBox(e,a,u,h,s,i))}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let s=!1;for(let i=3;i<t.length;i+=4)if(t[i]>0&&t[i]<255){s=!0;break}return fe(this,"isFontSubpixelAAEnabled",s)}showText(e,t){var R,M,N,L;this.dependencyTracker&&(this.dependencyTracker.recordDependencies(e,qs.showText).resetBBox(e),this.current.textRenderingMode&en.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",e).inheritPendingDependenciesAsFutureForcedDependencies());const s=this.current,i=s.font;if(i.isType3Font){this.showType3Text(e,t),(R=this.dependencyTracker)==null||R.recordShowTextOperation(e);return}const r=s.fontSize;if(r===0){(M=this.dependencyTracker)==null||M.recordOperation(e);return}const o=this.ctx,a=s.fontSizeScale,c=s.charSpacing,u=s.wordSpacing,d=s.fontDirection,h=s.textHScale*d,f=t.length,p=i.vertical,y=p?1:-1,m=i.defaultVMetrics,b=r*s.fontMatrix[0],g=s.textRenderingMode===en.FILL&&!i.disableFontFace&&!s.patternFill;o.save(),s.textMatrix&&o.transform(...s.textMatrix),o.translate(s.x,s.y+s.textRise),d>0?o.scale(h,-1):o.scale(h,1);let v,A;if(s.patternFill){o.save();const O=s.fillColor.getPattern(o,this,lr(o),cn.FILL,e);v=at(o),o.restore(),o.fillStyle=O}if(s.patternStroke){o.save();const O=s.strokeColor.getPattern(o,this,lr(o),cn.STROKE,e);A=at(o),o.restore(),o.strokeStyle=O}let E=s.lineWidth;const T=s.textMatrixScale;if(T===0||E===0){const O=s.textRenderingMode&en.FILL_STROKE_MASK;(O===en.STROKE||O===en.FILL_STROKE)&&(E=this.getSinglePixelWidth())}else E/=T;if(a!==1&&(o.scale(a,a),E/=a),o.lineWidth=E,i.isInvalidPDFjsFont){const O=[];let U=0;for(const W of t)O.push(W.unicode),U+=W.width;const I=O.join("");if(o.fillText(I,0,0),this.dependencyTracker!==null){const W=o.measureText(I);this.dependencyTracker.recordBBox(e,this.ctx,-W.actualBoundingBoxLeft,W.actualBoundingBoxRight,-W.actualBoundingBoxAscent,W.actualBoundingBoxDescent).recordShowTextOperation(e)}s.x+=U*b*h,o.restore(),this.compose();return}let k=0,_;for(_=0;_<f;++_){const O=t[_];if(typeof O=="number"){k+=y*O*r/1e3;continue}let U=!1;const I=(O.isSpace?u:0)+c,W=O.fontChar,B=O.accent;let j,D,F=O.width;if(p){const G=O.vmetric||m,X=-(O.vmetric?G[1]:F*.5)*b,se=G[2]*b;F=G?-G[0]:F,j=X/a,D=(k+se)/a}else j=k/a,D=0;let z;if(i.remeasure&&F>0){z=o.measureText(W);const G=z.width*1e3/r*a;if(F<G&&this.isFontSubpixelAAEnabled){const X=F/G;U=!0,o.save(),o.scale(X,1),j/=X}else F!==G&&(j+=(F-G)/2e3*r/a)}if(this.contentVisible&&(O.isInFont||i.missingFile)){if(g&&!B)o.fillText(W,j,D),(N=this.dependencyTracker)==null||N.recordCharacterBBox(e,o,z?{bbox:null}:i,r/a,j,D,()=>z??o.measureText(W));else if(this.paintChar(e,W,j,D,v,A),B){const G=j+r*B.offset.x/a,X=D-r*B.offset.y/a;this.paintChar(e,B.fontChar,G,X,v,A)}}const te=p?F*b-I*d:F*b+I*d;k+=te,U&&o.restore()}p?s.y-=k:s.x+=k*h,o.restore(),this.compose(),(L=this.dependencyTracker)==null||L.recordShowTextOperation(e)}showType3Text(e,t){const s=this.ctx,i=this.current,r=i.font,o=i.fontSize,a=i.fontDirection,c=r.vertical?1:-1,u=i.charSpacing,d=i.wordSpacing,h=i.textHScale*a,f=i.fontMatrix||vA,p=t.length,y=i.textRenderingMode===en.INVISIBLE;let m,b,g,v;if(y||o===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,s.save(),i.textMatrix&&s.transform(...i.textMatrix),s.translate(i.x,i.y+i.textRise),s.scale(h,a);const A=this.dependencyTracker;for(this.dependencyTracker=A?new mw(A,e):null,m=0;m<p;++m){if(b=t[m],typeof b=="number"){v=c*b*o/1e3,this.ctx.translate(v,0),i.x+=v*h;continue}const E=(b.isSpace?d:0)+u,T=r.charProcOperatorList[b.operatorListId];T?this.contentVisible&&(this.save(),s.scale(o,o),s.transform(...f),this.executeOperatorList(T),this.restore()):le(`Type3 character "${b.operatorListId}" is not available.`);const k=[b.width,0];Q.applyTransform(k,f),g=k[0]*o+E,s.translate(g,0),i.x+=g*h}s.restore(),A&&(this.dependencyTracker=A)}setCharWidth(e,t,s){}setCharWidthAndBounds(e,t,s,i,r,o,a){var u;const c=new Path2D;c.rect(i,r,o-i,a-r),this.ctx.clip(c),(u=this.dependencyTracker)==null||u.recordBBox(e,this.ctx,i,o,r,a).recordClipBox(e,this.ctx,i,o,r,a),this.endPath(e)}getColorN_Pattern(e,t){let s;if(t[0]==="TilingPattern"){const i=this.baseTransform||at(this.ctx),r={createCanvasGraphics:(o,a)=>new cT(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new mw(this.dependencyTracker,a,!0):null)};s=new GA(t,this.ctx,r,i)}else s=this._getPattern(e,t[1],t[2]);return s}setStrokeColorN(e,...t){var s;(s=this.dependencyTracker)==null||s.recordSimpleData("strokeColor",e),this.current.strokeColor=this.getColorN_Pattern(e,t),this.current.patternStroke=!0}setFillColorN(e,...t){var s;(s=this.dependencyTracker)==null||s.recordSimpleData("fillColor",e),this.current.fillColor=this.getColorN_Pattern(e,t),this.current.patternFill=!0}setStrokeRGBColor(e,t){var s;(s=this.dependencyTracker)==null||s.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(e){var t;(t=this.dependencyTracker)==null||t.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,t){var s;(s=this.dependencyTracker)==null||s.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(e){var t;(t=this.dependencyTracker)==null||t.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t,s=null){let i;return this.cachedPatterns.has(t)?i=this.cachedPatterns.get(t):(i=w7(this.getObject(e,t)),this.cachedPatterns.set(t,i)),s&&(i.matrix=s),i}shadingFill(e,t){var o;if(!this.contentVisible)return;const s=this.ctx;this.save(e);const i=this._getPattern(e,t);s.fillStyle=i.getPattern(s,this,lr(s),cn.SHADING,e);const r=lr(s);if(r){const{width:a,height:c}=s.canvas,u=Sd.slice();Q.axialAlignedBoundingBox([0,0,a,c],r,u);const[d,h,f,p]=u;this.ctx.fillRect(d,h,f-d,p-h)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);(o=this.dependencyTracker)==null||o.resetBBox(e).recordFullPageBBox(e).recordDependencies(e,qs.transform).recordDependencies(e,qs.fill).recordOperation(e),this.compose(this.current.getClippedPathBoundingBox()),this.restore(e)}beginInlineImage(){He("Should not call beginInlineImage")}beginImageData(){He("Should not call beginImageData")}paintFormXObjectBegin(e,t,s){var i;if(this.contentVisible&&(this.save(e),this.baseTransformStack.push(this.baseTransform),t&&this.transform(e,...t),this.baseTransform=at(this.ctx),s)){Q.axialAlignedBoundingBox(s,this.baseTransform,this.current.minMax);const[r,o,a,c]=s,u=new Path2D;u.rect(r,o,a-r,c-o),this.ctx.clip(u),(i=this.dependencyTracker)==null||i.recordClipBox(e,this.ctx,r,a,o,c),this.endPath(e)}}paintFormXObjectEnd(e){this.contentVisible&&(this.restore(e),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e,t){var A;if(!this.contentVisible)return;this.save(e),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const s=this.ctx;t.isolated||Tx("TODO: Support non-isolated groups."),t.knockout&&le("Knockout groups not supported.");const i=at(s);if(t.matrix&&s.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let r=Sd.slice();Q.axialAlignedBoundingBox(t.bbox,at(s),r);const o=[0,0,s.canvas.width,s.canvas.height];r=Q.intersect(r,o)||[0,0,0,0];const a=Math.floor(r[0]),c=Math.floor(r[1]),u=Math.max(Math.ceil(r[2])-a,1),d=Math.max(Math.ceil(r[3])-c,1);this.current.startNewPathAndClipBox([0,0,u,d]);let h="groupAt"+this.groupLevel;t.smask&&(h+="_smask_"+this.smaskCounter++%2);const f=this.cachedCanvases.getCanvas(h,u,d),p=f.context;p.translate(-a,-c),p.transform(...i);let y=new Path2D;const[m,b,g,v]=t.bbox;if(y.rect(m,b,g-m,v-b),t.matrix){const E=new Path2D;E.addPath(y,new DOMMatrix(t.matrix)),y=E}p.clip(y),t.smask&&this.smaskStack.push({canvas:f.canvas,context:p,offsetX:a,offsetY:c,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}),(!t.smask||this.dependencyTracker)&&(s.setTransform(1,0,0,1,0,0),s.translate(a,c),s.save()),dp(s,p),this.ctx=p,(A=this.dependencyTracker)==null||A.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(s),this.setGState(e,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(s),this.groupLevel++}endGroup(e,t){var r;if(!this.contentVisible)return;this.groupLevel--;const s=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,(r=this.dependencyTracker)==null||r.popBaseTransform(),t.smask)this.tempSMask=this.smaskStack.pop(),this.restore(e),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const o=at(this.ctx);this.restore(e),this.ctx.save(),this.ctx.setTransform(...o);const a=Sd.slice();Q.axialAlignedBoundingBox([0,0,s.canvas.width,s.canvas.height],o,a),this.ctx.drawImage(s.canvas,0,0),this.ctx.restore(),this.compose(a)}}beginAnnotation(e,t,s,i,r,o){if(C(this,er,qA).call(this),Cv(this.ctx),this.ctx.save(),this.save(e),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),s){const a=s[2]-s[0],c=s[3]-s[1];if(o&&this.annotationCanvasMap){i=i.slice(),i[4]-=s[0],i[5]-=s[1],s=s.slice(),s[0]=s[1]=0,s[2]=a,s[3]=c,Q.singularValueDecompose2dScale(at(this.ctx),Ls);const{viewportScale:u}=this,d=Math.ceil(a*this.outputScaleX*u),h=Math.ceil(c*this.outputScaleY*u);this.annotationCanvas=this.canvasFactory.create(d,h);const{canvas:f,context:p}=this.annotationCanvas;this.annotationCanvasMap.set(t,f),this.annotationCanvas.savedCtx=this.ctx,this.ctx=p,this.ctx.save(),this.ctx.setTransform(Ls[0],0,0,-Ls[1],0,c*Ls[1]),Cv(this.ctx)}else{Cv(this.ctx),this.endPath(e);const u=new Path2D;u.rect(s[0],s[1],a,c),this.ctx.clip(u)}}this.current=new z_(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(e,...i),this.transform(e,...r)}endAnnotation(e){this.annotationCanvas&&(this.ctx.restore(),C(this,er,XA).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e,t){var a;if(!this.contentVisible)return;const s=t.count;t=this.getObject(e,t.data,t),t.count=s;const i=this.ctx,r=this._createMaskCanvas(e,t),o=r.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(o,r.offsetX,r.offsetY),(a=this.dependencyTracker)==null||a.resetBBox(e).recordBBox(e,this.ctx,r.offsetX,r.offsetX+o.width,r.offsetY,r.offsetY+o.height).recordOperation(e),i.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,s,i=0,r=0,o,a){var h,f,p;if(!this.contentVisible)return;t=this.getObject(e,t.data,t);const c=this.ctx;c.save();const u=at(c);c.transform(s,i,r,o,0,0);const d=this._createMaskCanvas(e,t);c.setTransform(1,0,0,1,d.offsetX-u[4],d.offsetY-u[5]),(h=this.dependencyTracker)==null||h.resetBBox(e);for(let y=0,m=a.length;y<m;y+=2){const b=Q.transform(u,[s,i,r,o,a[y],a[y+1]]);c.drawImage(d.canvas,b[4],b[5]),(f=this.dependencyTracker)==null||f.recordBBox(e,this.ctx,b[4],b[4]+d.canvas.width,b[5],b[5]+d.canvas.height)}c.restore(),this.compose(),(p=this.dependencyTracker)==null||p.recordOperation(e)}paintImageMaskXObjectGroup(e,t){var o,a,c;if(!this.contentVisible)return;const s=this.ctx,i=this.current.fillColor,r=this.current.patternFill;(o=this.dependencyTracker)==null||o.resetBBox(e).recordDependencies(e,qs.transformAndFill);for(const u of t){const{data:d,width:h,height:f,transform:p}=u,y=this.cachedCanvases.getCanvas("maskCanvas",h,f),m=y.context;m.save();const b=this.getObject(e,d,u);W_(m,b),m.globalCompositeOperation="source-in",m.fillStyle=r?i.getPattern(m,this,lr(s),cn.FILL,e):i,m.fillRect(0,0,h,f),m.restore(),s.save(),s.transform(...p),s.scale(1,-1),Ev(s,y.canvas,0,0,h,f,0,-1,1,1),(a=this.dependencyTracker)==null||a.recordBBox(e,s,0,h,0,f),s.restore()}this.compose(),(c=this.dependencyTracker)==null||c.recordOperation(e)}paintImageXObject(e,t){if(!this.contentVisible)return;const s=this.getObject(e,t);if(!s){le("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e,s)}paintImageXObjectRepeat(e,t,s,i,r){if(!this.contentVisible)return;const o=this.getObject(e,t);if(!o){le("Dependent image isn't ready yet");return}const a=o.width,c=o.height,u=[];for(let d=0,h=r.length;d<h;d+=2)u.push({transform:[s,0,0,i,r[d],r[d+1]],x:0,y:0,w:a,h:c});this.paintInlineImageXObjectGroup(e,o,u)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:s,height:i}=e,r=this.cachedCanvases.getCanvas("inlineImage",s,i),o=r.context;return o.filter=this.current.transferMaps,o.drawImage(t,0,0),o.filter="none",r.canvas}paintInlineImageXObject(e,t){var u;if(!this.contentVisible)return;const s=t.width,i=t.height,r=this.ctx;this.save(e);const{filter:o}=r;o!=="none"&&o!==""&&(r.filter="none"),r.scale(1/s,-1/i);let a;if(t.bitmap)a=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)a=t;else{const h=this.cachedCanvases.getCanvas("inlineImage",s,i).context;H_(h,t),a=this.applyTransferMapsToCanvas(h)}const c=this._scaleImage(a,lr(r));r.imageSmoothingEnabled=G_(at(r),t.interpolate),(u=this.dependencyTracker)==null||u.resetBBox(e).recordBBox(e,r,0,s,-i,0).recordDependencies(e,qs.imageXObject).recordOperation(e),Ev(r,c.img,0,0,c.paintWidth,c.paintHeight,0,-i,s,i),this.compose(),this.restore(e)}paintInlineImageXObjectGroup(e,t,s){var o,a,c;if(!this.contentVisible)return;const i=this.ctx;let r;if(t.bitmap)r=t.bitmap;else{const u=t.width,d=t.height,f=this.cachedCanvases.getCanvas("inlineImage",u,d).context;H_(f,t),r=this.applyTransferMapsToCanvas(f)}(o=this.dependencyTracker)==null||o.resetBBox(e);for(const u of s)i.save(),i.transform(...u.transform),i.scale(1,-1),Ev(i,r,u.x,u.y,u.w,u.h,0,-1,1,1),(a=this.dependencyTracker)==null||a.recordBBox(e,i,0,1,-1,0),i.restore();(c=this.dependencyTracker)==null||c.recordOperation(e),this.compose()}paintSolidColorImageMask(e){var t;this.contentVisible&&((t=this.dependencyTracker)==null||t.resetBBox(e).recordBBox(e,this.ctx,0,1,0,1).recordDependencies(e,qs.fill).recordOperation(e),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e,t){}markPointProps(e,t,s){}beginMarkedContent(e,t){var s;(s=this.dependencyTracker)==null||s.beginMarkedContent(e),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t,s){var i;(i=this.dependencyTracker)==null||i.beginMarkedContent(e),t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(s)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(e){var t;(t=this.dependencyTracker)==null||t.endMarkedContent(e),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(e){}endCompat(e){}consumePath(e,t,s){var o,a;const i=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(s);const r=this.ctx;this.pendingClip?(i||(this.pendingClip===q_?r.clip(t,"evenodd"):r.clip(t)),this.pendingClip=null,(o=this.dependencyTracker)==null||o.bboxToClipBoxDropOperation(e).recordFutureForcedDependency("clipPath",e)):(a=this.dependencyTracker)==null||a.recordOperation(e),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=at(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),s=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(s,i)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:s,c:i,d:r}=this.ctx.getTransform();let o,a;if(s===0&&i===0){const c=Math.abs(t),u=Math.abs(r);if(c===u)if(e===0)o=a=1/c;else{const d=c*e;o=a=d<1?1/d:1}else if(e===0)o=1/c,a=1/u;else{const d=c*e,h=u*e;o=d<1?1/d:1,a=h<1?1/h:1}}else{const c=Math.abs(t*r-s*i),u=Math.hypot(t,s),d=Math.hypot(i,r);if(e===0)o=d/c,a=u/c;else{const h=e*c;o=d>h?d/h:1,a=u>h?u/h:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:s,current:{lineWidth:i}}=this,[r,o]=this.getScaleForStroking();if(r===o){s.lineWidth=(i||1)*r,s.stroke(e);return}const a=s.getLineDash();t&&s.save(),s.scale(r,o),Bb.a=1/r,Bb.d=1/o;const c=new Path2D;if(c.addPath(e,Bb),a.length>0){const u=Math.max(r,o);s.setLineDash(a.map(d=>d/u)),s.lineDashOffset/=u}s.lineWidth=i||1,s.stroke(c),t&&s.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};er=new WeakSet,qA=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},XA=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}},YA=function(e,t,s){const i=new Path2D;return i.addPath(e,new DOMMatrix(s).invertSelf().multiplySelf(t)),i};let Od=cT;for(const n in Nf)Od.prototype[n]!==void 0&&(Od.prototype[Nf[n]]=Od.prototype[n]);var bh,Ah,xg,Sh,t0;const Cd=class Cd{constructor(e){S(this,Sh);S(this,bh);S(this,Ah);S(this,xg);w(this,bh,e),w(this,Ah,new DataView(l(this,bh))),w(this,xg,new TextDecoder)}static write(e){const t=new TextEncoder,s={};let i=0;for(const u of Cd.strings){const d=t.encode(e[u]);s[u]=d,i+=4+d.length}const r=new ArrayBuffer(i),o=new Uint8Array(r),a=new DataView(r);let c=0;for(const u of Cd.strings){const d=s[u],h=d.length;a.setUint32(c,h),o.set(d,c+4),c+=4+h}return Ae(c===r.byteLength,"CssFontInfo.write: Buffer overflow"),r}get fontFamily(){return C(this,Sh,t0).call(this,0)}get fontWeight(){return C(this,Sh,t0).call(this,1)}get italicAngle(){return C(this,Sh,t0).call(this,2)}};bh=new WeakMap,Ah=new WeakMap,xg=new WeakMap,Sh=new WeakSet,t0=function(e){Ae(e<Cd.strings.length,"Invalid string index");let t=0;for(let i=0;i<e;i++)t+=l(this,Ah).getUint32(t)+4;const s=l(this,Ah).getUint32(t);return l(this,xg).decode(new Uint8Array(l(this,bh),t+4,s))},V(Cd,"strings",["fontFamily","fontWeight","italicAngle"]);let gw=Cd;var Ga,Tr,Hc,Wc,Mp;const Td=class Td{constructor(e){S(this,Wc);S(this,Ga);S(this,Tr);S(this,Hc);w(this,Ga,e),w(this,Tr,new DataView(l(this,Ga))),w(this,Hc,new TextDecoder)}static write(e){const t=new TextEncoder,s={};let i=0;for(const f of Td.strings){const p=t.encode(e[f]);s[f]=p,i+=4+p.length}i+=4;let r,o,a=1+i;e.style&&(r=t.encode(e.style.style),o=t.encode(e.style.weight),a+=4+r.length+4+o.length);const c=new ArrayBuffer(a),u=new Uint8Array(c),d=new DataView(c);let h=0;d.setUint8(h++,e.guessFallback?1:0),d.setUint32(h,0),h+=4,i=0;for(const f of Td.strings){const p=s[f],y=p.length;i+=4+y,d.setUint32(h,y),u.set(p,h+4),h+=4+y}return d.setUint32(h-i-4,i),e.style&&(d.setUint32(h,r.length),u.set(r,h+4),h+=4+r.length,d.setUint32(h,o.length),u.set(o,h+4),h+=4+o.length),Ae(h<=c.byteLength,"SubstitionInfo.write: Buffer overflow"),c.transferToFixedLength(h)}get guessFallback(){return l(this,Tr).getUint8(0)!==0}get css(){return C(this,Wc,Mp).call(this,0)}get loadedName(){return C(this,Wc,Mp).call(this,1)}get baseFontName(){return C(this,Wc,Mp).call(this,2)}get src(){return C(this,Wc,Mp).call(this,3)}get style(){let e=1;e+=4+l(this,Tr).getUint32(e);const t=l(this,Tr).getUint32(e),s=l(this,Hc).decode(new Uint8Array(l(this,Ga),e+4,t));e+=4+t;const i=l(this,Tr).getUint32(e),r=l(this,Hc).decode(new Uint8Array(l(this,Ga),e+4,i));return{style:s,weight:r}}};Ga=new WeakMap,Tr=new WeakMap,Hc=new WeakMap,Wc=new WeakSet,Mp=function(e){Ae(e<Td.strings.length,"Invalid string index");let t=5;for(let i=0;i<e;i++)t+=l(this,Tr).getUint32(t)+4;const s=l(this,Tr).getUint32(t);return l(this,Hc).decode(new Uint8Array(l(this,Ga),t+4,s))},V(Td,"strings",["css","loadedName","baseFontName","src"]);let yw=Td;var Eh,Ch,Th,Ph,vs,Pr,bg,Oe,St,Ci,n0,Np;const de=class de{constructor({data:e,extra:t}){S(this,St);S(this,Pr);S(this,bg);S(this,Oe);w(this,Pr,e),w(this,bg,new TextDecoder),w(this,Oe,new DataView(l(this,Pr))),t&&Object.assign(this,t)}get black(){return C(this,St,Ci).call(this,0)}get bold(){return C(this,St,Ci).call(this,1)}get disableFontFace(){return C(this,St,Ci).call(this,2)}get fontExtraProperties(){return C(this,St,Ci).call(this,3)}get isInvalidPDFjsFont(){return C(this,St,Ci).call(this,4)}get isType3Font(){return C(this,St,Ci).call(this,5)}get italic(){return C(this,St,Ci).call(this,6)}get missingFile(){return C(this,St,Ci).call(this,7)}get remeasure(){return C(this,St,Ci).call(this,8)}get vertical(){return C(this,St,Ci).call(this,9)}get ascent(){return C(this,St,n0).call(this,0)}get defaultWidth(){return C(this,St,n0).call(this,1)}get descent(){return C(this,St,n0).call(this,2)}get bbox(){let e=l(de,Ch);if(l(this,Oe).getUint8(e)===0)return;e+=1;const s=[];for(let i=0;i<4;i++)s.push(l(this,Oe).getInt16(e,!0)),e+=2;return s}get fontMatrix(){let e=l(de,Th);if(l(this,Oe).getUint8(e)===0)return;e+=1;const s=[];for(let i=0;i<6;i++)s.push(l(this,Oe).getFloat64(e,!0)),e+=8;return s}get defaultVMetrics(){let e=l(de,Ph);if(l(this,Oe).getUint8(e)===0)return;e+=1;const s=[];for(let i=0;i<3;i++)s.push(l(this,Oe).getInt16(e,!0)),e+=2;return s}get fallbackName(){return C(this,St,Np).call(this,0)}get loadedName(){return C(this,St,Np).call(this,1)}get mimetype(){return C(this,St,Np).call(this,2)}get name(){return C(this,St,Np).call(this,3)}get data(){let e=l(de,vs);const t=l(this,Oe).getUint32(e);e+=4+t;const s=l(this,Oe).getUint32(e);e+=4+s;const i=l(this,Oe).getUint32(e);e+=4+i;const r=l(this,Oe).getUint32(e);if(r!==0)return new Uint8Array(l(this,Pr),e+4,r)}clearData(){let e=l(de,vs);const t=l(this,Oe).getUint32(e);e+=4+t;const s=l(this,Oe).getUint32(e);e+=4+s;const i=l(this,Oe).getUint32(e);e+=4+i;const r=l(this,Oe).getUint32(e);new Uint8Array(l(this,Pr),e+4,r).fill(0),l(this,Oe).setUint32(e,0)}get cssFontInfo(){let e=l(de,vs);const t=l(this,Oe).getUint32(e);e+=4+t;const s=l(this,Oe).getUint32(e);e+=4+s;const i=l(this,Oe).getUint32(e);if(i===0)return null;const r=new Uint8Array(i);return r.set(new Uint8Array(l(this,Pr),e+4,i)),new gw(r.buffer)}get systemFontInfo(){let e=l(de,vs);const t=l(this,Oe).getUint32(e);e+=4+t;const s=l(this,Oe).getUint32(e);if(s===0)return null;const i=new Uint8Array(s);return i.set(new Uint8Array(l(this,Pr),e+4,s)),new yw(i.buffer)}static write(e){const t=e.systemFontInfo?yw.write(e.systemFontInfo):null,s=e.cssFontInfo?gw.write(e.cssFontInfo):null,i=new TextEncoder,r={};let o=0;for(const m of de.strings)r[m]=i.encode(e[m]),o+=4+r[m].length;const a=l(de,vs)+4+o+4+(t?t.byteLength:0)+4+(s?s.byteLength:0)+4+(e.data?e.data.length:0),c=new ArrayBuffer(a),u=new Uint8Array(c),d=new DataView(c);let h=0;const f=de.bools.length;let p=0,y=0;for(let m=0;m<f;m++){const b=e[de.bools[m]];p|=(b===void 0?0:b?2:1)<<y,y+=2,(y===8||m===f-1)&&(d.setUint8(h++,p),p=0,y=0)}Ae(h===l(de,Eh),"FontInfo.write: Boolean properties offset mismatch");for(const m of de.numbers)d.setFloat64(h,e[m]),h+=8;if(Ae(h===l(de,Ch),"FontInfo.write: Number properties offset mismatch"),e.bbox){d.setUint8(h++,4);for(const m of e.bbox)d.setInt16(h,m,!0),h+=2}else d.setUint8(h++,0),h+=2*4;if(Ae(h===l(de,Th),"FontInfo.write: BBox properties offset mismatch"),e.fontMatrix){d.setUint8(h++,6);for(const m of e.fontMatrix)d.setFloat64(h,m,!0),h+=8}else d.setUint8(h++,0),h+=8*6;if(Ae(h===l(de,Ph),"FontInfo.write: FontMatrix properties offset mismatch"),e.defaultVMetrics){d.setUint8(h++,1);for(const m of e.defaultVMetrics)d.setInt16(h,m,!0),h+=2}else d.setUint8(h++,0),h+=3*2;Ae(h===l(de,vs),"FontInfo.write: DefaultVMetrics properties offset mismatch"),d.setUint32(l(de,vs),0),h+=4;for(const m of de.strings){const b=r[m],g=b.length;d.setUint32(h,g),u.set(b,h+4),h+=4+g}if(d.setUint32(l(de,vs),h-l(de,vs)-4),!t)d.setUint32(h,0),h+=4;else{const m=t.byteLength;d.setUint32(h,m),Ae(h+4+m<=c.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),u.set(new Uint8Array(t),h+4),h+=4+m}if(!s)d.setUint32(h,0),h+=4;else{const m=s.byteLength;d.setUint32(h,m),Ae(h+4+m<=c.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),u.set(new Uint8Array(s),h+4),h+=4+m}return e.data===void 0?(d.setUint32(h,0),h+=4):(d.setUint32(h,e.data.length),u.set(e.data,h+4),h+=4+e.data.length),Ae(h<=c.byteLength,"FontInfo.write: Buffer overflow"),c.transferToFixedLength(h)}};Eh=new WeakMap,Ch=new WeakMap,Th=new WeakMap,Ph=new WeakMap,vs=new WeakMap,Pr=new WeakMap,bg=new WeakMap,Oe=new WeakMap,St=new WeakSet,Ci=function(e){Ae(e<de.bools.length,"Invalid boolean index");const t=Math.floor(e/4),s=e*2%8,i=l(this,Oe).getUint8(t)>>s&3;return i===0?void 0:i===2},n0=function(e){return Ae(e<de.numbers.length,"Invalid number index"),l(this,Oe).getFloat64(l(de,Eh)+e*8)},Np=function(e){Ae(e<de.strings.length,"Invalid string index");let t=l(de,vs)+4;for(let r=0;r<e;r++)t+=l(this,Oe).getUint32(t)+4;const s=l(this,Oe).getUint32(t),i=new Uint8Array(s);return i.set(new Uint8Array(l(this,Pr),t+4,s)),l(this,bg).decode(i)},V(de,"bools",["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"]),V(de,"numbers",["ascent","defaultWidth","descent"]),V(de,"strings",["fallbackName","loadedName","mimetype","name"]),S(de,Eh,Math.ceil(de.bools.length*2/8)),S(de,Ch,l(de,Eh)+de.numbers.length*8),S(de,Th,l(de,Ch)+1+2*4),S(de,Ph,l(de,Th)+1+8*6),S(de,vs,l(de,Ph)+1+2*3);let KA=de;var Ag,Sg;class dn{static get workerPort(){return l(this,Ag)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");w(this,Ag,e)}static get workerSrc(){return l(this,Sg)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");w(this,Sg,e)}}Ag=new WeakMap,Sg=new WeakMap,S(dn,Ag,null),S(dn,Sg,"");var kh,Eg;class P7{constructor({parsedData:e,rawData:t}){S(this,kh);S(this,Eg);w(this,kh,e),w(this,Eg,t)}getRaw(){return l(this,Eg)}get(e){return l(this,kh).get(e)??null}[Symbol.iterator](){return l(this,kh).entries()}}kh=new WeakMap,Eg=new WeakMap;const sd=Symbol("INTERNAL");var Cg,Tg,Pg,_h;class k7{constructor(e,{name:t,intent:s,usage:i,rbGroups:r}){S(this,Cg,!1);S(this,Tg,!1);S(this,Pg,!1);S(this,_h,!0);w(this,Cg,!!(e&Ns.DISPLAY)),w(this,Tg,!!(e&Ns.PRINT)),this.name=t,this.intent=s,this.usage=i,this.rbGroups=r}get visible(){if(l(this,Pg))return l(this,_h);if(!l(this,_h))return!1;const{print:e,view:t}=this.usage;return l(this,Cg)?(t==null?void 0:t.viewState)!=="OFF":l(this,Tg)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,s=!1){e!==sd&&He("Internal method `_setVisible` called."),w(this,Pg,s),w(this,_h,t)}}Cg=new WeakMap,Tg=new WeakMap,Pg=new WeakMap,_h=new WeakMap;var qa,je,Rh,Mh,kg,QA;class _7{constructor(e,t=Ns.DISPLAY){S(this,kg);S(this,qa,null);S(this,je,new Map);S(this,Rh,null);S(this,Mh,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,w(this,Mh,e.order);for(const s of e.groups)l(this,je).set(s.id,new k7(t,s));if(e.baseState==="OFF")for(const s of l(this,je).values())s._setVisible(sd,!1);for(const s of e.on)l(this,je).get(s)._setVisible(sd,!0);for(const s of e.off)l(this,je).get(s)._setVisible(sd,!1);w(this,Rh,this.getHash())}}isVisible(e){if(l(this,je).size===0)return!0;if(!e)return Tx("Optional content group not defined."),!0;if(e.type==="OCG")return l(this,je).has(e.id)?l(this,je).get(e.id).visible:(le(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return C(this,kg,QA).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!l(this,je).has(t))return le(`Optional content group not found: ${t}`),!0;if(l(this,je).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!l(this,je).has(t))return le(`Optional content group not found: ${t}`),!0;if(!l(this,je).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!l(this,je).has(t))return le(`Optional content group not found: ${t}`),!0;if(!l(this,je).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!l(this,je).has(t))return le(`Optional content group not found: ${t}`),!0;if(l(this,je).get(t).visible)return!1}return!0}return le(`Unknown optional content policy ${e.policy}.`),!0}return le(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,s=!0){var r;const i=l(this,je).get(e);if(!i){le(`Optional content group not found: ${e}`);return}if(s&&t&&i.rbGroups.length)for(const o of i.rbGroups)for(const a of o)a!==e&&((r=l(this,je).get(a))==null||r._setVisible(sd,!1,!0));i._setVisible(sd,!!t,!0),w(this,qa,null)}setOCGState({state:e,preserveRB:t}){let s;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":s=i;continue}const r=l(this,je).get(i);if(r)switch(s){case"ON":this.setVisibility(i,!0,t);break;case"OFF":this.setVisibility(i,!1,t);break;case"Toggle":this.setVisibility(i,!r.visible,t);break}}w(this,qa,null)}get hasInitialVisibility(){return l(this,Rh)===null||this.getHash()===l(this,Rh)}getOrder(){return l(this,je).size?l(this,Mh)?l(this,Mh).slice():[...l(this,je).keys()]:null}getGroup(e){return l(this,je).get(e)||null}getHash(){if(l(this,qa)!==null)return l(this,qa);const e=new rF;for(const[t,s]of l(this,je))e.update(`${t}:${s.visible}`);return w(this,qa,e.hexdigest())}[Symbol.iterator](){return l(this,je).entries()}}qa=new WeakMap,je=new WeakMap,Rh=new WeakMap,Mh=new WeakMap,kg=new WeakSet,QA=function(e){const t=e.length;if(t<2)return!0;const s=e[0];for(let i=1;i<t;i++){const r=e[i];let o;if(Array.isArray(r))o=C(this,kg,QA).call(this,r);else if(l(this,je).has(r))o=l(this,je).get(r).visible;else return le(`Optional content group not found: ${r}`),!0;switch(s){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return s==="And"};class R7{constructor(e,{disableRange:t=!1,disableStream:s=!1}){Ae(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:r,progressiveDone:o,contentDispositionFilename:a}=e;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=a,(r==null?void 0:r.length)>0){const c=r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength?r.buffer:new Uint8Array(r).buffer;this._queuedChunks.push(c)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!s,this._isRangeSupported=!t,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((c,u)=>{this._onReceiveData({begin:c,chunk:u})}),e.addProgressListener((c,u)=>{this._onProgress({loaded:c,total:u})}),e.addProgressiveReadListener(c=>{this._onReceiveData({chunk:c})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const s=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(s):this._queuedChunks.push(s);else{const i=this._rangeReaders.some(function(r){return r._begin!==e?!1:(r._enqueue(s),!0)});Ae(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,s,i,r;e.total===void 0?(s=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||s.call(t,{loaded:e.loaded}):(r=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||r.call(i,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){Ae(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new M7(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const s=new N7(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(s),s}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const s of this._rangeReaders.slice(0))s.cancel(e);this._pdfDataRangeTransport.abort()}}class M7{constructor(e,t,s=!1,i=null){this._stream=e,this._done=s||!1,this._filename=kx(i)?i:null,this._queuedChunks=t||[],this._loaded=0;for(const r of this._queuedChunks)this._loaded+=r.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class N7{constructor(e,t,s){this._stream=e,this._begin=t,this._end=s,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function D7(n){let e=!0,t=s("filename\\*","i").exec(n);if(t){t=t[1];let d=a(t);return d=unescape(d),d=c(d),d=u(d),r(d)}if(t=o(n),t){const d=u(t);return r(d)}if(t=s("filename","i").exec(n),t){t=t[1];let d=a(t);return d=u(d),r(d)}function s(d,h){return new RegExp("(?:^|;)\\s*"+d+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',h)}function i(d,h){if(d){if(!/^[\x00-\xFF]+$/.test(h))return h;try{const f=new TextDecoder(d,{fatal:!0}),p=Oy(h);h=f.decode(p),e=!1}catch{}}return h}function r(d){return e&&/[\x80-\xff]/.test(d)&&(d=i("utf-8",d),e&&(d=i("iso-8859-1",d))),d}function o(d){const h=[];let f;const p=s("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(f=p.exec(d))!==null;){let[,m,b,g]=f;if(m=parseInt(m,10),m in h){if(m===0)break;continue}h[m]=[b,g]}const y=[];for(let m=0;m<h.length&&m in h;++m){let[b,g]=h[m];g=a(g),b&&(g=unescape(g),m===0&&(g=c(g))),y.push(g)}return y.join("")}function a(d){if(d.startsWith('"')){const h=d.slice(1).split('\\"');for(let f=0;f<h.length;++f){const p=h[f].indexOf('"');p!==-1&&(h[f]=h[f].slice(0,p),h.length=f+1),h[f]=h[f].replaceAll(/\\(.)/g,"$1")}d=h.join('"')}return d}function c(d){const h=d.indexOf("'");if(h===-1)return d;const f=d.slice(0,h),y=d.slice(h+1).replace(/^[^']*'/,"");return i(f,y)}function u(d){return!d.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(d)?d:d.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(h,f,p,y){if(p==="q"||p==="Q")return y=y.replaceAll("_"," "),y=y.replaceAll(/=([0-9a-fA-F]{2})/g,function(m,b){return String.fromCharCode(parseInt(b,16))}),i(f,y);try{y=atob(y)}catch{}return i(f,y)})}return""}function vF(n,e){const t=new Headers;if(!n||!e||typeof e!="object")return t;for(const s in e){const i=e[s];i!==void 0&&t.append(s,i)}return t}function _x(n){var e;return((e=URL.parse(n))==null?void 0:e.origin)??null}function wF({responseHeaders:n,isHttp:e,rangeChunkSize:t,disableRange:s}){const i={allowRangeRequests:!1,suggestedLength:void 0},r=parseInt(n.get("Content-Length"),10);return!Number.isInteger(r)||(i.suggestedLength=r,r<=2*t)||s||!e||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function xF(n){const e=n.get("Content-Disposition");if(e){let t=D7(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(kx(t))return t}return null}function $y(n,e){return new Lm(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n,n===404||n===0&&e.startsWith("file:"))}function bF(n){return n===200||n===206}function AF(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function SF(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(le(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class L7{constructor(e){V(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=vF(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Ae(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new I7(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const s=new F7(this,e,t);return this._rangeRequestReaders.push(s),s}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const s of this._rangeRequestReaders.slice(0))s.cancel(e)}}class I7{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const s=new Headers(e.headers),i=t.url;fetch(i,AF(s,this._withCredentials,this._abortController)).then(r=>{if(e._responseOrigin=_x(r.url),!bF(r.status))throw $y(r.status,i);this._reader=r.body.getReader(),this._headersCapability.resolve();const o=r.headers,{allowRangeRequests:a,suggestedLength:c}=wF({responseHeaders:o,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=c||this._contentLength,this._filename=xF(o),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new na("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded,total:this._contentLength}),{value:SF(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class F7{constructor(e,t,s){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const r=new Headers(e.headers);r.append("Range",`bytes=${t}-${s-1}`);const o=i.url;fetch(o,AF(r,this._withCredentials,this._abortController)).then(a=>{const c=_x(a.url);if(c!==e._responseOrigin)throw new Error(`Expected range response-origin "${c}" to match "${e._responseOrigin}".`);if(!bF(a.status))throw $y(a.status,o);this._readCapability.resolve(),this._reader=a.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded}),{value:SF(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const Vb=200,$b=206;function O7(n){const e=n.response;return typeof e!="string"?e:Oy(e).buffer}class j7{constructor({url:e,httpHeaders:t,withCredentials:s}){V(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=vF(this.isHttp,t),this.withCredentials=s||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,s=this.currXhrId++,i=this.pendingRequests[s]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[r,o]of this.headers)t.setRequestHeader(r,o);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=$b):i.expectedStatus=Vb,t.responseType="arraybuffer",Ae(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,s),t.onprogress=this.onProgress.bind(this,s),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,t.send(null),s}onProgress(e,t){var i;const s=this.pendingRequests[e];s&&((i=s.onProgress)==null||i.call(s,t))}onStateChange(e,t){const s=this.pendingRequests[e];if(!s)return;const i=s.xhr;if(i.readyState>=2&&s.onHeadersReceived&&(s.onHeadersReceived(),delete s.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){s.onError(i.status);return}const r=i.status||Vb;if(!(r===Vb&&s.expectedStatus===$b)&&r!==s.expectedStatus){s.onError(i.status);return}const a=O7(i);if(r===$b){const c=i.getResponseHeader("Content-Range"),u=/bytes (\d+)-(\d+)\/(\d+)/.exec(c);u?s.onDone({begin:parseInt(u[1],10),chunk:a}):(le('Missing or invalid "Content-Range" header.'),s.onError(0))}else a?s.onDone({begin:0,chunk:a}):s.onError(i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class B7{constructor(e){this._source=e,this._manager=new j7(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return Ae(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new V7(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const s=new $7(this._manager,e,t);return s.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(s),s}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const s of this._rangeRequestReaders.slice(0))s.cancel(e)}}class V7{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=_x(t.responseURL);const s=t.getAllResponseHeaders(),i=new Headers(s?s.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(a=>{const[c,...u]=a.split(": ");return[c,u.join(": ")]}):[]),{allowRangeRequests:r,suggestedLength:o}=wF({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=xF(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=$y(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class $7{constructor(e,t,s){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:s,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var t;const e=_x((t=this._manager.getRequestXhr(this._requestId))==null?void 0:t.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=$y(e,this._url));for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const U7=/^[a-z][a-z0-9\-+.]+:/i;function z7(n){if(U7.test(n))return new URL(n);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(n))}class H7{constructor(e){this.source=e,this.url=z7(e.url),Ae(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Ae(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new W7(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const s=new G7(this,e,t);return this._rangeRequestReaders.push(s),s}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const s of this._rangeRequestReaders.slice(0))s.cancel(e)}}class W7{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const s=process.getBuiltinModule("fs");s.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(s.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=$y(0,this._url.href)),this._storedError=i,this._headersCapability.reject(i)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new na("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class G7{constructor(e,t,s){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=e.source;this._isStreamingSupported=!i.disableStream;const r=process.getBuiltinModule("fs");this._setReadableStream(r.createReadStream(this._url,{start:t,end:s-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const hp=Symbol("INITIAL_DATA");var ws,_g,ZA;class EF{constructor(){S(this,_g);S(this,ws,Object.create(null))}get(e,t=null){if(t){const i=C(this,_g,ZA).call(this,e);return i.promise.then(()=>t(i.data)),null}const s=l(this,ws)[e];if(!s||s.data===hp)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return s.data}has(e){const t=l(this,ws)[e];return!!t&&t.data!==hp}delete(e){const t=l(this,ws)[e];return!t||t.data===hp?!1:(delete l(this,ws)[e],!0)}resolve(e,t=null){const s=C(this,_g,ZA).call(this,e);s.data=t,s.resolve()}clear(){var e;for(const t in l(this,ws)){const{data:s}=l(this,ws)[t];(e=s==null?void 0:s.bitmap)==null||e.close()}w(this,ws,Object.create(null))}*[Symbol.iterator](){for(const e in l(this,ws)){const{data:t}=l(this,ws)[e];t!==hp&&(yield[e,t])}}}ws=new WeakMap,_g=new WeakSet,ZA=function(e){var t;return(t=l(this,ws))[e]||(t[e]={...Promise.withResolvers(),data:hp})};const q7=1e5,X_=30;var pR,Xa,ns,Rg,Mg,Gc,To,Ng,Dg,qc,Nh,Dh,Ya,Lh,Lg,Ih,Xc,Ig,Fg,bt,Fh,Yc,Og,Ka,Oh,ra,CF,TF,JA,Vs,s0,eS,PF,kF;let jm=(bt=class{constructor({textContentSource:e,container:t,viewport:s}){S(this,ra);S(this,Xa,Promise.withResolvers());S(this,ns,null);S(this,Rg,!1);S(this,Mg,!!((pR=globalThis.FontInspector)!=null&&pR.enabled));S(this,Gc,null);S(this,To,null);S(this,Ng,0);S(this,Dg,0);S(this,qc,null);S(this,Nh,null);S(this,Dh,0);S(this,Ya,0);S(this,Lh,Object.create(null));S(this,Lg,[]);S(this,Ih,null);S(this,Xc,[]);S(this,Ig,new WeakMap);S(this,Fg,null);var c;if(e instanceof ReadableStream)w(this,Ih,e);else if(typeof e=="object")w(this,Ih,new ReadableStream({start(u){u.enqueue(e),u.close()}}));else throw new Error('No "textContentSource" parameter specified.');w(this,ns,w(this,Nh,t)),w(this,Ya,s.scale*Ji.pixelRatio),w(this,Dh,s.rotation),w(this,To,{div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:r,pageX:o,pageY:a}=s.rawDims;w(this,Fg,[1,0,0,-1,-o,a+r]),w(this,Dg,i),w(this,Ng,r),C(c=bt,Vs,PF).call(c),Vl(t,s),l(this,Xa).promise.finally(()=>{l(bt,Oh).delete(this),w(this,To,null),w(this,Lh,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=Jt.platform;return fe(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{l(this,qc).read().then(({value:t,done:s})=>{if(s){l(this,Xa).resolve();return}l(this,Gc)??w(this,Gc,t.lang),Object.assign(l(this,Lh),t.styles),C(this,ra,CF).call(this,t.items),e()},l(this,Xa).reject)};return w(this,qc,l(this,Ih).getReader()),l(bt,Oh).add(this),e(),l(this,Xa).promise}update({viewport:e,onBefore:t=null}){var r;const s=e.scale*Ji.pixelRatio,i=e.rotation;if(i!==l(this,Dh)&&(t==null||t(),w(this,Dh,i),Vl(l(this,Nh),{rotation:i})),s!==l(this,Ya)){t==null||t(),w(this,Ya,s);const o={div:null,properties:null,ctx:C(r=bt,Vs,s0).call(r,l(this,Gc))};for(const a of l(this,Xc))o.properties=l(this,Ig).get(a),o.div=a,C(this,ra,JA).call(this,o)}}cancel(){var t;const e=new na("TextLayer task cancelled.");(t=l(this,qc))==null||t.cancel(e).catch(()=>{}),w(this,qc,null),l(this,Xa).reject(e)}get textDivs(){return l(this,Xc)}get textContentItemsStr(){return l(this,Lg)}static cleanup(){if(!(l(this,Oh).size>0)){l(this,Fh).clear();for(const{canvas:e}of l(this,Yc).values())e.remove();l(this,Yc).clear()}}},Xa=new WeakMap,ns=new WeakMap,Rg=new WeakMap,Mg=new WeakMap,Gc=new WeakMap,To=new WeakMap,Ng=new WeakMap,Dg=new WeakMap,qc=new WeakMap,Nh=new WeakMap,Dh=new WeakMap,Ya=new WeakMap,Lh=new WeakMap,Lg=new WeakMap,Ih=new WeakMap,Xc=new WeakMap,Ig=new WeakMap,Fg=new WeakMap,Fh=new WeakMap,Yc=new WeakMap,Og=new WeakMap,Ka=new WeakMap,Oh=new WeakMap,ra=new WeakSet,CF=function(e){var i,r;if(l(this,Rg))return;(r=l(this,To)).ctx??(r.ctx=C(i=bt,Vs,s0).call(i,l(this,Gc)));const t=l(this,Xc),s=l(this,Lg);for(const o of e){if(t.length>q7){le("Ignoring additional textDivs for performance reasons."),w(this,Rg,!0);return}if(o.str===void 0){if(o.type==="beginMarkedContentProps"||o.type==="beginMarkedContent"){const a=l(this,ns);w(this,ns,document.createElement("span")),l(this,ns).classList.add("markedContent"),o.id&&l(this,ns).setAttribute("id",`${o.id}`),a.append(l(this,ns))}else o.type==="endMarkedContent"&&w(this,ns,l(this,ns).parentNode);continue}s.push(o.str),C(this,ra,TF).call(this,o)}},TF=function(e){var m;const t=document.createElement("span"),s={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};l(this,Xc).push(t);const i=Q.transform(l(this,Fg),e.transform);let r=Math.atan2(i[1],i[0]);const o=l(this,Lh)[e.fontName];o.vertical&&(r+=Math.PI/2);let a=l(this,Mg)&&o.fontSubstitution||o.fontFamily;a=bt.fontFamilyMap.get(a)||a;const c=Math.hypot(i[2],i[3]),u=c*C(m=bt,Vs,kF).call(m,a,o,l(this,Gc));let d,h;r===0?(d=i[4],h=i[5]-u):(d=i[4]+u*Math.sin(r),h=i[5]-u*Math.cos(r));const f="calc(var(--total-scale-factor) *",p=t.style;l(this,ns)===l(this,Nh)?(p.left=`${(100*d/l(this,Dg)).toFixed(2)}%`,p.top=`${(100*h/l(this,Ng)).toFixed(2)}%`):(p.left=`${f}${d.toFixed(2)}px)`,p.top=`${f}${h.toFixed(2)}px)`),p.fontSize=`${f}${(l(bt,Ka)*c).toFixed(2)}px)`,p.fontFamily=a,s.fontSize=c,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,l(this,Mg)&&(t.dataset.fontName=o.fontSubstitutionLoadedName||e.fontName),r!==0&&(s.angle=r*(180/Math.PI));let y=!1;if(e.str.length>1)y=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const b=Math.abs(e.transform[0]),g=Math.abs(e.transform[3]);b!==g&&Math.max(b,g)/Math.min(b,g)>1.5&&(y=!0)}if(y&&(s.canvasWidth=o.vertical?e.height:e.width),l(this,Ig).set(t,s),l(this,To).div=t,l(this,To).properties=s,C(this,ra,JA).call(this,l(this,To)),s.hasText&&l(this,ns).append(t),s.hasEOL){const b=document.createElement("br");b.setAttribute("role","presentation"),l(this,ns).append(b)}},JA=function(e){var a;const{div:t,properties:s,ctx:i}=e,{style:r}=t;let o="";if(l(bt,Ka)>1&&(o=`scale(${1/l(bt,Ka)})`),s.canvasWidth!==0&&s.hasText){const{fontFamily:c}=r,{canvasWidth:u,fontSize:d}=s;C(a=bt,Vs,eS).call(a,i,d*l(this,Ya),c);const{width:h}=i.measureText(t.textContent);h>0&&(o=`scaleX(${u*l(this,Ya)/h}) ${o}`)}s.angle!==0&&(o=`rotate(${s.angle}deg) ${o}`),o.length>0&&(r.transform=o)},Vs=new WeakSet,s0=function(e=null){let t=l(this,Yc).get(e||(e=""));if(!t){const s=document.createElement("canvas");s.className="hiddenCanvasElement",s.lang=e,document.body.append(s),t=s.getContext("2d",{alpha:!1,willReadFrequently:!0}),l(this,Yc).set(e,t),l(this,Og).set(t,{size:0,family:""})}return t},eS=function(e,t,s){const i=l(this,Og).get(e);t===i.size&&s===i.family||(e.font=`${t}px ${s}`,i.size=t,i.family=s)},PF=function(){if(l(this,Ka)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),w(this,Ka,e.getBoundingClientRect().height),e.remove()},kF=function(e,t,s){const i=l(this,Fh).get(e);if(i)return i;const r=C(this,Vs,s0).call(this,s);r.canvas.width=r.canvas.height=X_,C(this,Vs,eS).call(this,r,X_,e);const o=r.measureText(""),a=o.fontBoundingBoxAscent,c=Math.abs(o.fontBoundingBoxDescent);r.canvas.width=r.canvas.height=0;let u=.8;return a?u=a/(a+c):(Jt.platform.isFirefox&&le("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?u=t.ascent:t.descent&&(u=1+t.descent)),l(this,Fh).set(e,u),u},S(bt,Vs),S(bt,Fh,new Map),S(bt,Yc,new Map),S(bt,Og,new WeakMap),S(bt,Ka,null),S(bt,Oh,new Set),bt);const X7=100;function JC(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const e=new tS,{docId:t}=e,s=n.url?n7(n.url):null,i=n.data?s7(n.data):null,r=n.httpHeaders||null,o=n.withCredentials===!0,a=n.password??null,c=n.range instanceof eT?n.range:null,u=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:2**16;let d=n.worker instanceof Df?n.worker:null;const h=n.verbosity,f=typeof n.docBaseUrl=="string"&&!By(n.docBaseUrl)?n.docBaseUrl:null,p=xv(n.cMapUrl),y=n.cMapPacked!==!1,m=n.CMapReaderFactory||(Vn?u7:L_),b=xv(n.iccUrl),g=xv(n.standardFontDataUrl),v=n.StandardFontDataFactory||(Vn?d7:I_),A=xv(n.wasmUrl),E=n.WasmFactory||(Vn?h7:F_),T=n.stopAtErrors!==!0,k=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,_=n.isEvalSupported!==!1,R=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!Vn,M=typeof n.isImageDecoderSupported=="boolean"?n.isImageDecoderSupported:!Vn&&(Jt.platform.isFirefox||!globalThis.chrome),N=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,L=typeof n.disableFontFace=="boolean"?n.disableFontFace:Vn,O=n.fontExtraProperties===!0,U=n.enableXfa===!0,I=n.ownerDocument||globalThis.document,W=n.disableRange===!0,B=n.disableStream===!0,j=n.disableAutoFetch===!0,D=n.pdfBug===!0,F=n.CanvasFactory||(Vn?c7:o7),z=n.FilterFactory||(Vn?l7:a7),te=n.enableHWA===!0,G=n.useWasm!==!1,X=c?c.length:n.length??NaN,se=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!Vn&&!L,ye=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:!!(m===L_&&v===I_&&E===F_&&p&&g&&A&&xp(p,document.baseURI)&&xp(g,document.baseURI)&&xp(A,document.baseURI)),Se=null;OG(h);const ne={canvasFactory:new F({ownerDocument:I,enableHWA:te}),filterFactory:new z({docId:t,ownerDocument:I}),cMapReaderFactory:ye?null:new m({baseUrl:p,isCompressed:y}),standardFontDataFactory:ye?null:new v({baseUrl:g}),wasmFactory:ye?null:new E({baseUrl:A})};d||(d=Df.create({verbosity:h,port:dn.workerPort}),e._worker=d);const Mn={docId:t,apiVersion:"5.4.296",data:i,password:a,disableAutoFetch:j,rangeChunkSize:u,length:X,docBaseUrl:f,enableXfa:U,evaluatorOptions:{maxImageSize:k,disableFontFace:L,ignoreErrors:T,isEvalSupported:_,isOffscreenCanvasSupported:R,isImageDecoderSupported:M,canvasMaxAreaInBytes:N,fontExtraProperties:O,useSystemFonts:se,useWasm:G,useWorkerFetch:ye,cMapUrl:p,iccUrl:b,standardFontDataUrl:g,wasmUrl:A}},pt={ownerDocument:I,pdfBug:D,styleElement:Se,loadingParams:{disableAutoFetch:j,enableXfa:U}};return d.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const be=d.messageHandler.sendWithPromise("GetDocRequest",Mn,i?[i.buffer]:null);let mt;if(c)mt=new R7(c,{disableRange:W,disableStream:B});else if(!i){if(!s)throw new Error("getDocument - no `url` parameter provided.");const mn=xp(s)?L7:Vn?H7:B7;mt=new mn({url:s,length:X,httpHeaders:r,withCredentials:o,rangeChunkSize:u,disableRange:W,disableStream:B})}return be.then(mn=>{if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const ge=new Tp(t,mn,d.port),Re=new Q7(ge,e,mt,pt,ne,te);e._transport=Re,ge.send("Ready",null)})}).catch(e._capability.reject),e}var Dw;const Lw=class Lw{constructor(){V(this,"_capability",Promise.withResolvers());V(this,"_transport",null);V(this,"_worker",null);V(this,"docId",`d${gt(Lw,Dw)._++}`);V(this,"destroyed",!1);V(this,"onPassword",null);V(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var e,t,s,i;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(r){throw(s=this._worker)!=null&&s.port&&delete this._worker._pendingDestroy,r}this._transport=null,(i=this._worker)==null||i.destroy(),this._worker=null}async getData(){return this._transport.getData()}};Dw=new WeakMap,S(Lw,Dw,0);let tS=Lw;var Kc,jg,Bg,Vg,$g,mR;let eT=(mR=class{constructor(e,t,s=!1,i=null){S(this,Kc,Promise.withResolvers());S(this,jg,[]);S(this,Bg,[]);S(this,Vg,[]);S(this,$g,[]);this.length=e,this.initialData=t,this.progressiveDone=s,this.contentDispositionFilename=i}addRangeListener(e){l(this,$g).push(e)}addProgressListener(e){l(this,Vg).push(e)}addProgressiveReadListener(e){l(this,Bg).push(e)}addProgressiveDoneListener(e){l(this,jg).push(e)}onDataRange(e,t){for(const s of l(this,$g))s(e,t)}onDataProgress(e,t){l(this,Kc).promise.then(()=>{for(const s of l(this,Vg))s(e,t)})}onDataProgressiveRead(e){l(this,Kc).promise.then(()=>{for(const t of l(this,Bg))t(e)})}onDataProgressiveDone(){l(this,Kc).promise.then(()=>{for(const e of l(this,jg))e()})}transportReady(){l(this,Kc).resolve()}requestDataRange(e,t){He("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}},Kc=new WeakMap,jg=new WeakMap,Bg=new WeakMap,Vg=new WeakMap,$g=new WeakMap,mR);class Y7{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return fe(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(e,t){return this._transport.getAnnotationsByType(e,t)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Po,Qc,Dp;class K7{constructor(e,t,s,i=!1){S(this,Qc);S(this,Po,!1);this._pageIndex=e,this._pageInfo=t,this._transport=s,this._stats=i?new P_:null,this._pdfBug=i,this.commonObjs=s.commonObjs,this.objs=new EF,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:s=0,offsetY:i=0,dontFlip:r=!1}={}){return new jy({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:s,offsetY:i,dontFlip:r})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return fe(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,canvas:t=e.canvas,viewport:s,intent:i="display",annotationMode:r=Br.ENABLE,transform:o=null,background:a=null,optionalContentConfigPromise:c=null,annotationCanvasMap:u=null,pageColors:d=null,printAnnotationStorage:h=null,isEditing:f=!1,recordOperations:p=!1,operationsFilter:y=null}){var M,N,L;(M=this._stats)==null||M.time("Overall");const m=this._transport.getRenderingIntent(i,r,h,f),{renderingIntent:b,cacheKey:g}=m;w(this,Po,!1),c||(c=this._transport.getOptionalContentConfig(b));let v=this._intentStates.get(g);v||(v=Object.create(null),this._intentStates.set(g,v)),v.streamReaderCancelTimeout&&(clearTimeout(v.streamReaderCancelTimeout),v.streamReaderCancelTimeout=null);const A=!!(b&Ns.PRINT);v.displayReadyCapability||(v.displayReadyCapability=Promise.withResolvers(),v.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(N=this._stats)==null||N.time("Page Request"),this._pumpOperatorList(m));const E=!!(this._pdfBug&&((L=globalThis.StepperManager)!=null&&L.enabled)),T=!this.recordedBBoxes&&(p||E),k=O=>{var U,I;if(v.renderTasks.delete(_),T){const W=(U=_.gfx)==null?void 0:U.dependencyTracker.take();W&&(_.stepper&&_.stepper.setOperatorBBoxes(W,_.gfx.dependencyTracker.takeDebugMetadata()),p&&(this.recordedBBoxes=W))}A&&w(this,Po,!0),C(this,Qc,Dp).call(this),O?(_.capability.reject(O),this._abortOperatorList({intentState:v,reason:O instanceof Error?O:new Error(O)})):_.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(I=globalThis.Stats)!=null&&I.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},_=new nS({callback:k,params:{canvas:t,canvasContext:e,dependencyTracker:T?new p7(t,v.operatorList.length,E):null,viewport:s,transform:o,background:a},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:u,operatorList:v.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!A,pdfBug:this._pdfBug,pageColors:d,enableHWA:this._transport.enableHWA,operationsFilter:y});(v.renderTasks||(v.renderTasks=new Set)).add(_);const R=_.task;return Promise.all([v.displayReadyCapability.promise,c]).then(([O,U])=>{var I;if(this.destroyed){k();return}if((I=this._stats)==null||I.time("Rendering"),!(U.renderingIntent&b))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");_.initializeGraphics({transparency:O,optionalContentConfig:U}),_.operatorListChanged()}).catch(k),R}getOperatorList({intent:e="display",annotationMode:t=Br.ENABLE,printAnnotationStorage:s=null,isEditing:i=!1}={}){var u;function r(){a.operatorList.lastChunk&&(a.opListReadCapability.resolve(a.operatorList),a.renderTasks.delete(c))}const o=this._transport.getRenderingIntent(e,t,s,i,!0);let a=this._intentStates.get(o.cacheKey);a||(a=Object.create(null),this._intentStates.set(o.cacheKey,a));let c;return a.opListReadCapability||(c=Object.create(null),c.operatorListChanged=r,a.opListReadCapability=Promise.withResolvers(),(a.renderTasks||(a.renderTasks=new Set)).add(c),a.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(u=this._stats)==null||u.time("Page Request"),this._pumpOperatorList(o)),a.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(s=>Im.textContent(s));const t=this.streamTextContent(e);return new Promise(function(s,i){function r(){o.read().then(function({value:c,done:u}){if(u){s(a);return}a.lang??(a.lang=c.lang),Object.assign(a.styles,c.styles),a.items.push(...c.items),r()},i)}const o=t.getReader(),a={items:[],styles:Object.create(null),lang:null};r()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const s of t.renderTasks)e.push(s.completed),s.cancel();return this.objs.clear(),w(this,Po,!1),Promise.all(e)}cleanup(e=!1){w(this,Po,!0);const t=C(this,Qc,Dp).call(this);return e&&t&&this._stats&&(this._stats=new P_),t}_startRenderPage(e,t){var i,r;const s=this._intentStates.get(t);s&&((i=this._stats)==null||i.timeEnd("Page Request"),(r=s.displayReadyCapability)==null||r.resolve(e))}_renderPageChunk(e,t){for(let s=0,i=e.length;s<i;s++)t.operatorList.fnArray.push(e.fnArray[s]),t.operatorList.argsArray.push(e.argsArray[s]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const s of t.renderTasks)s.operatorListChanged();e.lastChunk&&C(this,Qc,Dp).call(this)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:s,modifiedIds:i}){const{map:r,transfer:o}=s,c=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:r,modifiedIds:i},o).getReader(),u=this._intentStates.get(t);u.streamReader=c;const d=()=>{c.read().then(({value:h,done:f})=>{if(f){u.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(h,u),d())},h=>{if(u.streamReader=null,!this._transport.destroyed){if(u.operatorList){u.operatorList.lastChunk=!0;for(const f of u.renderTasks)f.operatorListChanged();C(this,Qc,Dp).call(this)}if(u.displayReadyCapability)u.displayReadyCapability.reject(h);else if(u.opListReadCapability)u.opListReadCapability.reject(h);else throw h}})};d()}_abortOperatorList({intentState:e,reason:t,force:s=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!s){if(e.renderTasks.size>0)return;if(t instanceof Px){let i=X7;t.extraDelay>0&&t.extraDelay<1e3&&(i+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},i);return}}if(e.streamReader.cancel(new na(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,r]of this._intentStates)if(r===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}Po=new WeakMap,Qc=new WeakSet,Dp=function(){if(!l(this,Po)||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),w(this,Po,!1),!0};var Qa,Oi,ko,Zc,Iw,Jc,eu,Hn,i0,_F,RF,Lp,jh,r0;const Je=class Je{constructor({name:e=null,port:t=null,verbosity:s=jG()}={}){S(this,Hn);S(this,Qa,Promise.withResolvers());S(this,Oi,null);S(this,ko,null);S(this,Zc,null);if(this.name=e,this.destroyed=!1,this.verbosity=s,t){if(l(Je,eu).has(t))throw new Error("Cannot use more than one PDFWorker per port.");l(Je,eu).set(t,this),C(this,Hn,_F).call(this,t)}else C(this,Hn,RF).call(this)}get promise(){return l(this,Qa).promise}get port(){return l(this,ko)}get messageHandler(){return l(this,Oi)}destroy(){var e,t;this.destroyed=!0,(e=l(this,Zc))==null||e.terminate(),w(this,Zc,null),l(Je,eu).delete(l(this,ko)),w(this,ko,null),(t=l(this,Oi))==null||t.destroy(),w(this,Oi,null)}static create(e){const t=l(this,eu).get(e==null?void 0:e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new Je(e)}static get workerSrc(){if(dn.workerSrc)return dn.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return fe(this,"_setupFakeWorkerGlobal",(async()=>l(this,jh,r0)?l(this,jh,r0):(await import(this.workerSrc)).WorkerMessageHandler)())}};Qa=new WeakMap,Oi=new WeakMap,ko=new WeakMap,Zc=new WeakMap,Iw=new WeakMap,Jc=new WeakMap,eu=new WeakMap,Hn=new WeakSet,i0=function(){l(this,Qa).resolve(),l(this,Oi).send("configure",{verbosity:this.verbosity})},_F=function(e){w(this,ko,e),w(this,Oi,new Tp("main","worker",e)),l(this,Oi).on("ready",()=>{}),C(this,Hn,i0).call(this)},RF=function(){if(l(Je,Jc)||l(Je,jh,r0)){C(this,Hn,Lp).call(this);return}let{workerSrc:e}=Je;try{Je._isSameOrigin(window.location,e)||(e=Je._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),s=new Tp("main","worker",t),i=()=>{r.abort(),s.destroy(),t.terminate(),this.destroyed?l(this,Qa).reject(new Error("Worker was destroyed")):C(this,Hn,Lp).call(this)},r=new AbortController;t.addEventListener("error",()=>{l(this,Zc)||i()},{signal:r.signal}),s.on("test",a=>{if(r.abort(),this.destroyed||!a){i();return}w(this,Oi,s),w(this,ko,t),w(this,Zc,t),C(this,Hn,i0).call(this)}),s.on("ready",a=>{if(r.abort(),this.destroyed){i();return}try{o()}catch{C(this,Hn,Lp).call(this)}});const o=()=>{const a=new Uint8Array;s.send("test",a,[a.buffer])};o();return}catch{Tx("The worker has been disabled.")}C(this,Hn,Lp).call(this)},Lp=function(){l(Je,Jc)||(le("Setting up fake worker."),w(Je,Jc,!0)),Je._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){l(this,Qa).reject(new Error("Worker was destroyed"));return}const t=new r7;w(this,ko,t);const s=`fake${gt(Je,Iw)._++}`,i=new Tp(s+"_worker",s,t);e.setup(i,t),w(this,Oi,new Tp(s,s+"_worker",t)),C(this,Hn,i0).call(this)}).catch(e=>{l(this,Qa).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},jh=new WeakSet,r0=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},S(Je,jh),S(Je,Iw,0),S(Je,Jc,!1),S(Je,eu,new WeakMap),Vn&&(w(Je,Jc,!0),dn.workerSrc||(dn.workerSrc="./pdf.worker.mjs")),Je._isSameOrigin=(e,t)=>{const s=URL.parse(e);if(!(s!=null&&s.origin)||s.origin==="null")return!1;const i=new URL(t,s);return s.origin===i.origin},Je._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},Je.fromPort=e=>{if(qG("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return Je.create(e)};let Df=Je;var _o,kr,Bh,Vh,Ro,tu,Ip;class Q7{constructor(e,t,s,i,r,o){S(this,tu);S(this,_o,new Map);S(this,kr,new Map);S(this,Bh,new Map);S(this,Vh,new Map);S(this,Ro,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new EF,this.fontLoader=new e7({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=r.canvasFactory,this.filterFactory=r.filterFactory,this.cMapReaderFactory=r.cMapReaderFactory,this.standardFontDataFactory=r.standardFontDataFactory,this.wasmFactory=r.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=s,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=o,this.setupMessageHandler()}get annotationStorage(){return fe(this,"annotationStorage",new KC)}getRenderingIntent(e,t=Br.ENABLE,s=null,i=!1,r=!1){let o=Ns.DISPLAY,a=BA;switch(e){case"any":o=Ns.ANY;break;case"display":break;case"print":o=Ns.PRINT;break;default:le(`getRenderingIntent - invalid intent: ${e}`)}const c=o&Ns.PRINT&&s instanceof aF?s:this.annotationStorage;switch(t){case Br.DISABLE:o+=Ns.ANNOTATIONS_DISABLE;break;case Br.ENABLE:break;case Br.ENABLE_FORMS:o+=Ns.ANNOTATIONS_FORMS;break;case Br.ENABLE_STORAGE:o+=Ns.ANNOTATIONS_STORAGE,a=c.serializable;break;default:le(`getRenderingIntent - invalid annotationMode: ${t}`)}i&&(o+=Ns.IS_EDITING),r&&(o+=Ns.OPLIST);const{ids:u,hash:d}=c.modifiedIds,h=[o,a.hash,d];return{renderingIntent:o,cacheKey:h.join("_"),annotationStorageSerializable:a,modifiedIds:u}}destroy(){var s;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(s=l(this,Ro))==null||s.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of l(this,kr).values())e.push(i._destroy());l(this,kr).clear(),l(this,Bh).clear(),l(this,Vh).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var i,r;this.commonObjs.clear(),this.fontLoader.clear(),l(this,_o).clear(),this.filterFactory.destroy(),jm.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new na("Worker was terminated.")),(r=this.messageHandler)==null||r.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(s,i)=>{Ae(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=r=>{this._lastProgress={loaded:r.loaded,total:r.total}},i.onPull=()=>{this._fullReader.read().then(function({value:r,done:o}){if(o){i.close();return}Ae(r instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(r),1,[r])}).catch(r=>{i.error(r)})},i.onCancel=r=>{this._fullReader.cancel(r),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("ReaderHeadersReady",async s=>{var a;await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:r,contentLength:o}=this._fullReader;return(!i||!r)&&(this._lastProgress&&((a=t.onProgress)==null||a.call(t,this._lastProgress)),this._fullReader.onProgress=c=>{var u;(u=t.onProgress)==null||u.call(t,{loaded:c.loaded,total:c.total})}),{isStreamingSupported:i,isRangeSupported:r,contentLength:o}}),e.on("GetRangeReader",(s,i)=>{Ae(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const r=this._networkStream.getRangeReader(s.begin,s.end);if(!r){i.close();return}i.onPull=()=>{r.read().then(function({value:o,done:a}){if(a){i.close();return}Ae(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{i.error(o)})},i.onCancel=o=>{r.cancel(o),i.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("GetDoc",({pdfInfo:s})=>{this._numPages=s.numPages,this._htmlForXfa=s.htmlForXfa,delete s.htmlForXfa,t._capability.resolve(new Y7(s,this))}),e.on("DocException",s=>{t._capability.reject(Kn(s))}),e.on("PasswordRequest",s=>{w(this,Ro,Promise.withResolvers());try{if(!t.onPassword)throw Kn(s);const i=r=>{r instanceof Error?l(this,Ro).reject(r):l(this,Ro).resolve({password:r})};t.onPassword(i,s.code)}catch(i){l(this,Ro).reject(i)}return l(this,Ro).promise}),e.on("DataLoaded",s=>{var i;(i=t.onProgress)==null||i.call(t,{loaded:s.length,total:s.length}),this.downloadInfoCapability.resolve(s)}),e.on("StartRenderPage",s=>{if(this.destroyed)return;l(this,kr).get(s.pageIndex)._startRenderPage(s.transparency,s.cacheKey)}),e.on("commonobj",([s,i,r])=>{var o;if(this.destroyed||this.commonObjs.has(s))return null;switch(i){case"Font":if("error"in r){const h=r.error;le(`Error during font loading: ${h}`),this.commonObjs.resolve(s,h);break}const a=new KA(r),c=this._params.pdfBug&&((o=globalThis.FontInspector)!=null&&o.enabled)?(h,f)=>globalThis.FontInspector.fontAdded(h,f):null,u=new t7(a,c,r.extra,r.charProcOperatorList);this.fontLoader.bind(u).catch(()=>e.sendWithPromise("FontFallback",{id:s})).finally(()=>{!u.fontExtraProperties&&u.data&&u.clearData(),this.commonObjs.resolve(s,u)});break;case"CopyLocalImage":const{imageRef:d}=r;Ae(d,"The imageRef must be defined.");for(const h of l(this,kr).values())for(const[,f]of h.objs)if((f==null?void 0:f.ref)===d)return f.dataLen?(this.commonObjs.resolve(s,structuredClone(f)),f.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(s,r);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([s,i,r,o])=>{var c;if(this.destroyed)return;const a=l(this,kr).get(i);if(!a.objs.has(s)){if(a._intentStates.size===0){(c=o==null?void 0:o.bitmap)==null||c.close();return}switch(r){case"Image":case"Pattern":a.objs.resolve(s,o);break;default:throw new Error(`Got unknown object type ${r}`)}}}),e.on("DocProgress",s=>{var i;this.destroyed||(i=t.onProgress)==null||i.call(t,{loaded:s.loaded,total:s.total})}),e.on("FetchBinaryData",async s=>{if(this.destroyed)throw new Error("Worker was destroyed.");const i=this[s.type];if(!i)throw new Error(`${s.type} not initialized, see the \`useWorkerFetch\` parameter.`);return i.fetch(s)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var s;this.annotationStorage.size<=0&&le("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((s=this._fullReader)==null?void 0:s.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,s=l(this,Bh).get(t);if(s)return s;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(r=>{if(this.destroyed)throw new Error("Transport destroyed");r.refStr&&l(this,Vh).set(r.refStr,e);const o=new K7(t,r,this,this._params.pdfBug);return l(this,kr).set(t,o),o});return l(this,Bh).set(t,i),i}getPageIndex(e){return VA(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return C(this,tu,Ip).call(this,"GetFieldObjects")}hasJSActions(){return C(this,tu,Ip).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(e,t){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:e,pageIndexesToSkip:t})}getDocJSActions(){return C(this,tu,Ip).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return C(this,tu,Ip).call(this,"GetOptionalContentConfig").then(t=>new _7(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=l(this,_o).get(e);if(t)return t;const s=this.messageHandler.sendWithPromise(e,null).then(i=>{var r,o;return{info:i[0],metadata:i[1]?new P7(i[1]):null,contentDispositionFilename:((r=this._fullReader)==null?void 0:r.filename)??null,contentLength:((o=this._fullReader)==null?void 0:o.contentLength)??null}});return l(this,_o).set(e,s),s}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of l(this,kr).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),l(this,_o).clear(),this.filterFactory.destroy(!0),jm.cleanup()}}cachedPageNumber(e){if(!VA(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return l(this,Vh).get(t)??null}}_o=new WeakMap,kr=new WeakMap,Bh=new WeakMap,Vh=new WeakMap,Ro=new WeakMap,tu=new WeakSet,Ip=function(e,t=null){const s=l(this,_o).get(e);if(s)return s;const i=this.messageHandler.sendWithPromise(e,t);return l(this,_o).set(e,i),i};var Za;class Z7{constructor(e){S(this,Za,null);V(this,"onContinue",null);V(this,"onError",null);w(this,Za,e)}get promise(){return l(this,Za).capability.promise}cancel(e=0){l(this,Za).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=l(this,Za).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=l(this,Za);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}Za=new WeakMap;var Ja,nu;const rc=class rc{constructor({callback:e,params:t,objs:s,commonObjs:i,annotationCanvasMap:r,operatorList:o,pageIndex:a,canvasFactory:c,filterFactory:u,useRequestAnimationFrame:d=!1,pdfBug:h=!1,pageColors:f=null,enableHWA:p=!1,operationsFilter:y=null}){S(this,Ja,null);this.callback=e,this.params=t,this.objs=s,this.commonObjs=i,this.annotationCanvasMap=r,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=a,this.canvasFactory=c,this.filterFactory=u,this._pdfBug=h,this.pageColors=f,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=d===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new Z7(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvas,this._canvasContext=t.canvas?null:t.canvasContext,this._enableHWA=p,this._dependencyTracker=t.dependencyTracker,this._operationsFilter=y}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var c,u;if(this.cancelled)return;if(this._canvas){if(l(rc,nu).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");l(rc,nu).add(this._canvas)}this._pdfBug&&((c=globalThis.StepperManager)!=null&&c.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:s,transform:i,background:r,dependencyTracker:o}=this.params,a=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new Od(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors,o),this.gfx.beginDrawing({transform:i,viewport:s,transparency:e,background:r}),this.operatorListIdx=0,this.graphicsReady=!0,(u=this.graphicsReadyCallback)==null||u.call(this)}cancel(e=null,t=0){var s,i,r;this.running=!1,this.cancelled=!0,(s=this.gfx)==null||s.endDrawing(),l(this,Ja)&&(window.cancelAnimationFrame(l(this,Ja)),w(this,Ja,null)),l(rc,nu).delete(this._canvas),e||(e=new Px(`Rendering cancelled, page ${this._pageIndex+1}`,t)),this.callback(e),(r=(i=this.task).onError)==null||r.call(i,e)}operatorListChanged(){var e,t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.gfx.dependencyTracker)==null||e.growOperationsCount(this.operatorList.fnArray.length),(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?w(this,Ja,window.requestAnimationFrame(()=>{w(this,Ja,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),l(rc,nu).delete(this._canvas),this.callback())))}};Ja=new WeakMap,nu=new WeakMap,S(rc,nu,new WeakSet);let nS=rc;const Xl="5.4.296",MF="f56dc8601";var xs,su,$h,jt,Ug,Uh,Mo,zg,el,ji,Hg,Be,sS,iS,rS,tc,NF,ya;const Qn=class Qn{constructor({editor:e=null,uiManager:t=null}){S(this,Be);S(this,xs,null);S(this,su,null);S(this,$h);S(this,jt,null);S(this,Ug,!1);S(this,Uh,!1);S(this,Mo,null);S(this,zg);S(this,el,null);S(this,ji,null);var s,i;e?(w(this,Uh,!1),w(this,Mo,e)):w(this,Uh,!0),w(this,ji,(e==null?void 0:e._uiManager)||t),w(this,zg,l(this,ji)._eventBus),w(this,$h,((s=e==null?void 0:e.color)==null?void 0:s.toUpperCase())||((i=l(this,ji))==null?void 0:i.highlightColors.values().next().value)||"#FFFF98"),l(Qn,Hg)||w(Qn,Hg,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return fe(this,"_keyboardManager",new Vy([[["Escape","mac+Escape"],Qn.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Qn.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Qn.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Qn.prototype._moveToPrevious],[["Home","mac+Home"],Qn.prototype._moveToBeginning],[["End","mac+End"],Qn.prototype._moveToEnd]]))}renderButton(){const e=w(this,xs,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",l(this,Mo)&&(e.ariaControls=`${l(this,Mo).id}_colorpicker_dropdown`);const t=l(this,ji)._signal;e.addEventListener("click",C(this,Be,tc).bind(this),{signal:t}),e.addEventListener("keydown",C(this,Be,rS).bind(this),{signal:t});const s=w(this,su,document.createElement("span"));return s.className="swatch",s.ariaHidden="true",s.style.backgroundColor=l(this,$h),e.append(s),e}renderMainDropdown(){const e=w(this,jt,C(this,Be,sS).call(this));return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}_colorSelectFromKeyboard(e){if(e.target===l(this,xs)){C(this,Be,tc).call(this,e);return}const t=e.target.getAttribute("data-color");t&&C(this,Be,iS).call(this,t,e)}_moveToNext(e){var t,s;if(!l(this,Be,ya)){C(this,Be,tc).call(this,e);return}if(e.target===l(this,xs)){(t=l(this,jt).firstChild)==null||t.focus();return}(s=e.target.nextSibling)==null||s.focus()}_moveToPrevious(e){var t,s;if(e.target===((t=l(this,jt))==null?void 0:t.firstChild)||e.target===l(this,xs)){l(this,Be,ya)&&this._hideDropdownFromKeyboard();return}l(this,Be,ya)||C(this,Be,tc).call(this,e),(s=e.target.previousSibling)==null||s.focus()}_moveToBeginning(e){var t;if(!l(this,Be,ya)){C(this,Be,tc).call(this,e);return}(t=l(this,jt).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!l(this,Be,ya)){C(this,Be,tc).call(this,e);return}(t=l(this,jt).lastChild)==null||t.focus()}hideDropdown(){var e,t;(e=l(this,jt))==null||e.classList.add("hidden"),l(this,xs).ariaExpanded="false",(t=l(this,el))==null||t.abort(),w(this,el,null)}_hideDropdownFromKeyboard(){var e;if(!l(this,Uh)){if(!l(this,Be,ya)){(e=l(this,Mo))==null||e.unselect();return}this.hideDropdown(),l(this,xs).focus({preventScroll:!0,focusVisible:l(this,Ug)})}}updateColor(e){if(l(this,su)&&(l(this,su).style.backgroundColor=e),!l(this,jt))return;const t=l(this,ji).highlightColors.values();for(const s of l(this,jt).children)s.ariaSelected=t.next().value===e.toUpperCase()}destroy(){var e,t;(e=l(this,xs))==null||e.remove(),w(this,xs,null),w(this,su,null),(t=l(this,jt))==null||t.remove(),w(this,jt,null)}};xs=new WeakMap,su=new WeakMap,$h=new WeakMap,jt=new WeakMap,Ug=new WeakMap,Uh=new WeakMap,Mo=new WeakMap,zg=new WeakMap,el=new WeakMap,ji=new WeakMap,Hg=new WeakMap,Be=new WeakSet,sS=function(){const e=document.createElement("div"),t=l(this,ji)._signal;e.addEventListener("contextmenu",zs,{signal:t}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),l(this,Mo)&&(e.id=`${l(this,Mo).id}_colorpicker_dropdown`);for(const[s,i]of l(this,ji).highlightColors){const r=document.createElement("button");r.tabIndex="0",r.role="option",r.setAttribute("data-color",i),r.title=s,r.setAttribute("data-l10n-id",l(Qn,Hg)[s]);const o=document.createElement("span");r.append(o),o.className="swatch",o.style.backgroundColor=i,r.ariaSelected=i===l(this,$h),r.addEventListener("click",C(this,Be,iS).bind(this,i),{signal:t}),e.append(r)}return e.addEventListener("keydown",C(this,Be,rS).bind(this),{signal:t}),e},iS=function(e,t){t.stopPropagation(),l(this,zg).dispatch("switchannotationeditorparams",{source:this,type:xe.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)},rS=function(e){Qn._keyboardManager.exec(this,e)},tc=function(e){if(l(this,Be,ya)){this.hideDropdown();return}if(w(this,Ug,e.detail===0),l(this,el)||(w(this,el,new AbortController),window.addEventListener("pointerdown",C(this,Be,NF).bind(this),{signal:l(this,ji).combinedSignal(l(this,el))})),l(this,xs).ariaExpanded="true",l(this,jt)){l(this,jt).classList.remove("hidden");return}const t=w(this,jt,C(this,Be,sS).call(this));l(this,xs).append(t)},NF=function(e){var t;(t=l(this,jt))!=null&&t.contains(e.target)||this.hideDropdown()},ya=function(){return l(this,jt)&&!l(this,jt).classList.contains("hidden")},S(Qn,Hg,null);let Bm=Qn;var _r,Wg,zh,Gg;const oc=class oc{constructor(e){S(this,_r,null);S(this,Wg,null);S(this,zh,null);w(this,Wg,e),w(this,zh,e._uiManager),l(oc,Gg)||w(oc,Gg,Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"}))}renderButton(){if(l(this,_r))return l(this,_r);const{editorType:e,colorType:t,colorValue:s}=l(this,Wg),i=w(this,_r,document.createElement("input"));return i.type="color",i.value=s||"#000000",i.className="basicColorPicker",i.tabIndex=0,i.setAttribute("data-l10n-id",l(oc,Gg)[e]),i.addEventListener("input",()=>{l(this,zh).updateParams(t,i.value)},{signal:l(this,zh)._signal}),i}update(e){l(this,_r)&&(l(this,_r).value=e)}destroy(){var e;(e=l(this,_r))==null||e.remove(),w(this,_r,null)}hideDropdown(){}};_r=new WeakMap,Wg=new WeakMap,zh=new WeakMap,Gg=new WeakMap,S(oc,Gg,null);let vw=oc;function Y_(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function fp(n){return Math.max(0,Math.min(255,255*n))}class K_{static CMYK_G([e,t,s,i]){return["G",1-Math.min(1,.3*e+.59*s+.11*t+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=fp(e),[e,e,e]}static G_HTML([e]){const t=Y_(e);return`#${t}${t}${t}`}static RGB_G([e,t,s]){return["G",.3*e+.59*t+.11*s]}static RGB_rgb(e){return e.map(fp)}static RGB_HTML(e){return`#${e.map(Y_).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,s,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,s+i),1-Math.min(1,t+i)]}static CMYK_rgb([e,t,s,i]){return[fp(1-Math.min(1,e+i)),fp(1-Math.min(1,s+i)),fp(1-Math.min(1,t+i))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,s]){const i=1-e,r=1-t,o=1-s,a=Math.min(i,r,o);return["CMYK",i,r,o,a]}}class J7{create(e,t,s=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),s||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${t}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${t}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){He("Abstract method `_createSVG` called.")}}class Vm extends J7{_createSVG(e){return document.createElementNS(eo,e)}}const e9=9,Vu=new WeakSet,t9=new Date().getTimezoneOffset()*60*1e3;class Q_{static create(e){switch(e.data.annotationType){case Ct.LINK:return new tT(e);case Ct.TEXT:return new s9(e);case Ct.WIDGET:switch(e.data.fieldType){case"Tx":return new i9(e);case"Btn":return e.data.radioButton?new IF(e):e.data.checkBox?new o9(e):new a9(e);case"Ch":return new l9(e);case"Sig":return new r9(e)}return new qu(e);case Ct.POPUP:return new aS(e);case Ct.FREETEXT:return new VF(e);case Ct.LINE:return new u9(e);case Ct.SQUARE:return new d9(e);case Ct.CIRCLE:return new h9(e);case Ct.POLYLINE:return new $F(e);case Ct.CARET:return new p9(e);case Ct.INK:return new nT(e);case Ct.POLYGON:return new f9(e);case Ct.HIGHLIGHT:return new UF(e);case Ct.UNDERLINE:return new m9(e);case Ct.SQUIGGLY:return new g9(e);case Ct.STRIKEOUT:return new y9(e);case Ct.STAMP:return new zF(e);case Ct.FILEATTACHMENT:return new v9(e);default:return new ht(e)}}}var iu,Hh,ii,qg,oS;const uT=class uT{constructor(e,{isRenderable:t=!1,ignoreBorder:s=!1,createQuadrilaterals:i=!1}={}){S(this,qg);S(this,iu,null);S(this,Hh,!1);S(this,ii,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableComment=e.enableComment,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(s)),i&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:t}){return!!(e!=null&&e.str||t!=null&&t.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return uT._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){var s;const{data:e}=this,t=(s=this.annotationStorage)==null?void 0:s.getEditor(e.id);return t?t.getData():e}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){var a;const e=(a=this.annotationStorage)==null?void 0:a.getEditor(this.data.id);if(e)return e.commentButtonPositionInPage;const{quadPoints:t,inkLists:s,rect:i}=this.data;let r=-1/0,o=-1/0;if((t==null?void 0:t.length)>=8){for(let c=0;c<t.length;c+=8)t[c+1]>o?(o=t[c+1],r=t[c+2]):t[c+1]===o&&(r=Math.max(r,t[c+2]));return[r,o]}if((s==null?void 0:s.length)>=1){for(const c of s)for(let u=0,d=c.length;u<d;u+=2)c[u+1]>o?(o=c[u+1],r=c[u]):c[u+1]===o&&(r=Math.max(r,c[u]));if(r!==1/0)return[r,o]}return i?[i[2],i[3]]:null}_normalizePoint(e){const{page:{view:t},viewport:{rawDims:{pageWidth:s,pageHeight:i,pageX:r,pageY:o}}}=this.parent;return e[1]=t[3]-e[1]+t[1],e[0]=100*(e[0]-r)/s,e[1]=100*(e[1]-o)/i,e}get commentText(){var t,s,i;const{data:e}=this;return((s=(t=this.annotationStorage.getRawValue(`${Dm}${e.id}`))==null?void 0:t.popup)==null?void 0:s.contents)||((i=e.contentsObj)==null?void 0:i.str)||""}set commentText(e){const{data:t}=this,s={deleted:!e,contents:e||""};this.annotationStorage.updateEditor(t.id,{popup:s})||this.annotationStorage.setValue(`${Dm}${t.id}`,{id:t.id,annotationType:t.annotationType,pageIndex:this.parent.page._pageIndex,popup:s,popupRef:t.popupRef,modificationDate:new Date}),e||this.removePopup()}removePopup(){var e,t;(t=((e=l(this,ii))==null?void 0:e.popup)||this.popup)==null||t.remove(),w(this,ii,this.popup=null)}updateEdited(e){var r;if(!this.container)return;e.rect&&(l(this,iu)||w(this,iu,{rect:this.data.rect.slice(0)}));const{rect:t,popup:s}=e;t&&C(this,qg,oS).call(this,t);let i=((r=l(this,ii))==null?void 0:r.popup)||this.popup;!i&&(s!=null&&s.text)&&(this._createPopup(s),i=l(this,ii).popup),i&&(i.updateEdited(e),s!=null&&s.deleted&&(i.remove(),w(this,ii,null),this.popup=null))}resetEdited(){var e;l(this,iu)&&(C(this,qg,oS).call(this,l(this,iu).rect),(e=l(this,ii))==null||e.popup.resetEdited(),w(this,iu,null))}_createContainer(e){const{data:t,parent:{page:s,viewport:i}}=this,r=document.createElement("section");r.setAttribute("data-annotation-id",t.id),!(this instanceof qu)&&!(this instanceof tT)&&(r.tabIndex=0);const{style:o}=r;if(o.zIndex=this.parent.zIndex,this.parent.zIndex+=2,t.alternativeText&&(r.title=t.alternativeText),t.noRotate&&r.classList.add("norotate"),!t.rect||this instanceof aS){const{rotation:m}=t;return!t.hasOwnCanvas&&m!==0&&this.setRotation(m,r),r}const{width:a,height:c}=this;if(!e&&t.borderStyle.width>0){o.borderWidth=`${t.borderStyle.width}px`;const m=t.borderStyle.horizontalCornerRadius,b=t.borderStyle.verticalCornerRadius;if(m>0||b>0){const v=`calc(${m}px * var(--total-scale-factor)) / calc(${b}px * var(--total-scale-factor))`;o.borderRadius=v}else if(this instanceof IF){const v=`calc(${a}px * var(--total-scale-factor)) / calc(${c}px * var(--total-scale-factor))`;o.borderRadius=v}switch(t.borderStyle.style){case Zu.SOLID:o.borderStyle="solid";break;case Zu.DASHED:o.borderStyle="dashed";break;case Zu.BEVELED:le("Unimplemented border style: beveled");break;case Zu.INSET:le("Unimplemented border style: inset");break;case Zu.UNDERLINE:o.borderBottomStyle="solid";break}const g=t.borderColor||null;g?(w(this,Hh,!0),o.borderColor=Q.makeHexColor(g[0]|0,g[1]|0,g[2]|0)):o.borderWidth=0}const u=Q.normalizeRect([t.rect[0],s.view[3]-t.rect[1]+s.view[1],t.rect[2],s.view[3]-t.rect[3]+s.view[1]]),{pageWidth:d,pageHeight:h,pageX:f,pageY:p}=i.rawDims;o.left=`${100*(u[0]-f)/d}%`,o.top=`${100*(u[1]-p)/h}%`;const{rotation:y}=t;return t.hasOwnCanvas||y===0?(o.width=`${100*a/d}%`,o.height=`${100*c/h}%`):this.setRotation(y,r),r}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:s,pageHeight:i}=this.parent.viewport.rawDims;let{width:r,height:o}=this;e%180!==0&&([r,o]=[o,r]),t.style.width=`${100*r/s}%`,t.style.height=`${100*o/i}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,s,i)=>{const r=i.detail[t],o=r[0],a=r.slice(1);i.target.style[s]=K_[`${o}_HTML`](a),this.annotationStorage.setValue(this.data.id,{[s]:K_[`${o}_rgb`](a)})};return fe(this,"_commonActions",{display:t=>{const{display:s}=t.detail,i=s%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:s===1||s===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:s}=t.detail;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:s,noView:s})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const s=t.detail.rotation;this.setRotation(s),this.annotationStorage.setValue(this.data.id,{rotation:s})}})}_dispatchEventFromSandbox(e,t){const s=this._commonActions;for(const i of Object.keys(t.detail)){const r=e[i]||s[i];r==null||r(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const s=this._commonActions;for(const[i,r]of Object.entries(t)){const o=s[i];if(o){const a={detail:{[i]:r},target:e};o(a),delete t[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,s,i,r]=this.data.rect.map(m=>Math.fround(m));if(e.length===8){const[m,b,g,v]=e.subarray(2,6);if(i===m&&r===b&&t===g&&s===v)return}const{style:o}=this.container;let a;if(l(this,Hh)){const{borderColor:m,borderWidth:b}=o;o.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${m}" stroke-width="${b}">`],this.container.classList.add("hasBorder")}const c=i-t,u=r-s,{svgFactory:d}=this,h=d.createElement("svg");h.classList.add("quadrilateralsContainer"),h.setAttribute("width",0),h.setAttribute("height",0),h.role="none";const f=d.createElement("defs");h.append(f);const p=d.createElement("clipPath"),y=`clippath_${this.data.id}`;p.setAttribute("id",y),p.setAttribute("clipPathUnits","objectBoundingBox"),f.append(p);for(let m=2,b=e.length;m<b;m+=8){const g=e[m],v=e[m+1],A=e[m+2],E=e[m+3],T=d.createElement("rect"),k=(A-t)/c,_=(r-v)/u,R=(g-A)/c,M=(v-E)/u;T.setAttribute("x",k),T.setAttribute("y",_),T.setAttribute("width",R),T.setAttribute("height",M),p.append(T),a==null||a.push(`<rect vector-effect="non-scaling-stroke" x="${k}" y="${_}" width="${R}" height="${M}"/>`)}l(this,Hh)&&(a.push("</g></svg>')"),o.backgroundImage=a.join("")),this.container.append(h),this.container.style.clipPath=`url(#${y})`}_createPopup(e=null){const{data:t}=this;let s,i;e?(s={str:e.text},i=e.date):(s=t.contentsObj,i=t.modificationDate);const r=w(this,ii,new aS({data:{color:t.color,titleObj:t.titleObj,modificationDate:i,contentsObj:s,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]}));this.parent._commentManager||this.parent.div.append(r.render())}get hasPopupElement(){return!!(l(this,ii)||this.popup||this.data.popupRef)}get extraPopupElement(){return l(this,ii)}render(){He("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const s=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:r,id:o,exportValues:a}of i){if(r===-1||o===t)continue;const c=typeof a=="string"?a:null,u=document.querySelector(`[data-element-id="${o}"]`);if(u&&!Vu.has(u)){le(`_getElementsByName - element not allowed: ${o}`);continue}s.push({id:o,exportValue:c,domElement:u})}return s}for(const i of document.getElementsByName(e)){const{exportValue:r}=i,o=i.getAttribute("data-element-id");o!==t&&Vu.has(i)&&s.push({id:o,exportValue:r,domElement:i})}return s}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var s;(s=this.linkService.eventBus)==null||s.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};iu=new WeakMap,Hh=new WeakMap,ii=new WeakMap,qg=new WeakSet,oS=function(e){const{container:{style:t},data:{rect:s,rotation:i},parent:{viewport:{rawDims:{pageWidth:r,pageHeight:o,pageX:a,pageY:c}}}}=this;s==null||s.splice(0,4,...e),t.left=`${100*(e[0]-a)/r}%`,t.top=`${100*(o-e[3]+c)/o}%`,i===0?(t.width=`${100*(e[2]-e[0])/r}%`,t.height=`${100*(e[3]-e[1])/o}%`):this.setRotation(i)};let ht=uT;class n9 extends ht{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.editor=e.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:e}=this;e.hasComment&&(this._createPopup(e.comment),this.extraPopupElement.popup.renderCommentButton())}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(e){this.editor.comment=e,e||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.container.remove(),this.container=null,this.removePopup()}}var Fs,nc,DF,LF;class tT extends ht{constructor(t,s=null){super(t,{isRenderable:!0,ignoreBorder:!!(s!=null&&s.ignoreBorder),createQuadrilaterals:!0});S(this,Fs);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:s}=this,i=document.createElement("a");i.setAttribute("data-element-id",t.id);let r=!1;return t.url?(s.addLinkAttributes(i,t.url,t.newWindow),r=!0):t.action?(this._bindNamedAction(i,t.action,t.overlaidText),r=!0):t.attachment?(C(this,Fs,DF).call(this,i,t.attachment,t.overlaidText,t.attachmentDest),r=!0):t.setOCGState?(C(this,Fs,LF).call(this,i,t.setOCGState,t.overlaidText),r=!0):t.dest?(this._bindLink(i,t.dest,t.overlaidText),r=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,t),r=!0),t.resetForm?(this._bindResetFormAction(i,t.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(i,""),r=!0)),this.container.classList.add("linkAnnotation"),r&&this.container.append(i),this.container}_bindLink(t,s,i=""){t.href=this.linkService.getDestinationHash(s),t.onclick=()=>(s&&this.linkService.goToDestination(s),!1),(s||s==="")&&C(this,Fs,nc).call(this),i&&(t.title=i)}_bindNamedAction(t,s,i=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(s),!1),i&&(t.title=i),C(this,Fs,nc).call(this)}_bindJSAction(t,s){t.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const r of Object.keys(s.actions)){const o=i.get(r);o&&(t[o]=()=>{var a;return(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s.id,name:r}}),!1})}s.overlaidText&&(t.title=s.overlaidText),t.onclick||(t.onclick=()=>!1),C(this,Fs,nc).call(this)}_bindResetFormAction(t,s){const i=t.onclick;if(i||(t.href=this.linkService.getAnchorUrl("")),C(this,Fs,nc).call(this),!this._fieldObjects){le('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(t.onclick=()=>!1);return}t.onclick=()=>{var h;i==null||i();const{fields:r,refs:o,include:a}=s,c=[];if(r.length!==0||o.length!==0){const f=new Set(o);for(const p of r){const y=this._fieldObjects[p]||[];for(const{id:m}of y)f.add(m)}for(const p of Object.values(this._fieldObjects))for(const y of p)f.has(y.id)===a&&c.push(y)}else for(const f of Object.values(this._fieldObjects))c.push(...f);const u=this.annotationStorage,d=[];for(const f of c){const{id:p}=f;switch(d.push(p),f.type){case"text":{const m=f.defaultValue||"";u.setValue(p,{value:m});break}case"checkbox":case"radiobutton":{const m=f.defaultValue===f.exportValues;u.setValue(p,{value:m});break}case"combobox":case"listbox":{const m=f.defaultValue||"";u.setValue(p,{value:m});break}default:continue}const y=document.querySelector(`[data-element-id="${p}"]`);if(y){if(!Vu.has(y)){le(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;y.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:d,name:"ResetForm"}})),!1}}}Fs=new WeakSet,nc=function(){this.container.setAttribute("data-internal-link","")},DF=function(t,s,i="",r=null){t.href=this.linkService.getAnchorUrl(""),s.description?t.title=s.description:i&&(t.title=i),t.onclick=()=>{var o;return(o=this.downloadManager)==null||o.openOrDownloadData(s.content,s.filename,r),!1},C(this,Fs,nc).call(this)},LF=function(t,s,i=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(s),!1),i&&(t.title=i),C(this,Fs,nc).call(this)};class s9 extends ht{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class qu extends ht{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Jt.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,s,i,r){s.includes("mouse")?e.addEventListener(s,o=>{var a;(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:r(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):e.addEventListener(s,o=>{var a;if(s==="blur"){if(!t.focused||!o.relatedTarget)return;t.focused=!1}else if(s==="focus"){if(t.focused)return;t.focused=!0}r&&((a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:r(o)}}))})}_setEventListeners(e,t,s,i){var r,o,a;for(const[c,u]of s)(u==="Action"||(r=this.data.actions)!=null&&r[u])&&((u==="Focus"||u==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,c,u,i),u==="Focus"&&!((o=this.data.actions)!=null&&o.Blur)?this._setEventListener(e,t,"blur","Blur",null):u==="Blur"&&!((a=this.data.actions)!=null&&a.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":Q.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:s}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||e9,r=e.style;let o;const a=2,c=u=>Math.round(10*u)/10;if(this.data.multiLine){const u=Math.abs(this.data.rect[3]-this.data.rect[1]-a),d=Math.round(u/(Lb*i))||1,h=u/d;o=Math.min(i,c(h/Lb))}else{const u=Math.abs(this.data.rect[3]-this.data.rect[1]-a);o=Math.min(i,c(u/Lb))}r.fontSize=`calc(${o}px * var(--total-scale-factor))`,r.color=Q.makeHexColor(s[0],s[1],s[2]),this.data.textAlignment!==null&&(r.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class i9 extends qu{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,s,i){const r=this.annotationStorage;for(const o of this._getElementsByName(e.name,e.id))o.domElement&&(o.domElement[t]=s),r.setValue(o.id,{[i]:s})}render(){var i,r;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let s=null;if(this.renderForms){const o=e.getValue(t,{value:this.data.fieldValue});let a=o.value||"";const c=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;c&&a.length>c&&(a=a.slice(0,c));let u=o.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const d={userValue:a,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(s=document.createElement("textarea"),s.textContent=u??a,this.data.doNotScroll&&(s.style.overflowY="hidden")):(s=document.createElement("input"),s.type=this.data.password?"password":"text",s.setAttribute("value",u??a),this.data.doNotScroll&&(s.style.overflowX="hidden")),this.data.hasOwnCanvas&&(s.hidden=!0),Vu.add(s),s.setAttribute("data-element-id",t),s.disabled=this.data.readOnly,s.name=this.data.fieldName,s.tabIndex=0;const{datetimeFormat:h,datetimeType:f,timeStep:p}=this.data,y=!!f&&this.enableScripting;h&&(s.title=h),this._setRequired(s,this.data.required),c&&(s.maxLength=c),s.addEventListener("input",b=>{e.setValue(t,{value:b.target.value}),this.setPropertyOnSiblings(s,"value",b.target.value,"value"),d.formattedValue=null}),s.addEventListener("resetform",b=>{const g=this.data.defaultFieldValue??"";s.value=d.userValue=g,d.formattedValue=null});let m=b=>{const{formattedValue:g}=d;g!=null&&(b.target.value=g),b.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){s.addEventListener("focus",g=>{var A;if(d.focused)return;const{target:v}=g;if(y&&(v.type=f,p&&(v.step=p)),d.userValue){const E=d.userValue;if(y)if(f==="time"){const T=new Date(E),k=[T.getHours(),T.getMinutes(),T.getSeconds()];v.value=k.map(_=>_.toString().padStart(2,"0")).join(":")}else v.value=new Date(E-t9).toISOString().split(f==="date"?"T":".",1)[0];else v.value=E}d.lastCommittedValue=v.value,d.commitKey=1,(A=this.data.actions)!=null&&A.Focus||(d.focused=!0)}),s.addEventListener("updatefromsandbox",g=>{this.showElementAndHideCanvas(g.target);const v={value(A){d.userValue=A.detail.value??"",y||e.setValue(t,{value:d.userValue.toString()}),A.target.value=d.userValue},formattedValue(A){const{formattedValue:E}=A.detail;d.formattedValue=E,E!=null&&A.target!==document.activeElement&&(A.target.value=E);const T={formattedValue:E};y&&(T.value=E),e.setValue(t,T)},selRange(A){A.target.setSelectionRange(...A.detail.selRange)},charLimit:A=>{var _;const{charLimit:E}=A.detail,{target:T}=A;if(E===0){T.removeAttribute("maxLength");return}T.setAttribute("maxLength",E);let k=d.userValue;!k||k.length<=E||(k=k.slice(0,E),T.value=d.userValue=k,e.setValue(t,{value:k}),(_=this.linkService.eventBus)==null||_.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:k,willCommit:!0,commitKey:1,selStart:T.selectionStart,selEnd:T.selectionEnd}}))}};this._dispatchEventFromSandbox(v,g)}),s.addEventListener("keydown",g=>{var E;d.commitKey=1;let v=-1;if(g.key==="Escape"?v=0:g.key==="Enter"&&!this.data.multiLine?v=2:g.key==="Tab"&&(d.commitKey=3),v===-1)return;const{value:A}=g.target;d.lastCommittedValue!==A&&(d.lastCommittedValue=A,d.userValue=A,(E=this.linkService.eventBus)==null||E.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:A,willCommit:!0,commitKey:v,selStart:g.target.selectionStart,selEnd:g.target.selectionEnd}}))});const b=m;m=null,s.addEventListener("blur",g=>{var E,T;if(!d.focused||!g.relatedTarget)return;(E=this.data.actions)!=null&&E.Blur||(d.focused=!1);const{target:v}=g;let{value:A}=v;if(y){if(A&&f==="time"){const k=A.split(":").map(_=>parseInt(_,10));A=new Date(2e3,0,1,k[0],k[1],k[2]||0).valueOf(),v.step=""}else A.includes("T")||(A=`${A}T00:00`),A=new Date(A).valueOf();v.type="text"}d.userValue=A,d.lastCommittedValue!==A&&((T=this.linkService.eventBus)==null||T.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:A,willCommit:!0,commitKey:d.commitKey,selStart:g.target.selectionStart,selEnd:g.target.selectionEnd}})),b(g)}),(r=this.data.actions)!=null&&r.Keystroke&&s.addEventListener("beforeinput",g=>{var M;d.lastCommittedValue=null;const{data:v,target:A}=g,{value:E,selectionStart:T,selectionEnd:k}=A;let _=T,R=k;switch(g.inputType){case"deleteWordBackward":{const N=E.substring(0,T).match(/\w*[^\w]*$/);N&&(_-=N[0].length);break}case"deleteWordForward":{const N=E.substring(T).match(/^[^\w]*\w*/);N&&(R+=N[0].length);break}case"deleteContentBackward":T===k&&(_-=1);break;case"deleteContentForward":T===k&&(R+=1);break}g.preventDefault(),(M=this.linkService.eventBus)==null||M.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:E,change:v||"",willCommit:!1,selStart:_,selEnd:R}})}),this._setEventListeners(s,d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],g=>g.target.value)}if(m&&s.addEventListener("blur",m),this.data.comb){const g=(this.data.rect[2]-this.data.rect[0])/c;s.classList.add("comb"),s.style.letterSpacing=`calc(${g}px * var(--total-scale-factor) - 1ch)`}}else s=document.createElement("div"),s.textContent=this.data.fieldValue,s.style.verticalAlign="middle",s.style.display="table-cell",this.data.hasOwnCanvas&&(s.hidden=!0);return this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class r9 extends qu{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class o9 extends qu{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,s=t.id;let i=e.getValue(s,{value:t.exportValue===t.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(s,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const r=document.createElement("input");return Vu.add(r),r.setAttribute("data-element-id",s),r.disabled=t.readOnly,this._setRequired(r,this.data.required),r.type="checkbox",r.name=t.fieldName,i&&r.setAttribute("checked",!0),r.setAttribute("exportValue",t.exportValue),r.tabIndex=0,r.addEventListener("change",o=>{const{name:a,checked:c}=o.target;for(const u of this._getElementsByName(a,s)){const d=c&&u.exportValue===t.exportValue;u.domElement&&(u.domElement.checked=d),e.setValue(u.id,{value:d})}e.setValue(s,{value:c})}),r.addEventListener("resetform",o=>{const a=t.defaultFieldValue||"Off";o.target.checked=a===t.exportValue}),this.enableScripting&&this.hasJSActions&&(r.addEventListener("updatefromsandbox",o=>{const a={value(c){c.target.checked=c.detail.value!=="Off",e.setValue(s,{value:c.target.checked})}};this._dispatchEventFromSandbox(a,o)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class IF extends qu{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,s=t.id;let i=e.getValue(s,{value:t.fieldValue===t.buttonValue}).value;if(typeof i=="string"&&(i=i!==t.buttonValue,e.setValue(s,{value:i})),i)for(const o of this._getElementsByName(t.fieldName,s))e.setValue(o.id,{value:!1});const r=document.createElement("input");if(Vu.add(r),r.setAttribute("data-element-id",s),r.disabled=t.readOnly,this._setRequired(r,this.data.required),r.type="radio",r.name=t.fieldName,i&&r.setAttribute("checked",!0),r.tabIndex=0,r.addEventListener("change",o=>{const{name:a,checked:c}=o.target;for(const u of this._getElementsByName(a,s))e.setValue(u.id,{value:!1});e.setValue(s,{value:c})}),r.addEventListener("resetform",o=>{const a=t.defaultFieldValue;o.target.checked=a!=null&&a===t.buttonValue}),this.enableScripting&&this.hasJSActions){const o=t.buttonValue;r.addEventListener("updatefromsandbox",a=>{const c={value:u=>{const d=o===u.detail.value;for(const h of this._getElementsByName(u.target.name)){const f=d&&h.id===s;h.domElement&&(h.domElement.checked=f),e.setValue(h.id,{value:f})}}};this._dispatchEventFromSandbox(c,a)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)}return this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class a9 extends tT{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",s=>{this._dispatchEventFromSandbox({},s)})),e}}class l9 extends qu{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,s=e.getValue(t,{value:this.data.fieldValue}),i=document.createElement("select");Vu.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=0;let r=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",d=>{const h=this.data.defaultFieldValue;for(const f of i.options)f.selected=f.value===h});for(const d of this.data.options){const h=document.createElement("option");h.textContent=d.displayValue,h.value=d.exportValue,s.value.includes(d.exportValue)&&(h.setAttribute("selected",!0),r=!1),i.append(h)}let o=null;if(r){const d=document.createElement("option");d.value=" ",d.setAttribute("hidden",!0),d.setAttribute("selected",!0),i.prepend(d),o=()=>{d.remove(),i.removeEventListener("input",o),o=null},i.addEventListener("input",o)}const a=d=>{const h=d?"value":"textContent",{options:f,multiple:p}=i;return p?Array.prototype.filter.call(f,y=>y.selected).map(y=>y[h]):f.selectedIndex===-1?null:f[f.selectedIndex][h]};let c=a(!1);const u=d=>{const h=d.target.options;return Array.prototype.map.call(h,f=>({displayValue:f.textContent,exportValue:f.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",d=>{const h={value(f){o==null||o();const p=f.detail.value,y=new Set(Array.isArray(p)?p:[p]);for(const m of i.options)m.selected=y.has(m.value);e.setValue(t,{value:a(!0)}),c=a(!1)},multipleSelection(f){i.multiple=!0},remove(f){const p=i.options,y=f.detail.remove;p[y].selected=!1,i.remove(y),p.length>0&&Array.prototype.findIndex.call(p,b=>b.selected)===-1&&(p[0].selected=!0),e.setValue(t,{value:a(!0),items:u(f)}),c=a(!1)},clear(f){for(;i.length!==0;)i.remove(0);e.setValue(t,{value:null,items:[]}),c=a(!1)},insert(f){const{index:p,displayValue:y,exportValue:m}=f.detail.insert,b=i.children[p],g=document.createElement("option");g.textContent=y,g.value=m,b?b.before(g):i.append(g),e.setValue(t,{value:a(!0),items:u(f)}),c=a(!1)},items(f){const{items:p}=f.detail;for(;i.length!==0;)i.remove(0);for(const y of p){const{displayValue:m,exportValue:b}=y,g=document.createElement("option");g.textContent=m,g.value=b,i.append(g)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(t,{value:a(!0),items:u(f)}),c=a(!1)},indices(f){const p=new Set(f.detail.indices);for(const y of f.target.options)y.selected=p.has(y.index);e.setValue(t,{value:a(!0)}),c=a(!1)},editable(f){f.target.disabled=!f.detail.editable}};this._dispatchEventFromSandbox(h,d)}),i.addEventListener("input",d=>{var p;const h=a(!0),f=a(!1);e.setValue(t,{value:h}),d.preventDefault(),(p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:c,change:f,changeEx:h,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],d=>d.target.value)):i.addEventListener("input",function(d){e.setValue(t,{value:a(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}var Xg,lS;class aS extends ht{constructor(t){const{data:s,elements:i,parent:r}=t,o=!!r._commentManager;super(t,{isRenderable:!o&&ht._hasPopupData(s)});S(this,Xg);if(this.elements=i,o&&ht._hasPopupData(s)){const a=this.popup=C(this,Xg,lS).call(this);for(const c of i)c.popup=a}else this.popup=null}render(){const{container:t}=this;t.classList.add("popupAnnotation"),t.role="comment";const s=this.popup=C(this,Xg,lS).call(this),i=[];for(const r of this.elements)r.popup=s,r.container.ariaHasPopup="dialog",i.push(r.data.id),r.addHighlightArea();return this.container.setAttribute("aria-controls",i.map(r=>`${qC}${r}`).join(",")),this.container}}Xg=new WeakSet,lS=function(){return new c9({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})};var bs,tl,Fw,Ow,Wh,Gh,xt,Rr,nl,ru,qh,Xh,Mr,As,No,Do,Wt,Lo,sl,Yg,Io,Yh,ou,il,En,rl,me,o0,cS,uS,dS,a0,hS,FF,OF,jF,BF,l0,c0,fS;class c9{constructor({container:e,color:t,elements:s,titleObj:i,modificationDate:r,contentsObj:o,richText:a,parent:c,rect:u,parentRect:d,open:h,commentManager:f=null}){S(this,me);S(this,bs,null);S(this,tl,C(this,me,jF).bind(this));S(this,Fw,C(this,me,fS).bind(this));S(this,Ow,C(this,me,c0).bind(this));S(this,Wh,C(this,me,l0).bind(this));S(this,Gh,null);S(this,xt,null);S(this,Rr,null);S(this,nl,null);S(this,ru,null);S(this,qh,null);S(this,Xh,null);S(this,Mr,!1);S(this,As,null);S(this,No,null);S(this,Do,null);S(this,Wt,null);S(this,Lo,null);S(this,sl,null);S(this,Yg,null);S(this,Io,null);S(this,Yh,null);S(this,ou,null);S(this,il,!1);S(this,En,null);S(this,rl,null);w(this,xt,e),w(this,Yh,i),w(this,Rr,o),w(this,Io,a),w(this,qh,c),w(this,Gh,t),w(this,Yg,u),w(this,Xh,d),w(this,ru,s),w(this,bs,f),w(this,En,s[0]),w(this,nl,Fm.toDateObject(r)),this.trigger=s.flatMap(p=>p.getElementsToTriggerPopup()),f?this.renderCommentButton():(C(this,me,o0).call(this),l(this,xt).hidden=!0,h&&C(this,me,l0).call(this))}renderCommentButton(){if(l(this,Wt)||(l(this,Lo)||C(this,me,cS).call(this),!l(this,Lo)))return;const{signal:e}=w(this,No,new AbortController),t=!!l(this,En).extraPopupElement,s=()=>{l(this,bs).toggleCommentPopup(this,!0,void 0,!t)},i=()=>{l(this,bs).toggleCommentPopup(this,!1,!0,!t)},r=()=>{l(this,bs).toggleCommentPopup(this,!1,!1)};if(t){w(this,Wt,l(this,En).container);for(const o of this.trigger)o.ariaHasPopup="dialog",o.ariaControls="commentPopup",o.addEventListener("keydown",l(this,tl),{signal:e}),o.addEventListener("click",s,{signal:e}),o.addEventListener("pointerenter",i,{signal:e}),o.addEventListener("pointerleave",r,{signal:e}),o.classList.add("popupTriggerArea")}else{const o=w(this,Wt,document.createElement("button"));o.className="annotationCommentButton";const a=l(this,En).container;o.style.zIndex=a.style.zIndex+1,o.tabIndex=0,o.ariaHasPopup="dialog",o.ariaControls="commentPopup",o.setAttribute("data-l10n-id","pdfjs-show-comment-button"),C(this,me,dS).call(this),C(this,me,uS).call(this),o.addEventListener("keydown",l(this,tl),{signal:e}),o.addEventListener("click",s,{signal:e}),o.addEventListener("pointerenter",i,{signal:e}),o.addEventListener("pointerleave",r,{signal:e}),a.after(o)}}get commentButtonColor(){const{color:e,opacity:t}=l(this,En).commentData;return e?l(this,qh)._commentManager.makeCommentColor(e,t):null}focusCommentButton(){setTimeout(()=>{var e;(e=l(this,Wt))==null||e.focus()},0)}getData(){const{richText:e,color:t,opacity:s,creationDate:i,modificationDate:r}=l(this,En).commentData;return{contentsObj:{str:this.comment},richText:e,color:t,opacity:s,creationDate:i,modificationDate:r}}get elementBeforePopup(){return l(this,Wt)}get comment(){return l(this,rl)||w(this,rl,l(this,En).commentText),l(this,rl)}set comment(e){e!==this.comment&&(l(this,En).commentText=w(this,rl,e))}get parentBoundingClientRect(){return l(this,En).layer.getBoundingClientRect()}setCommentButtonStates({selected:e,hasPopup:t}){l(this,Wt)&&(l(this,Wt).classList.toggle("selected",e),l(this,Wt).ariaExpanded=t)}setSelectedCommentButton(e){l(this,Wt).classList.toggle("selected",e)}get commentPopupPosition(){if(l(this,sl))return l(this,sl);const{x:e,y:t,height:s}=l(this,Wt).getBoundingClientRect(),{x:i,y:r,width:o,height:a}=l(this,En).layer.getBoundingClientRect();return[(e-i)/o,(t+s-r)/a]}set commentPopupPosition(e){w(this,sl,e)}hasDefaultPopupPosition(){return l(this,sl)===null}get commentButtonPosition(){return l(this,Lo)}get commentButtonWidth(){return l(this,Wt).getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(e){const[t,s]=l(this,sl)||this.commentButtonPosition.map(u=>u/100),i=this.parentBoundingClientRect,{x:r,y:o,width:a,height:c}=i;l(this,bs).showDialog(null,this,r+t*a,o+s*c,{...e,parentDimensions:i})}render(){var s,i;if(l(this,As))return;const e=w(this,As,document.createElement("div"));if(e.className="popup",l(this,Gh)){const r=e.style.outlineColor=Q.makeHexColor(...l(this,Gh));e.style.backgroundColor=`color-mix(in srgb, ${r} 30%, white)`}const t=document.createElement("span");if(t.className="header",(s=l(this,Yh))!=null&&s.str){const r=document.createElement("span");r.className="title",t.append(r),{dir:r.dir,str:r.textContent}=l(this,Yh)}if(e.append(t),l(this,nl)){const r=document.createElement("time");r.className="popupDate",r.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),r.setAttribute("data-l10n-args",JSON.stringify({dateObj:l(this,nl).valueOf()})),r.dateTime=l(this,nl).toISOString(),t.append(r)}YC({html:l(this,me,a0)||l(this,Rr).str,dir:(i=l(this,Rr))==null?void 0:i.dir,className:"popupContent"},e),l(this,xt).append(e)}updateEdited({rect:e,popup:t,deleted:s}){var i;if(l(this,bs)){s?(this.remove(),w(this,rl,null)):t&&(t.deleted?this.remove():(C(this,me,dS).call(this),w(this,rl,t.text))),e&&(w(this,Lo,null),C(this,me,cS).call(this),C(this,me,uS).call(this));return}if(s||t!=null&&t.deleted){this.remove();return}C(this,me,o0).call(this),l(this,ou)||w(this,ou,{contentsObj:l(this,Rr),richText:l(this,Io)}),e&&w(this,Do,null),t&&t.text&&(w(this,Io,C(this,me,OF).call(this,t.text)),w(this,nl,Fm.toDateObject(t.date)),w(this,Rr,null)),(i=l(this,As))==null||i.remove(),w(this,As,null)}resetEdited(){var e;l(this,ou)&&({contentsObj:gt(this,Rr)._,richText:gt(this,Io)._}=l(this,ou),w(this,ou,null),(e=l(this,As))==null||e.remove(),w(this,As,null),w(this,Do,null))}remove(){var e,t,s;if((e=l(this,No))==null||e.abort(),w(this,No,null),(t=l(this,As))==null||t.remove(),w(this,As,null),w(this,il,!1),w(this,Mr,!1),(s=l(this,Wt))==null||s.remove(),w(this,Wt,null),this.trigger)for(const i of this.trigger)i.classList.remove("popupTriggerArea")}forceHide(){w(this,il,this.isVisible),l(this,il)&&(l(this,xt).hidden=!0)}maybeShow(){l(this,bs)||(C(this,me,o0).call(this),l(this,il)&&(l(this,As)||C(this,me,c0).call(this),w(this,il,!1),l(this,xt).hidden=!1))}get isVisible(){return l(this,bs)?!1:l(this,xt).hidden===!1}}bs=new WeakMap,tl=new WeakMap,Fw=new WeakMap,Ow=new WeakMap,Wh=new WeakMap,Gh=new WeakMap,xt=new WeakMap,Rr=new WeakMap,nl=new WeakMap,ru=new WeakMap,qh=new WeakMap,Xh=new WeakMap,Mr=new WeakMap,As=new WeakMap,No=new WeakMap,Do=new WeakMap,Wt=new WeakMap,Lo=new WeakMap,sl=new WeakMap,Yg=new WeakMap,Io=new WeakMap,Yh=new WeakMap,ou=new WeakMap,il=new WeakMap,En=new WeakMap,rl=new WeakMap,me=new WeakSet,o0=function(){var t;if(l(this,No))return;w(this,No,new AbortController);const{signal:e}=l(this,No);for(const s of this.trigger)s.addEventListener("click",l(this,Wh),{signal:e}),s.addEventListener("pointerenter",l(this,Ow),{signal:e}),s.addEventListener("pointerleave",l(this,Fw),{signal:e}),s.classList.add("popupTriggerArea");for(const s of l(this,ru))(t=s.container)==null||t.addEventListener("keydown",l(this,tl),{signal:e})},cS=function(){const e=l(this,ru).find(t=>t.hasCommentButton);e&&w(this,Lo,e._normalizePoint(e.commentButtonPosition))},uS=function(){if(l(this,En).extraPopupElement&&!l(this,En).editor)return;this.renderCommentButton();const[e,t]=l(this,Lo),{style:s}=l(this,Wt);s.left=`calc(${e}%)`,s.top=`calc(${t}% - var(--comment-button-dim))`},dS=function(){l(this,En).extraPopupElement||(this.renderCommentButton(),l(this,Wt).style.backgroundColor=this.commentButtonColor||"")},a0=function(){const e=l(this,Io),t=l(this,Rr);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&l(this,Io).html||null},hS=function(){var e,t,s;return((s=(t=(e=l(this,me,a0))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:s.fontSize)||0},FF=function(){var e,t,s;return((s=(t=(e=l(this,me,a0))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:s.color)||null},OF=function(e){const t=[],s={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},i={style:{color:l(this,me,FF),fontSize:l(this,me,hS)?`calc(${l(this,me,hS)}px * var(--total-scale-factor))`:""}};for(const r of e.split(`
`))t.push({name:"span",value:r,attributes:i});return s},jF=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&l(this,Mr))&&C(this,me,l0).call(this)},BF=function(){if(l(this,Do)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:s,pageX:i,pageY:r}}}=l(this,qh);let o=!!l(this,Xh),a=o?l(this,Xh):l(this,Yg);for(const y of l(this,ru))if(!a||Q.intersect(y.data.rect,a)!==null){a=y.data.rect,o=!0;break}const c=Q.normalizeRect([a[0],e[3]-a[1]+e[1],a[2],e[3]-a[3]+e[1]]),d=o?a[2]-a[0]+5:0,h=c[0]+d,f=c[1];w(this,Do,[100*(h-i)/t,100*(f-r)/s]);const{style:p}=l(this,xt);p.left=`${l(this,Do)[0]}%`,p.top=`${l(this,Do)[1]}%`},l0=function(){if(l(this,bs)){l(this,bs).toggleCommentPopup(this,!1);return}w(this,Mr,!l(this,Mr)),l(this,Mr)?(C(this,me,c0).call(this),l(this,xt).addEventListener("click",l(this,Wh)),l(this,xt).addEventListener("keydown",l(this,tl))):(C(this,me,fS).call(this),l(this,xt).removeEventListener("click",l(this,Wh)),l(this,xt).removeEventListener("keydown",l(this,tl)))},c0=function(){l(this,As)||this.render(),this.isVisible?l(this,Mr)&&l(this,xt).classList.add("focused"):(C(this,me,BF).call(this),l(this,xt).hidden=!1,l(this,xt).style.zIndex=parseInt(l(this,xt).style.zIndex)+1e3)},fS=function(){l(this,xt).classList.remove("focused"),!(l(this,Mr)||!this.isVisible)&&(l(this,xt).hidden=!0,l(this,xt).style.zIndex=parseInt(l(this,xt).style.zIndex)-1e3)};class VF extends ht{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=ae.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const s=document.createElement("span");s.textContent=t,e.append(s)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Kg;class u9 extends ht{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});S(this,Kg,null)}render(){this.container.classList.add("lineAnnotation");const{data:t,width:s,height:i}=this,r=this.svgFactory.create(s,i,!0),o=w(this,Kg,this.svgFactory.createElement("svg:line"));return o.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),o.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),o.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),o.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),o.setAttribute("stroke-width",t.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return l(this,Kg)}addHighlightArea(){this.container.classList.add("highlightArea")}}Kg=new WeakMap;var Qg;class d9 extends ht{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});S(this,Qg,null)}render(){this.container.classList.add("squareAnnotation");const{data:t,width:s,height:i}=this,r=this.svgFactory.create(s,i,!0),o=t.borderStyle.width,a=w(this,Qg,this.svgFactory.createElement("svg:rect"));return a.setAttribute("x",o/2),a.setAttribute("y",o/2),a.setAttribute("width",s-o),a.setAttribute("height",i-o),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),r.append(a),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return l(this,Qg)}addHighlightArea(){this.container.classList.add("highlightArea")}}Qg=new WeakMap;var Zg;class h9 extends ht{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});S(this,Zg,null)}render(){this.container.classList.add("circleAnnotation");const{data:t,width:s,height:i}=this,r=this.svgFactory.create(s,i,!0),o=t.borderStyle.width,a=w(this,Zg,this.svgFactory.createElement("svg:ellipse"));return a.setAttribute("cx",s/2),a.setAttribute("cy",i/2),a.setAttribute("rx",s/2-o/2),a.setAttribute("ry",i/2-o/2),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),r.append(a),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return l(this,Zg)}addHighlightArea(){this.container.classList.add("highlightArea")}}Zg=new WeakMap;var Jg;class $F extends ht{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});S(this,Jg,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:s,borderStyle:i,popupRef:r},width:o,height:a}=this;if(!s)return this.container;const c=this.svgFactory.create(o,a,!0);let u=[];for(let h=0,f=s.length;h<f;h+=2){const p=s[h]-t[0],y=t[3]-s[h+1];u.push(`${p},${y}`)}u=u.join(" ");const d=w(this,Jg,this.svgFactory.createElement(this.svgElementName));return d.setAttribute("points",u),d.setAttribute("stroke-width",i.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),c.append(d),this.container.append(c),!r&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return l(this,Jg)}addHighlightArea(){this.container.classList.add("highlightArea")}}Jg=new WeakMap;class f9 extends $F{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class p9 extends ht{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var ey,au,ty,pS;class nT extends ht{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});S(this,ty);S(this,ey,null);S(this,au,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?ae.HIGHLIGHT:ae.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:s,inkLists:i,borderStyle:r,popupRef:o}}=this,{transform:a,width:c,height:u}=C(this,ty,pS).call(this,s,t),d=this.svgFactory.create(c,u,!0),h=w(this,ey,this.svgFactory.createElement("svg:g"));d.append(h),h.setAttribute("stroke-width",r.width||1),h.setAttribute("stroke-linecap","round"),h.setAttribute("stroke-linejoin","round"),h.setAttribute("stroke-miterlimit",10),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),h.setAttribute("transform",a);for(let f=0,p=i.length;f<p;f++){const y=this.svgFactory.createElement(this.svgElementName);l(this,au).push(y),y.setAttribute("points",i[f].join(",")),h.append(y)}return!o&&this.hasPopupData&&this._createPopup(),this.container.append(d),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:s,points:i,rect:r}=t,o=l(this,ey);if(s>=0&&o.setAttribute("stroke-width",s||1),i)for(let a=0,c=l(this,au).length;a<c;a++)l(this,au)[a].setAttribute("points",i[a].join(","));if(r){const{transform:a,width:c,height:u}=C(this,ty,pS).call(this,this.data.rotation,r);o.parentElement.setAttribute("viewBox",`0 0 ${c} ${u}`),o.setAttribute("transform",a)}}getElementsToTriggerPopup(){return l(this,au)}addHighlightArea(){this.container.classList.add("highlightArea")}}ey=new WeakMap,au=new WeakMap,ty=new WeakSet,pS=function(t,s){switch(t){case 90:return{transform:`rotate(90) translate(${-s[0]},${s[1]}) scale(1,-1)`,width:s[3]-s[1],height:s[2]-s[0]};case 180:return{transform:`rotate(180) translate(${-s[2]},${s[1]}) scale(1,-1)`,width:s[2]-s[0],height:s[3]-s[1]};case 270:return{transform:`rotate(270) translate(${-s[2]},${s[3]}) scale(1,-1)`,width:s[3]-s[1],height:s[2]-s[0]};default:return{transform:`translate(${-s[0]},${s[3]}) scale(1,-1)`,width:s[2]-s[0],height:s[3]-s[1]}}};class UF extends ht{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=ae.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const s=document.createElement("mark");s.classList.add("overlaidText"),s.textContent=e,this.container.append(s)}return this.container}}class m9 extends ht{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),e){const s=document.createElement("u");s.classList.add("overlaidText"),s.textContent=e,this.container.append(s)}return this.container}}class g9 extends ht{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),e){const s=document.createElement("u");s.classList.add("overlaidText"),s.textContent=e,this.container.append(s)}return this.container}}class y9 extends ht{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),e){const s=document.createElement("s");s.classList.add("overlaidText"),s.textContent=e,this.container.append(s)}return this.container}}class zF extends ht{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=ae.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var ny,sy,mS;class v9 extends ht{constructor(t){var i;super(t,{isRenderable:!0});S(this,sy);S(this,ny,null);const{file:s}=this.data;this.filename=s.filename,this.content=s.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...s})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:s}=this;let i;s.hasAppearance||s.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(s.name)?"paperclip":"pushpin"}.svg`,s.fillAlpha&&s.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(s.fillAlpha*100)}%);`)),i.addEventListener("dblclick",C(this,sy,mS).bind(this)),w(this,ny,i);const{isMac:r}=Jt.platform;return t.addEventListener("keydown",o=>{o.key==="Enter"&&(r?o.metaKey:o.ctrlKey)&&C(this,sy,mS).call(this)}),!s.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),t.append(i),t}getElementsToTriggerPopup(){return l(this,ny)}addHighlightArea(){this.container.classList.add("highlightArea")}}ny=new WeakMap,sy=new WeakSet,mS=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var Kh,lu,Qh,ol,iy,cu,zl,gS,yS,Zh;let sT=(Zh=class{constructor({div:e,accessibilityManager:t,annotationCanvasMap:s,annotationEditorUIManager:i,page:r,viewport:o,structTreeLayer:a,commentManager:c,linkService:u,annotationStorage:d}){S(this,zl);S(this,Kh,null);S(this,lu,null);S(this,Qh,null);S(this,ol,new Map);S(this,iy,null);S(this,cu,null);this.div=e,w(this,Kh,t),w(this,lu,s),w(this,iy,a||null),w(this,cu,u||null),w(this,Qh,d||new KC),this.page=r,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=i,this._commentManager=c||null}hasEditableAnnotations(){return l(this,ol).size>0}async render(e){var o,a,c;const{annotations:t}=e,s=this.div;Vl(s,this.viewport);const i=new Map,r={data:null,layer:s,linkService:l(this,cu),downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new Vm,annotationStorage:l(this,Qh),enableComment:e.enableComment===!0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const u of t){if(u.noHTML)continue;const d=u.annotationType===Ct.POPUP;if(d){const p=i.get(u.id);if(!p)continue;r.elements=p}else if(u.rect[2]===u.rect[0]||u.rect[3]===u.rect[1])continue;r.data=u;const h=Q_.create(r);if(!h.isRenderable)continue;if(!d&&u.popupRef){const p=i.get(u.popupRef);p?p.push(h):i.set(u.popupRef,[h])}const f=h.render();u.hidden&&(f.style.visibility="hidden"),await C(this,zl,gS).call(this,f,u.id,r.elements),(a=(o=h.extraPopupElement)==null?void 0:o.popup)==null||a.renderCommentButton(),h._isEditable&&(l(this,ol).set(h.data.id,h),(c=this._annotationEditorUIManager)==null||c.renderAnnotationElement(h))}C(this,zl,yS).call(this)}async addLinkAnnotations(e){const t={data:null,layer:this.div,linkService:l(this,cu),svgFactory:new Vm,parent:this};for(const s of e){s.borderStyle||(s.borderStyle=Zh._defaultBorderStyle),t.data=s;const i=Q_.create(t);if(!i.isRenderable)continue;const r=i.render();await C(this,zl,gS).call(this,r,s.id,null)}}update({viewport:e}){const t=this.div;this.viewport=e,Vl(t,{rotation:e.rotation}),C(this,zl,yS).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(l(this,ol).values())}getEditableAnnotation(e){return l(this,ol).get(e)}addFakeAnnotation(e){var a;const{div:t}=this,{id:s,rotation:i}=e,r=new n9({data:{id:s,rect:e.getPDFRect(),rotation:i},editor:e,layer:t,parent:this,enableComment:!!this._commentManager,linkService:l(this,cu),annotationStorage:l(this,Qh)}),o=r.render();return t.append(o),(a=l(this,Kh))==null||a.moveElementInDOM(t,o,o,!1),r.createOrUpdatePopup(),r}static get _defaultBorderStyle(){return fe(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:Zu.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}},Kh=new WeakMap,lu=new WeakMap,Qh=new WeakMap,ol=new WeakMap,iy=new WeakMap,cu=new WeakMap,zl=new WeakSet,gS=async function(e,t,s){var a,c;const i=e.firstChild||e,r=i.id=`${qC}${t}`,o=await((a=l(this,iy))==null?void 0:a.getAriaAttributes(r));if(o)for(const[u,d]of o)i.setAttribute(u,d);s?s.at(-1).container.after(e):(this.div.append(e),(c=l(this,Kh))==null||c.moveElementInDOM(this.div,e,i,!1))},yS=function(){var t;if(!l(this,lu))return;const e=this.div;for(const[s,i]of l(this,lu)){const r=e.querySelector(`[data-annotation-id="${s}"]`);if(!r)continue;i.className="annotationContent";const{firstChild:o}=r;o?o.nodeName==="CANVAS"?o.replaceWith(i):o.classList.contains("annotationContent")?o.after(i):o.before(i):r.append(i);const a=l(this,ol).get(s);a&&(a._hasNoCanvas?((t=this._annotationEditorUIManager)==null||t.setMissingCanvas(s,r.id,i),a._hasNoCanvas=!1):a.canvas=i)}l(this,lu).clear()},Zh);const Tv=/\r\n?|\n/g;var Ss,ry,uu,Es,It,HF,WF,GF,u0,qo,d0,h0,qF,wS,XF;const Ke=class Ke extends qe{constructor(t){super({...t,name:"freeTextEditor"});S(this,It);S(this,Ss,"");S(this,ry,`${this.id}-editor`);S(this,uu,null);S(this,Es);V(this,"_colorPicker",null);this.color=t.color||Ke._defaultColor||qe._defaultLineColor,w(this,Es,t.fontSize||Ke._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static get _keyboardManager(){const t=Ke.prototype,s=o=>o.isEmpty(),i=$l.TRANSLATE_SMALL,r=$l.TRANSLATE_BIG;return fe(this,"_keyboardManager",new Vy([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:s}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-r,0],checker:s}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[i,0],checker:s}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[r,0],checker:s}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:s}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-r],checker:s}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,i],checker:s}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,r],checker:s}]]))}static initialize(t,s){qe.initialize(t,s);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,s){switch(t){case xe.FREETEXT_SIZE:Ke._defaultFontSize=s;break;case xe.FREETEXT_COLOR:Ke._defaultColor=s;break}}updateParams(t,s){switch(t){case xe.FREETEXT_SIZE:C(this,It,HF).call(this,s);break;case xe.FREETEXT_COLOR:C(this,It,WF).call(this,s);break}}static get defaultPropertiesToUpdate(){return[[xe.FREETEXT_SIZE,Ke._defaultFontSize],[xe.FREETEXT_COLOR,Ke._defaultColor||qe._defaultLineColor]]}get propertiesToUpdate(){return[[xe.FREETEXT_SIZE,l(this,Es)],[xe.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new vw(this)),[["colorPicker",this._colorPicker]]}get colorType(){return xe.FREETEXT_COLOR}onUpdatedColor(){var t;this.editorDiv.style.color=this.color,(t=this._colorPicker)==null||t.update(this.color),super.onUpdatedColor()}_translateEmpty(t,s){this._uiManager.translateSelectedEditors(t,s,!0)}getInitialTranslation(){const t=this.parentScale;return[-Ke._internalPadding*t,-(Ke._internalPadding+l(this,Es))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),w(this,uu,new AbortController);const t=this._uiManager.combinedSignal(l(this,uu));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){var t;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",l(this,ry)),this._isDraggable=!0,(t=l(this,uu))==null||t.abort(),w(this,uu,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){var s;this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),(s=this._initialOptions)!=null&&s.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=l(this,Ss),s=w(this,Ss,C(this,It,GF).call(this).trimEnd());if(t===s)return;const i=r=>{if(w(this,Ss,r),!r){this.remove();return}C(this,It,h0).call(this),this._uiManager.rebuild(this),C(this,It,u0).call(this)};this.addCommands({cmd:()=>{i(s)},undo:()=>{i(t)},mustExec:!1}),C(this,It,u0).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){Ke._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,s;(this._isCopy||this.annotationElementId)&&(t=this.x,s=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",l(this,ry)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${l(this,Es)}px * var(--total-scale-factor))`,i.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[r,o]=this.parentDimensions;if(this.annotationElementId){const{position:a}=this._initialData;let[c,u]=this.getInitialTranslation();[c,u]=this.pageTranslationToScreen(c,u);const[d,h]=this.pageDimensions,[f,p]=this.pageTranslation;let y,m;switch(this.rotation){case 0:y=t+(a[0]-f)/d,m=s+this.height-(a[1]-p)/h;break;case 90:y=t+(a[0]-f)/d,m=s-(a[1]-p)/h,[c,u]=[u,-c];break;case 180:y=t-this.width+(a[0]-f)/d,m=s-(a[1]-p)/h,[c,u]=[-c,-u];break;case 270:y=t+(a[0]-f-this.height*h)/d,m=s+(a[1]-p-this.width*d)/h,[c,u]=[-u,c];break}this.setAt(y*r,m*o,c,u)}else this._moveAfterPaste(t,s);C(this,It,h0).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var y,m,b;const s=t.clipboardData||window.clipboardData,{types:i}=s;if(i.length===1&&i[0]==="text/plain")return;t.preventDefault();const r=C(y=Ke,qo,wS).call(y,s.getData("text")||"").replaceAll(Tv,`
`);if(!r)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const a=o.getRangeAt(0);if(!r.includes(`
`)){a.insertNode(document.createTextNode(r)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:c,startOffset:u}=a,d=[],h=[];if(c.nodeType===Node.TEXT_NODE){const g=c.parentElement;if(h.push(c.nodeValue.slice(u).replaceAll(Tv,"")),g!==this.editorDiv){let v=d;for(const A of this.editorDiv.childNodes){if(A===g){v=h;continue}v.push(C(m=Ke,qo,d0).call(m,A))}}d.push(c.nodeValue.slice(0,u).replaceAll(Tv,""))}else if(c===this.editorDiv){let g=d,v=0;for(const A of this.editorDiv.childNodes)v++===u&&(g=h),g.push(C(b=Ke,qo,d0).call(b,A))}w(this,Ss,`${d.join(`
`)}${r}${h.join(`
`)}`),C(this,It,h0).call(this);const f=new Range;let p=Math.sumPrecise(d.map(g=>g.length));for(const{firstChild:g}of this.editorDiv.childNodes)if(g.nodeType===Node.TEXT_NODE){const v=g.nodeValue.length;if(p<=v){f.setStart(g,p),f.setEnd(g,p);break}p-=v}o.removeAllRanges(),o.addRange(f)}get contentDiv(){return this.editorDiv}getPDFRect(){const t=Ke._internalPadding*this.parentScale;return this.getRect(t,t)}static async deserialize(t,s,i){var a;let r=null;if(t instanceof VF){const{data:{defaultAppearanceData:{fontSize:c,fontColor:u},rect:d,rotation:h,id:f,popupRef:p,richText:y,contentsObj:m,creationDate:b,modificationDate:g},textContent:v,textPosition:A,parent:{page:{pageNumber:E}}}=t;if(!v||v.length===0)return null;r=t={annotationType:ae.FREETEXT,color:Array.from(u),fontSize:c,value:v.join(`
`),position:A,pageIndex:E-1,rect:d.slice(0),rotation:h,annotationElementId:f,id:f,deleted:!1,popupRef:p,comment:(m==null?void 0:m.str)||null,richText:y,creationDate:b,modificationDate:g}}const o=await super.deserialize(t,s,i);return w(o,Es,t.fontSize),o.color=Q.makeHexColor(...t.color),w(o,Ss,C(a=Ke,qo,wS).call(a,t.value)),o._initialData=r,t.comment&&o.setCommentData(t),o}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const s=qe._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),i=Object.assign(super.serialize(t),{color:s,fontSize:l(this,Es),value:C(this,It,qF).call(this)});return this.addComment(i),t?(i.isCopy=!0,i):this.annotationElementId&&!C(this,It,XF).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(t){const s=super.renderAnnotationElement(t);if(!s)return null;const{style:i}=s;i.fontSize=`calc(${l(this,Es)}px * var(--total-scale-factor))`,i.color=this.color,s.replaceChildren();for(const r of l(this,Ss).split(`
`)){const o=document.createElement("div");o.append(r?document.createTextNode(r):document.createElement("br")),s.append(o)}return t.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:l(this,Ss)}}),s}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};Ss=new WeakMap,ry=new WeakMap,uu=new WeakMap,Es=new WeakMap,It=new WeakSet,HF=function(t){const s=r=>{this.editorDiv.style.fontSize=`calc(${r}px * var(--total-scale-factor))`,this.translate(0,-(r-l(this,Es))*this.parentScale),w(this,Es,r),C(this,It,u0).call(this)},i=l(this,Es);this.addCommands({cmd:s.bind(this,t),undo:s.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:xe.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},WF=function(t){const s=r=>{this.color=r,this.onUpdatedColor()},i=this.color;this.addCommands({cmd:s.bind(this,t),undo:s.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:xe.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},GF=function(){var i;const t=[];this.editorDiv.normalize();let s=null;for(const r of this.editorDiv.childNodes)(s==null?void 0:s.nodeType)===Node.TEXT_NODE&&r.nodeName==="BR"||(t.push(C(i=Ke,qo,d0).call(i,r)),s=r);return t.join(`
`)},u0=function(){const[t,s]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:r,div:o}=this,a=o.style.display,c=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",r.div.append(this.div),i=o.getBoundingClientRect(),o.remove(),o.style.display=a,o.classList.toggle("hidden",c)}this.rotation%180===this.parentRotation%180?(this.width=i.width/t,this.height=i.height/s):(this.width=i.height/t,this.height=i.width/s),this.fixAndSetPosition()},qo=new WeakSet,d0=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(Tv,"")},h0=function(){if(this.editorDiv.replaceChildren(),!!l(this,Ss))for(const t of l(this,Ss).split(`
`)){const s=document.createElement("div");s.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(s)}},qF=function(){return l(this,Ss).replaceAll(""," ")},wS=function(t){return t.replaceAll(" ","")},XF=function(t){const{value:s,fontSize:i,color:r,pageIndex:o}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||t.value!==s||t.fontSize!==i||t.color.some((a,c)=>a!==r[c])||t.pageIndex!==o},S(Ke,qo),V(Ke,"_freeTextDefaultContent",""),V(Ke,"_internalPadding",0),V(Ke,"_defaultColor",null),V(Ke,"_defaultFontSize",10),V(Ke,"_type","freetext"),V(Ke,"_editorType",ae.FREETEXT);let vS=Ke;class K{toSVGPath(){He("Abstract method `toSVGPath` must be implemented.")}get box(){He("Abstract getter `box` must be implemented.")}serialize(e,t){He("Abstract method `serialize` must be implemented.")}static _rescale(e,t,s,i,r,o){o||(o=new Float32Array(e.length));for(let a=0,c=e.length;a<c;a+=2)o[a]=t+e[a]*i,o[a+1]=s+e[a+1]*r;return o}static _rescaleAndSwap(e,t,s,i,r,o){o||(o=new Float32Array(e.length));for(let a=0,c=e.length;a<c;a+=2)o[a]=t+e[a+1]*i,o[a+1]=s+e[a]*r;return o}static _translate(e,t,s,i){i||(i=new Float32Array(e.length));for(let r=0,o=e.length;r<o;r+=2)i[r]=t+e[r],i[r+1]=s+e[r+1];return i}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,s,i,r){switch(r){case 90:return[1-t/s,e/i];case 180:return[1-e/s,1-t/i];case 270:return[t/s,1-e/i];default:return[e/s,t/i]}}static _normalizePagePoint(e,t,s){switch(s){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,s,i,r,o){return[(e+5*s)/6,(t+5*i)/6,(5*s+r)/6,(5*i+o)/6,(s+r)/2,(i+o)/2]}}V(K,"PRECISION",1e-4);var Cs,Bi,Jh,ef,Nr,ve,du,hu,oy,ay,tf,nf,al,ly,jw,Bw,Ut,Fp,YF,KF,QF,ZF,JF,eO;const ro=class ro{constructor({x:e,y:t},s,i,r,o,a=0){S(this,Ut);S(this,Cs);S(this,Bi,[]);S(this,Jh);S(this,ef);S(this,Nr,[]);S(this,ve,new Float32Array(18));S(this,du);S(this,hu);S(this,oy);S(this,ay);S(this,tf);S(this,nf);S(this,al,[]);w(this,Cs,s),w(this,nf,r*i),w(this,ef,o),l(this,ve).set([NaN,NaN,NaN,NaN,e,t],6),w(this,Jh,a),w(this,ay,l(ro,ly)*i),w(this,oy,l(ro,Bw)*i),w(this,tf,i),l(this,al).push(e,t)}isEmpty(){return isNaN(l(this,ve)[8])}add({x:e,y:t}){var M;w(this,du,e),w(this,hu,t);const[s,i,r,o]=l(this,Cs);let[a,c,u,d]=l(this,ve).subarray(8,12);const h=e-u,f=t-d,p=Math.hypot(h,f);if(p<l(this,oy))return!1;const y=p-l(this,ay),m=y/p,b=m*h,g=m*f;let v=a,A=c;a=u,c=d,u+=b,d+=g,(M=l(this,al))==null||M.push(e,t);const E=-g/y,T=b/y,k=E*l(this,nf),_=T*l(this,nf);return l(this,ve).set(l(this,ve).subarray(2,8),0),l(this,ve).set([u+k,d+_],4),l(this,ve).set(l(this,ve).subarray(14,18),12),l(this,ve).set([u-k,d-_],16),isNaN(l(this,ve)[6])?(l(this,Nr).length===0&&(l(this,ve).set([a+k,c+_],2),l(this,Nr).push(NaN,NaN,NaN,NaN,(a+k-s)/r,(c+_-i)/o),l(this,ve).set([a-k,c-_],14),l(this,Bi).push(NaN,NaN,NaN,NaN,(a-k-s)/r,(c-_-i)/o)),l(this,ve).set([v,A,a,c,u,d],6),!this.isEmpty()):(l(this,ve).set([v,A,a,c,u,d],6),Math.abs(Math.atan2(A-c,v-a)-Math.atan2(g,b))<Math.PI/2?([a,c,u,d]=l(this,ve).subarray(2,6),l(this,Nr).push(NaN,NaN,NaN,NaN,((a+u)/2-s)/r,((c+d)/2-i)/o),[a,c,v,A]=l(this,ve).subarray(14,18),l(this,Bi).push(NaN,NaN,NaN,NaN,((v+a)/2-s)/r,((A+c)/2-i)/o),!0):([v,A,a,c,u,d]=l(this,ve).subarray(0,6),l(this,Nr).push(((v+5*a)/6-s)/r,((A+5*c)/6-i)/o,((5*a+u)/6-s)/r,((5*c+d)/6-i)/o,((a+u)/2-s)/r,((c+d)/2-i)/o),[u,d,a,c,v,A]=l(this,ve).subarray(12,18),l(this,Bi).push(((v+5*a)/6-s)/r,((A+5*c)/6-i)/o,((5*a+u)/6-s)/r,((5*c+d)/6-i)/o,((a+u)/2-s)/r,((c+d)/2-i)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const e=l(this,Nr),t=l(this,Bi);if(isNaN(l(this,ve)[6])&&!this.isEmpty())return C(this,Ut,YF).call(this);const s=[];s.push(`M${e[4]} ${e[5]}`);for(let i=6;i<e.length;i+=6)isNaN(e[i])?s.push(`L${e[i+4]} ${e[i+5]}`):s.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);C(this,Ut,QF).call(this,s);for(let i=t.length-6;i>=6;i-=6)isNaN(t[i])?s.push(`L${t[i+4]} ${t[i+5]}`):s.push(`C${t[i]} ${t[i+1]} ${t[i+2]} ${t[i+3]} ${t[i+4]} ${t[i+5]}`);return C(this,Ut,KF).call(this,s),s.join(" ")}newFreeDrawOutline(e,t,s,i,r,o){return new tO(e,t,s,i,r,o)}getOutlines(){var h;const e=l(this,Nr),t=l(this,Bi),s=l(this,ve),[i,r,o,a]=l(this,Cs),c=new Float32Array((((h=l(this,al))==null?void 0:h.length)??0)+2);for(let f=0,p=c.length-2;f<p;f+=2)c[f]=(l(this,al)[f]-i)/o,c[f+1]=(l(this,al)[f+1]-r)/a;if(c[c.length-2]=(l(this,du)-i)/o,c[c.length-1]=(l(this,hu)-r)/a,isNaN(s[6])&&!this.isEmpty())return C(this,Ut,ZF).call(this,c);const u=new Float32Array(l(this,Nr).length+24+l(this,Bi).length);let d=e.length;for(let f=0;f<d;f+=2){if(isNaN(e[f])){u[f]=u[f+1]=NaN;continue}u[f]=e[f],u[f+1]=e[f+1]}d=C(this,Ut,eO).call(this,u,d);for(let f=t.length-6;f>=6;f-=6)for(let p=0;p<6;p+=2){if(isNaN(t[f+p])){u[d]=u[d+1]=NaN,d+=2;continue}u[d]=t[f+p],u[d+1]=t[f+p+1],d+=2}return C(this,Ut,JF).call(this,u,d),this.newFreeDrawOutline(u,c,l(this,Cs),l(this,tf),l(this,Jh),l(this,ef))}};Cs=new WeakMap,Bi=new WeakMap,Jh=new WeakMap,ef=new WeakMap,Nr=new WeakMap,ve=new WeakMap,du=new WeakMap,hu=new WeakMap,oy=new WeakMap,ay=new WeakMap,tf=new WeakMap,nf=new WeakMap,al=new WeakMap,ly=new WeakMap,jw=new WeakMap,Bw=new WeakMap,Ut=new WeakSet,Fp=function(){const e=l(this,ve).subarray(4,6),t=l(this,ve).subarray(16,18),[s,i,r,o]=l(this,Cs);return[(l(this,du)+(e[0]-t[0])/2-s)/r,(l(this,hu)+(e[1]-t[1])/2-i)/o,(l(this,du)+(t[0]-e[0])/2-s)/r,(l(this,hu)+(t[1]-e[1])/2-i)/o]},YF=function(){const[e,t,s,i]=l(this,Cs),[r,o,a,c]=C(this,Ut,Fp).call(this);return`M${(l(this,ve)[2]-e)/s} ${(l(this,ve)[3]-t)/i} L${(l(this,ve)[4]-e)/s} ${(l(this,ve)[5]-t)/i} L${r} ${o} L${a} ${c} L${(l(this,ve)[16]-e)/s} ${(l(this,ve)[17]-t)/i} L${(l(this,ve)[14]-e)/s} ${(l(this,ve)[15]-t)/i} Z`},KF=function(e){const t=l(this,Bi);e.push(`L${t[4]} ${t[5]} Z`)},QF=function(e){const[t,s,i,r]=l(this,Cs),o=l(this,ve).subarray(4,6),a=l(this,ve).subarray(16,18),[c,u,d,h]=C(this,Ut,Fp).call(this);e.push(`L${(o[0]-t)/i} ${(o[1]-s)/r} L${c} ${u} L${d} ${h} L${(a[0]-t)/i} ${(a[1]-s)/r}`)},ZF=function(e){const t=l(this,ve),[s,i,r,o]=l(this,Cs),[a,c,u,d]=C(this,Ut,Fp).call(this),h=new Float32Array(36);return h.set([NaN,NaN,NaN,NaN,(t[2]-s)/r,(t[3]-i)/o,NaN,NaN,NaN,NaN,(t[4]-s)/r,(t[5]-i)/o,NaN,NaN,NaN,NaN,a,c,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,(t[16]-s)/r,(t[17]-i)/o,NaN,NaN,NaN,NaN,(t[14]-s)/r,(t[15]-i)/o],0),this.newFreeDrawOutline(h,e,l(this,Cs),l(this,tf),l(this,Jh),l(this,ef))},JF=function(e,t){const s=l(this,Bi);return e.set([NaN,NaN,NaN,NaN,s[4],s[5]],t),t+=6},eO=function(e,t){const s=l(this,ve).subarray(4,6),i=l(this,ve).subarray(16,18),[r,o,a,c]=l(this,Cs),[u,d,h,f]=C(this,Ut,Fp).call(this);return e.set([NaN,NaN,NaN,NaN,(s[0]-r)/a,(s[1]-o)/c,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,h,f,NaN,NaN,NaN,NaN,(i[0]-r)/a,(i[1]-o)/c],t),t+=24},S(ro,ly,8),S(ro,jw,2),S(ro,Bw,l(ro,ly)+l(ro,jw));let ww=ro;var sf,fu,Fo,cy,Ts,uy,Pt,Vw,nO;class tO extends K{constructor(t,s,i,r,o,a){super();S(this,Vw);S(this,sf);S(this,fu,new Float32Array(4));S(this,Fo);S(this,cy);S(this,Ts);S(this,uy);S(this,Pt);w(this,Pt,t),w(this,Ts,s),w(this,sf,i),w(this,uy,r),w(this,Fo,o),w(this,cy,a),this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],C(this,Vw,nO).call(this,a);const[c,u,d,h]=l(this,fu);for(let f=0,p=t.length;f<p;f+=2)t[f]=(t[f]-c)/d,t[f+1]=(t[f+1]-u)/h;for(let f=0,p=s.length;f<p;f+=2)s[f]=(s[f]-c)/d,s[f+1]=(s[f+1]-u)/h}toSVGPath(){const t=[`M${l(this,Pt)[4]} ${l(this,Pt)[5]}`];for(let s=6,i=l(this,Pt).length;s<i;s+=6){if(isNaN(l(this,Pt)[s])){t.push(`L${l(this,Pt)[s+4]} ${l(this,Pt)[s+5]}`);continue}t.push(`C${l(this,Pt)[s]} ${l(this,Pt)[s+1]} ${l(this,Pt)[s+2]} ${l(this,Pt)[s+3]} ${l(this,Pt)[s+4]} ${l(this,Pt)[s+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,s,i,r],o){const a=i-t,c=r-s;let u,d;switch(o){case 0:u=K._rescale(l(this,Pt),t,r,a,-c),d=K._rescale(l(this,Ts),t,r,a,-c);break;case 90:u=K._rescaleAndSwap(l(this,Pt),t,s,a,c),d=K._rescaleAndSwap(l(this,Ts),t,s,a,c);break;case 180:u=K._rescale(l(this,Pt),i,s,-a,c),d=K._rescale(l(this,Ts),i,s,-a,c);break;case 270:u=K._rescaleAndSwap(l(this,Pt),i,r,-a,-c),d=K._rescaleAndSwap(l(this,Ts),i,r,-a,-c);break}return{outline:Array.from(u),points:[Array.from(d)]}}get box(){return l(this,fu)}newOutliner(t,s,i,r,o,a=0){return new ww(t,s,i,r,o,a)}getNewOutline(t,s){const[i,r,o,a]=l(this,fu),[c,u,d,h]=l(this,sf),f=o*d,p=a*h,y=i*d+c,m=r*h+u,b=this.newOutliner({x:l(this,Ts)[0]*f+y,y:l(this,Ts)[1]*p+m},l(this,sf),l(this,uy),t,l(this,cy),s??l(this,Fo));for(let g=2;g<l(this,Ts).length;g+=2)b.add({x:l(this,Ts)[g]*f+y,y:l(this,Ts)[g+1]*p+m});return b.getOutlines()}}sf=new WeakMap,fu=new WeakMap,Fo=new WeakMap,cy=new WeakMap,Ts=new WeakMap,uy=new WeakMap,Pt=new WeakMap,Vw=new WeakSet,nO=function(t){const s=l(this,Pt);let i=s[4],r=s[5];const o=[i,r,i,r];let a=i,c=r,u=i,d=r;const h=t?Math.max:Math.min,f=new Float32Array(4);for(let y=6,m=s.length;y<m;y+=6){const b=s[y+4],g=s[y+5];isNaN(s[y])?(Q.pointBoundingBox(b,g,o),c>g?(a=b,c=g):c===g&&(a=h(a,b)),d<g?(u=b,d=g):d===g&&(u=h(u,b))):(f[0]=f[1]=1/0,f[2]=f[3]=-1/0,Q.bezierBoundingBox(i,r,...s.slice(y,y+6),f),Q.rectBoundingBox(f[0],f[1],f[2],f[3],o),c>f[1]?(a=f[0],c=f[1]):c===f[1]&&(a=h(a,f[0])),d<f[3]?(u=f[2],d=f[3]):d===f[3]&&(u=h(u,f[2]))),i=b,r=g}const p=l(this,fu);p[0]=o[0]-l(this,Fo),p[1]=o[1]-l(this,Fo),p[2]=o[2]-o[0]+2*l(this,Fo),p[3]=o[3]-o[1]+2*l(this,Fo),this.firstPoint=[a,c],this.lastPoint=[u,d]};var dy,hy,fy,ll,Vi,Gn,sO,f0,iO,rO,bS;class xS{constructor(e,t=0,s=0,i=!0){S(this,Gn);S(this,dy);S(this,hy);S(this,fy);S(this,ll,[]);S(this,Vi,[]);const r=[1/0,1/0,-1/0,-1/0],a=10**-4;for(const{x:b,y:g,width:v,height:A}of e){const E=Math.floor((b-t)/a)*a,T=Math.ceil((b+v+t)/a)*a,k=Math.floor((g-t)/a)*a,_=Math.ceil((g+A+t)/a)*a,R=[E,k,_,!0],M=[T,k,_,!1];l(this,ll).push(R,M),Q.rectBoundingBox(E,k,T,_,r)}const c=r[2]-r[0]+2*s,u=r[3]-r[1]+2*s,d=r[0]-s,h=r[1]-s;let f=i?-1/0:1/0,p=1/0;const y=l(this,ll).at(i?-1:-2),m=[y[0],y[2]];for(const b of l(this,ll)){const[g,v,A,E]=b;!E&&i?v<p?(p=v,f=g):v===p&&(f=Math.max(f,g)):E&&!i&&(v<p?(p=v,f=g):v===p&&(f=Math.min(f,g))),b[0]=(g-d)/c,b[1]=(v-h)/u,b[2]=(A-h)/u}w(this,dy,new Float32Array([d,h,c,u])),w(this,hy,[f,p]),w(this,fy,m)}getOutlines(){l(this,ll).sort((t,s)=>t[0]-s[0]||t[1]-s[1]||t[2]-s[2]);const e=[];for(const t of l(this,ll))t[3]?(e.push(...C(this,Gn,bS).call(this,t)),C(this,Gn,iO).call(this,t)):(C(this,Gn,rO).call(this,t),e.push(...C(this,Gn,bS).call(this,t)));return C(this,Gn,sO).call(this,e)}}dy=new WeakMap,hy=new WeakMap,fy=new WeakMap,ll=new WeakMap,Vi=new WeakMap,Gn=new WeakSet,sO=function(e){const t=[],s=new Set;for(const o of e){const[a,c,u]=o;t.push([a,c,o],[a,u,o])}t.sort((o,a)=>o[1]-a[1]||o[0]-a[0]);for(let o=0,a=t.length;o<a;o+=2){const c=t[o][2],u=t[o+1][2];c.push(u),u.push(c),s.add(c),s.add(u)}const i=[];let r;for(;s.size>0;){const o=s.values().next().value;let[a,c,u,d,h]=o;s.delete(o);let f=a,p=c;for(r=[a,u],i.push(r);;){let y;if(s.has(d))y=d;else if(s.has(h))y=h;else break;s.delete(y),[a,c,u,d,h]=y,f!==a&&(r.push(f,p,a,p===c?c:u),f=a),p=p===c?u:c}r.push(f,p)}return new w9(i,l(this,dy),l(this,hy),l(this,fy))},f0=function(e){const t=l(this,Vi);let s=0,i=t.length-1;for(;s<=i;){const r=s+i>>1,o=t[r][0];if(o===e)return r;o<e?s=r+1:i=r-1}return i+1},iO=function([,e,t]){const s=C(this,Gn,f0).call(this,e);l(this,Vi).splice(s,0,[e,t])},rO=function([,e,t]){const s=C(this,Gn,f0).call(this,e);for(let i=s;i<l(this,Vi).length;i++){const[r,o]=l(this,Vi)[i];if(r!==e)break;if(r===e&&o===t){l(this,Vi).splice(i,1);return}}for(let i=s-1;i>=0;i--){const[r,o]=l(this,Vi)[i];if(r!==e)break;if(r===e&&o===t){l(this,Vi).splice(i,1);return}}},bS=function(e){const[t,s,i]=e,r=[[t,s,i]],o=C(this,Gn,f0).call(this,i);for(let a=0;a<o;a++){const[c,u]=l(this,Vi)[a];for(let d=0,h=r.length;d<h;d++){const[,f,p]=r[d];if(!(u<=f||p<=c)){if(f>=c){if(p>u)r[d][1]=u;else{if(h===1)return[];r.splice(d,1),d--,h--}continue}r[d][2]=c,p>u&&r.push([t,u,p])}}}return r};var py,rf;class w9 extends K{constructor(t,s,i,r){super();S(this,py);S(this,rf);w(this,rf,t),w(this,py,s),this.firstPoint=i,this.lastPoint=r}toSVGPath(){const t=[];for(const s of l(this,rf)){let[i,r]=s;t.push(`M${i} ${r}`);for(let o=2;o<s.length;o+=2){const a=s[o],c=s[o+1];a===i?(t.push(`V${c}`),r=c):c===r&&(t.push(`H${a}`),i=a)}t.push("Z")}return t.join(" ")}serialize([t,s,i,r],o){const a=[],c=i-t,u=r-s;for(const d of l(this,rf)){const h=new Array(d.length);for(let f=0;f<d.length;f+=2)h[f]=t+d[f]*c,h[f+1]=r-d[f+1]*u;a.push(h)}return a}get box(){return l(this,py)}get classNamesForOutlining(){return["highlightOutline"]}}py=new WeakMap,rf=new WeakMap;class AS extends ww{newFreeDrawOutline(e,t,s,i,r,o){return new x9(e,t,s,i,r,o)}}class x9 extends tO{newOutliner(e,t,s,i,r,o=0){return new AS(e,t,s,i,r,o)}}var of,my,Oo,pu,gy,ss,yy,vy,mu,Ps,ks,rn,af,lf,Cn,cf,ri,wy,pe,SS,p0,oO,aO,lO,ES,sc,ci,id,cO,m0,g0,uO,dO,hO,fO,pO;const Pe=class Pe extends qe{constructor(t){super({...t,name:"highlightEditor"});S(this,pe);S(this,of,null);S(this,my,0);S(this,Oo);S(this,pu,null);S(this,gy,null);S(this,ss,null);S(this,yy,null);S(this,vy,0);S(this,mu,null);S(this,Ps,null);S(this,ks,null);S(this,rn,!1);S(this,af,null);S(this,lf,null);S(this,Cn,null);S(this,cf,"");S(this,ri);S(this,wy,"");this.color=t.color||Pe._defaultColor,w(this,ri,t.thickness||Pe._defaultThickness),this.opacity=t.opacity||Pe._defaultOpacity,w(this,Oo,t.boxes||null),w(this,wy,t.methodOfCreation||""),w(this,cf,t.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(w(this,rn,!0),C(this,pe,p0).call(this,t),C(this,pe,sc).call(this)):l(this,Oo)&&(w(this,of,t.anchorNode),w(this,my,t.anchorOffset),w(this,yy,t.focusNode),w(this,vy,t.focusOffset),C(this,pe,SS).call(this),C(this,pe,sc).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){const t=Pe.prototype;return fe(this,"_keyboardManager",new Vy([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:l(this,rn)?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:l(this,ri),methodOfCreation:l(this,wy)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,s){var i;qe.initialize(t,s),Pe._defaultColor||(Pe._defaultColor=((i=s.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(t,s){switch(t){case xe.HIGHLIGHT_COLOR:Pe._defaultColor=s;break;case xe.HIGHLIGHT_THICKNESS:Pe._defaultThickness=s;break}}translateInPage(t,s){}get toolbarPosition(){return l(this,lf)}get commentButtonPosition(){return l(this,af)}updateParams(t,s){switch(t){case xe.HIGHLIGHT_COLOR:C(this,pe,oO).call(this,s);break;case xe.HIGHLIGHT_THICKNESS:C(this,pe,aO).call(this,s);break}}static get defaultPropertiesToUpdate(){return[[xe.HIGHLIGHT_COLOR,Pe._defaultColor],[xe.HIGHLIGHT_THICKNESS,Pe._defaultThickness]]}get propertiesToUpdate(){return[[xe.HIGHLIGHT_COLOR,this.color||Pe._defaultColor],[xe.HIGHLIGHT_THICKNESS,l(this,ri)||Pe._defaultThickness],[xe.HIGHLIGHT_FREE,l(this,rn)]]}onUpdatedColor(){var t,s;(t=this.parent)==null||t.drawLayer.updateProperties(l(this,ks),{root:{fill:this.color,"fill-opacity":this.opacity}}),(s=l(this,gy))==null||s.updateColor(this.color),super.onUpdatedColor()}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",w(this,gy,new Bm({editor:this}))]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(C(this,pe,g0).call(this))}getBaseTranslation(){return[0,0]}getRect(t,s){return super.getRect(t,s,C(this,pe,g0).call(this))}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){C(this,pe,ES).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(C(this,pe,sc).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var i;let s=!1;this.parent&&!t?C(this,pe,ES).call(this):t&&(C(this,pe,sc).call(this,t),s=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),s&&this.select()}rotate(t){var r,o,a;const{drawLayer:s}=this.parent;let i;l(this,rn)?(t=(t-this.rotation+360)%360,i=C(r=Pe,ci,id).call(r,l(this,Ps).box,t)):i=C(o=Pe,ci,id).call(o,[this.x,this.y,this.width,this.height],t),s.updateProperties(l(this,ks),{bbox:i,root:{"data-main-rotation":t}}),s.updateProperties(l(this,Cn),{bbox:C(a=Pe,ci,id).call(a,l(this,ss).box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();l(this,cf)&&(t.setAttribute("aria-label",l(this,cf)),t.setAttribute("role","mark")),l(this,rn)?t.classList.add("free"):this.div.addEventListener("keydown",C(this,pe,cO).bind(this),{signal:this._uiManager._signal});const s=w(this,mu,document.createElement("div"));return t.append(s),s.setAttribute("aria-hidden","true"),s.className="internal",s.style.clipPath=l(this,pu),this.setDims(this.width,this.height),II(this,l(this,mu),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(l(this,Cn),{rootClass:{hovered:!0}})}pointerleave(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(l(this,Cn),{rootClass:{hovered:!1}})}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:C(this,pe,m0).call(this,!0);break;case 1:case 3:C(this,pe,m0).call(this,!1);break}}select(){var t;super.select(),l(this,Cn)&&((t=this.parent)==null||t.drawLayer.updateProperties(l(this,Cn),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var t;super.unselect(),l(this,Cn)&&((t=this.parent)==null||t.drawLayer.updateProperties(l(this,Cn),{rootClass:{selected:!1}}),l(this,rn)||C(this,pe,m0).call(this,!1))}get _mustFixPosition(){return!l(this,rn)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(l(this,ks),{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(l(this,Cn),{rootClass:{hidden:!t}}))}static startHighlighting(t,s,{target:i,x:r,y:o}){const{x:a,y:c,width:u,height:d}=i.getBoundingClientRect(),h=new AbortController,f=t.combinedSignal(h),p=y=>{h.abort(),C(this,ci,fO).call(this,t,y)};window.addEventListener("blur",p,{signal:f}),window.addEventListener("pointerup",p,{signal:f}),window.addEventListener("pointerdown",ct,{capture:!0,passive:!1,signal:f}),window.addEventListener("contextmenu",zs,{signal:f}),i.addEventListener("pointermove",C(this,ci,hO).bind(this,t),{signal:f}),this._freeHighlight=new AS({x:r,y:o},[a,c,u,d],t.scale,this._defaultThickness/2,s,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(t,s,i){var m,b,g,v;let r=null;if(t instanceof UF){const{data:{quadPoints:A,rect:E,rotation:T,id:k,color:_,opacity:R,popupRef:M,richText:N,contentsObj:L,creationDate:O,modificationDate:U},parent:{page:{pageNumber:I}}}=t;r=t={annotationType:ae.HIGHLIGHT,color:Array.from(_),opacity:R,quadPoints:A,boxes:null,pageIndex:I-1,rect:E.slice(0),rotation:T,annotationElementId:k,id:k,deleted:!1,popupRef:M,richText:N,comment:(L==null?void 0:L.str)||null,creationDate:O,modificationDate:U}}else if(t instanceof nT){const{data:{inkLists:A,rect:E,rotation:T,id:k,color:_,borderStyle:{rawWidth:R},popupRef:M,richText:N,contentsObj:L,creationDate:O,modificationDate:U},parent:{page:{pageNumber:I}}}=t;r=t={annotationType:ae.HIGHLIGHT,color:Array.from(_),thickness:R,inkLists:A,boxes:null,pageIndex:I-1,rect:E.slice(0),rotation:T,annotationElementId:k,id:k,deleted:!1,popupRef:M,richText:N,comment:(L==null?void 0:L.str)||null,creationDate:O,modificationDate:U}}const{color:o,quadPoints:a,inkLists:c,opacity:u}=t,d=await super.deserialize(t,s,i);d.color=Q.makeHexColor(...o),d.opacity=u||1,c&&w(d,ri,t.thickness),d._initialData=r,t.comment&&d.setCommentData(t);const[h,f]=d.pageDimensions,[p,y]=d.pageTranslation;if(a){const A=w(d,Oo,[]);for(let E=0;E<a.length;E+=8)A.push({x:(a[E]-p)/h,y:1-(a[E+1]-y)/f,width:(a[E+2]-a[E])/h,height:(a[E+1]-a[E+5])/f});C(m=d,pe,SS).call(m),C(b=d,pe,sc).call(b),d.rotate(d.rotation)}else if(c){w(d,rn,!0);const A=c[0],E={x:A[0]-p,y:f-(A[1]-y)},T=new AS(E,[0,0,h,f],1,l(d,ri)/2,!0,.001);for(let R=0,M=A.length;R<M;R+=2)E.x=A[R]-p,E.y=f-(A[R+1]-y),T.add(E);const{id:k,clipPathId:_}=s.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:d.color,"fill-opacity":d._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:T.toSVGPath()}},!0,!0);C(g=d,pe,p0).call(g,{highlightOutlines:T.getOutlines(),highlightId:k,clipPathId:_}),C(v=d,pe,sc).call(v),d.rotate(d.parentRotation)}return d}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const s=qe._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),i=super.serialize(t);return Object.assign(i,{color:s,opacity:this.opacity,thickness:l(this,ri),quadPoints:C(this,pe,uO).call(this),outlines:C(this,pe,dO).call(this,i.rect)}),this.addComment(i),this.annotationElementId&&!C(this,pe,pO).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}};of=new WeakMap,my=new WeakMap,Oo=new WeakMap,pu=new WeakMap,gy=new WeakMap,ss=new WeakMap,yy=new WeakMap,vy=new WeakMap,mu=new WeakMap,Ps=new WeakMap,ks=new WeakMap,rn=new WeakMap,af=new WeakMap,lf=new WeakMap,Cn=new WeakMap,cf=new WeakMap,ri=new WeakMap,wy=new WeakMap,pe=new WeakSet,SS=function(){const t=new xS(l(this,Oo),.001);w(this,Ps,t.getOutlines()),[this.x,this.y,this.width,this.height]=l(this,Ps).box;const s=new xS(l(this,Oo),.0025,.001,this._uiManager.direction==="ltr");w(this,ss,s.getOutlines());const{firstPoint:i}=l(this,Ps);w(this,af,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height]);const{lastPoint:r}=l(this,ss);w(this,lf,[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height])},p0=function({highlightOutlines:t,highlightId:s,clipPathId:i}){var f,p;if(w(this,Ps,t),w(this,ss,t.getNewOutline(l(this,ri)/2+1.5,.0025)),s>=0)w(this,ks,s),w(this,pu,i),this.parent.drawLayer.finalizeDraw(s,{bbox:t.box,path:{d:t.toSVGPath()}}),w(this,Cn,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:l(this,ss).box,path:{d:l(this,ss).toSVGPath()}},!0));else if(this.parent){const y=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(l(this,ks),{bbox:C(f=Pe,ci,id).call(f,l(this,Ps).box,(y-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(l(this,Cn),{bbox:C(p=Pe,ci,id).call(p,l(this,ss).box,y),path:{d:l(this,ss).toSVGPath()}})}const[o,a,c,u]=t.box;switch(this.rotation){case 0:this.x=o,this.y=a,this.width=c,this.height=u;break;case 90:{const[y,m]=this.parentDimensions;this.x=a,this.y=1-o,this.width=c*m/y,this.height=u*y/m;break}case 180:this.x=1-o,this.y=1-a,this.width=c,this.height=u;break;case 270:{const[y,m]=this.parentDimensions;this.x=1-a,this.y=o,this.width=c*m/y,this.height=u*y/m;break}}const{firstPoint:d}=t;w(this,af,[(d[0]-o)/c,(d[1]-a)/u]);const{lastPoint:h}=l(this,ss);w(this,lf,[(h[0]-o)/c,(h[1]-a)/u])},oO=function(t){const s=(o,a)=>{this.color=o,this.opacity=a,this.onUpdatedColor()},i=this.color,r=this.opacity;this.addCommands({cmd:s.bind(this,t,Pe._defaultOpacity),undo:s.bind(this,i,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:xe.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(t)},!0)},aO=function(t){const s=l(this,ri),i=r=>{w(this,ri,r),C(this,pe,lO).call(this,r)};this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:xe.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},lO=function(t){l(this,rn)&&(C(this,pe,p0).call(this,{highlightOutlines:l(this,Ps).getNewOutline(t/2)}),this.fixAndSetPosition(),this.setDims(this.width,this.height))},ES=function(){l(this,ks)===null||!this.parent||(this.parent.drawLayer.remove(l(this,ks)),w(this,ks,null),this.parent.drawLayer.remove(l(this,Cn)),w(this,Cn,null))},sc=function(t=this.parent){l(this,ks)===null&&({id:gt(this,ks)._,clipPathId:gt(this,pu)._}=t.drawLayer.draw({bbox:l(this,Ps).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:l(this,rn)},path:{d:l(this,Ps).toSVGPath()}},!1,!0),w(this,Cn,t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:l(this,rn)},bbox:l(this,ss).box,path:{d:l(this,ss).toSVGPath()}},l(this,rn))),l(this,mu)&&(l(this,mu).style.clipPath=l(this,pu)))},ci=new WeakSet,id=function([t,s,i,r],o){switch(o){case 90:return[1-s-r,t,r,i];case 180:return[1-t-i,1-s-r,i,r];case 270:return[s,1-t-i,r,i]}return[t,s,i,r]},cO=function(t){Pe._keyboardManager.exec(this,t)},m0=function(t){if(!l(this,of))return;const s=window.getSelection();t?s.setPosition(l(this,of),l(this,my)):s.setPosition(l(this,yy),l(this,vy))},g0=function(){return l(this,rn)?this.rotation:0},uO=function(){if(l(this,rn))return null;const[t,s]=this.pageDimensions,[i,r]=this.pageTranslation,o=l(this,Oo),a=new Float32Array(o.length*8);let c=0;for(const{x:u,y:d,width:h,height:f}of o){const p=u*t+i,y=(1-d)*s+r;a[c]=a[c+4]=p,a[c+1]=a[c+3]=y,a[c+2]=a[c+6]=p+h*t,a[c+5]=a[c+7]=y-f*s,c+=8}return a},dO=function(t){return l(this,Ps).serialize(t,C(this,pe,g0).call(this))},hO=function(t,s){this._freeHighlight.add(s)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},fO=function(t,s){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(s,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},pO=function(t){const{color:s}=this._initialData;return this.hasEditedComment||t.color.some((i,r)=>i!==s[r])},S(Pe,ci),V(Pe,"_defaultColor",null),V(Pe,"_defaultOpacity",1),V(Pe,"_defaultThickness",12),V(Pe,"_type","highlight"),V(Pe,"_editorType",ae.HIGHLIGHT),V(Pe,"_freeHighlightId",-1),V(Pe,"_freeHighlight",null),V(Pe,"_freeHighlightClipId","");let xw=Pe;var gu;class mO{constructor(){S(this,gu,Object.create(null))}updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,s]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,s)}updateSVGProperty(e,t){l(this,gu)[e]=t}toSVGProperties(){const e=l(this,gu);return w(this,gu,Object.create(null)),{root:e}}reset(){w(this,gu,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){He("Not implemented")}}gu=new WeakMap;var _s,uf,Gt,yu,vu,cl,ul,dl,wu,Ce,CS,TS,PS,Op,gO,y0,jp,rd;const J=class J extends qe{constructor(t){super(t);S(this,Ce);S(this,_s,null);S(this,uf);V(this,"_colorPicker",null);V(this,"_drawId",null);w(this,uf,t.mustBeCommitted||!1),this._addOutlines(t)}onUpdatedColor(){var t;(t=this._colorPicker)==null||t.update(this.color),super.onUpdatedColor()}_addOutlines(t){t.drawOutlines&&(C(this,Ce,CS).call(this,t),C(this,Ce,Op).call(this))}static _mergeSVGProperties(t,s){const i=new Set(Object.keys(t));for(const[r,o]of Object.entries(s))i.has(r)?Object.assign(t[r],o):t[r]=o;return t}static getDefaultDrawingOptions(t){He("Not implemented")}static get typesMap(){He("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,s){const i=this.typesMap.get(t);i&&this._defaultDrawingOptions.updateProperty(i,s),this._currentParent&&(l(J,Gt).updateProperty(i,s),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,s){const i=this.constructor.typesMap.get(t);i&&this._updateProperty(t,i,s)}static get defaultPropertiesToUpdate(){const t=[],s=this._defaultDrawingOptions;for(const[i,r]of this.typesMap)t.push([i,s[r]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:s}=this;for(const[i,r]of this.constructor.typesMap)t.push([i,s[r]]);return t}_updateProperty(t,s,i){const r=this._drawingOptions,o=r[s],a=c=>{var d;r.updateProperty(s,c);const u=l(this,_s).updateProperty(s,c);u&&C(this,Ce,jp).call(this,u),(d=this.parent)==null||d.drawLayer.updateProperties(this._drawId,r.toSVGProperties()),t===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:a.bind(this,i),undo:a.bind(this,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,J._mergeSVGProperties(l(this,_s).getPathResizingSVGProperties(C(this,Ce,y0).call(this)),{bbox:C(this,Ce,rd).call(this)}))}_onResized(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,J._mergeSVGProperties(l(this,_s).getPathResizedSVGProperties(C(this,Ce,y0).call(this)),{bbox:C(this,Ce,rd).call(this)}))}_onTranslating(t,s){var i;(i=this.parent)==null||i.drawLayer.updateProperties(this._drawId,{bbox:C(this,Ce,rd).call(this)})}_onTranslated(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,J._mergeSVGProperties(l(this,_s).getPathTranslatedSVGProperties(C(this,Ce,y0).call(this),this.parentDimensions),{bbox:C(this,Ce,rd).call(this)}))}_onStartDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,l(this,uf)&&(w(this,uf,!1),this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){C(this,Ce,PS).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(C(this,Ce,Op).call(this),C(this,Ce,jp).call(this,l(this,_s).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var i;let s=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),C(this,Ce,PS).call(this)):t&&(this._uiManager.addShouldRescale(this),C(this,Ce,Op).call(this,t),s=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(t),s&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,J._mergeSVGProperties({bbox:C(this,Ce,rd).call(this)},l(this,_s).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&C(this,Ce,jp).call(this,l(this,_s).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,s;this._isCopy&&(t=this.x,s=this.y);const i=super.render();i.classList.add("draw");const r=document.createElement("div");return i.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,s),i}static createDrawerInstance(t,s,i,r,o){He("Not implemented")}static startDrawing(t,s,i,r){var b;const{target:o,offsetX:a,offsetY:c,pointerId:u,pointerType:d}=r;if(l(J,ul)&&l(J,ul)!==d)return;const{viewport:{rotation:h}}=t,{width:f,height:p}=o.getBoundingClientRect(),y=w(J,yu,new AbortController),m=t.combinedSignal(y);if(l(J,cl)||w(J,cl,u),l(J,ul)??w(J,ul,d),window.addEventListener("pointerup",g=>{var v;l(J,cl)===g.pointerId?this._endDraw(g):(v=l(J,dl))==null||v.delete(g.pointerId)},{signal:m}),window.addEventListener("pointercancel",g=>{var v;l(J,cl)===g.pointerId?this._currentParent.endDrawingSession():(v=l(J,dl))==null||v.delete(g.pointerId)},{signal:m}),window.addEventListener("pointerdown",g=>{l(J,ul)===g.pointerType&&((l(J,dl)||w(J,dl,new Set)).add(g.pointerId),l(J,Gt).isCancellable()&&(l(J,Gt).removeLastElement(),l(J,Gt).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:m}),window.addEventListener("contextmenu",zs,{signal:m}),o.addEventListener("pointermove",this._drawMove.bind(this),{signal:m}),o.addEventListener("touchmove",g=>{g.timeStamp===l(J,wu)&&ct(g)},{signal:m}),t.toggleDrawing(),(b=s._editorUndoBar)==null||b.hide(),l(J,Gt)){t.drawLayer.updateProperties(this._currentDrawId,l(J,Gt).startNew(a,c,f,p,h));return}s.updateUIForDefaultProperties(this),w(J,Gt,this.createDrawerInstance(a,c,f,p,h)),w(J,vu,this.getDefaultDrawingOptions()),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(l(J,vu).toSVGProperties(),l(J,Gt).defaultSVGProperties),!0,!1)}static _drawMove(t){var o;if(w(J,wu,-1),!l(J,Gt))return;const{offsetX:s,offsetY:i,pointerId:r}=t;if(l(J,cl)===r){if(((o=l(J,dl))==null?void 0:o.size)>=1){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,l(J,Gt).add(s,i)),w(J,wu,t.timeStamp),ct(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,w(J,Gt,null),w(J,vu,null),w(J,ul,null),w(J,wu,NaN)),l(J,yu)&&(l(J,yu).abort(),w(J,yu,null),w(J,cl,NaN),w(J,dl,null))}static _endDraw(t){const s=this._currentParent;if(s){if(s.toggleDrawing(!0),this._cleanup(!1),(t==null?void 0:t.target)===s.div&&s.drawLayer.updateProperties(this._currentDrawId,l(J,Gt).end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const i=l(J,Gt),r=this._currentDrawId,o=i.getLastElement();s.addCommands({cmd:()=>{s.drawLayer.updateProperties(r,i.setLastElement(o))},undo:()=>{s.drawLayer.updateProperties(r,i.removeLastElement())},mustExec:!1,type:xe.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const s=this._currentParent;if(!s)return null;if(s.toggleDrawing(!0),s.cleanUndoStack(xe.DRAW_STEP),!l(J,Gt).isEmpty()){const{pageDimensions:[i,r],scale:o}=s,a=s.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:l(J,Gt).getOutlines(i*o,r*o,o,this._INNER_MARGIN),drawingOptions:l(J,vu),mustBeCommitted:!t});return this._cleanup(!0),a}return s.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,s,i,r,o,a){He("Not implemented")}static async deserialize(t,s,i){var h,f;const{rawDims:{pageWidth:r,pageHeight:o,pageX:a,pageY:c}}=s.viewport,u=this.deserializeDraw(a,c,r,o,this._INNER_MARGIN,t),d=await super.deserialize(t,s,i);return d.createDrawingOptions(t),C(h=d,Ce,CS).call(h,{drawOutlines:u}),C(f=d,Ce,Op).call(f),d.onScaleChanging(),d.rotate(),d}serializeDraw(t){const[s,i]=this.pageTranslation,[r,o]=this.pageDimensions;return l(this,_s).serialize([s,i,r,o],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}};_s=new WeakMap,uf=new WeakMap,Gt=new WeakMap,yu=new WeakMap,vu=new WeakMap,cl=new WeakMap,ul=new WeakMap,dl=new WeakMap,wu=new WeakMap,Ce=new WeakSet,CS=function({drawOutlines:t,drawId:s,drawingOptions:i}){w(this,_s,t),this._drawingOptions||(this._drawingOptions=i),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),s>=0?(this._drawId=s,this.parent.drawLayer.finalizeDraw(s,t.defaultProperties)):this._drawId=C(this,Ce,TS).call(this,t,this.parent),C(this,Ce,jp).call(this,t.box)},TS=function(t,s){const{id:i}=s.drawLayer.draw(J._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return i},PS=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},Op=function(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=C(this,Ce,TS).call(this,l(this,_s),t)}},gO=function([t,s,i,r]){const{parentDimensions:[o,a],rotation:c}=this;switch(c){case 90:return[s,1-t,i*(a/o),r*(o/a)];case 180:return[1-t,1-s,i,r];case 270:return[1-s,t,i*(a/o),r*(o/a)];default:return[t,s,i,r]}},y0=function(){const{x:t,y:s,width:i,height:r,parentDimensions:[o,a],rotation:c}=this;switch(c){case 90:return[1-s,t,i*(o/a),r*(a/o)];case 180:return[1-t,1-s,i,r];case 270:return[s,1-t,i*(o/a),r*(a/o)];default:return[t,s,i,r]}},jp=function(t){[this.x,this.y,this.width,this.height]=C(this,Ce,gO).call(this,t),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()},rd=function(){const{x:t,y:s,width:i,height:r,rotation:o,parentRotation:a,parentDimensions:[c,u]}=this;switch((o*4+a)/90){case 1:return[1-s-r,t,r,i];case 2:return[1-t-i,1-s-r,i,r];case 3:return[s,1-t-i,r,i];case 4:return[t,s-i*(c/u),r*(u/c),i*(c/u)];case 5:return[1-s,t,i*(c/u),r*(u/c)];case 6:return[1-t-r*(u/c),1-s,r*(u/c),i*(c/u)];case 7:return[s-i*(c/u),1-t-r*(u/c),i*(c/u),r*(u/c)];case 8:return[t-i,s-r,i,r];case 9:return[1-s,t-i,r,i];case 10:return[1-t,1-s,i,r];case 11:return[s-r,1-t,r,i];case 12:return[t-r*(u/c),s,r*(u/c),i*(c/u)];case 13:return[1-s-i*(c/u),t-r*(u/c),i*(c/u),r*(u/c)];case 14:return[1-t,1-s-i*(c/u),r*(u/c),i*(c/u)];case 15:return[s,1-t,i*(c/u),r*(u/c)];default:return[t,s,i,r]}},V(J,"_currentDrawId",-1),V(J,"_currentParent",null),S(J,Gt,null),S(J,yu,null),S(J,vu,null),S(J,cl,NaN),S(J,ul,null),S(J,dl,null),S(J,wu,NaN),V(J,"_INNER_MARGIN",3);let bw=J;var Dr,qt,Xt,xu,df,On,on,oi,bu,Au,Su,hf,v0;class b9{constructor(e,t,s,i,r,o){S(this,hf);S(this,Dr,new Float64Array(6));S(this,qt);S(this,Xt);S(this,xu);S(this,df);S(this,On);S(this,on,"");S(this,oi,0);S(this,bu,new Uy);S(this,Au);S(this,Su);w(this,Au,s),w(this,Su,i),w(this,xu,r),w(this,df,o),[e,t]=C(this,hf,v0).call(this,e,t);const a=w(this,qt,[NaN,NaN,NaN,NaN,e,t]);w(this,On,[e,t]),w(this,Xt,[{line:a,points:l(this,On)}]),l(this,Dr).set(a,0)}updateProperty(e,t){e==="stroke-width"&&w(this,df,t)}isEmpty(){return!l(this,Xt)||l(this,Xt).length===0}isCancellable(){return l(this,On).length<=10}add(e,t){[e,t]=C(this,hf,v0).call(this,e,t);const[s,i,r,o]=l(this,Dr).subarray(2,6),a=e-r,c=t-o;return Math.hypot(l(this,Au)*a,l(this,Su)*c)<=2?null:(l(this,On).push(e,t),isNaN(s)?(l(this,Dr).set([r,o,e,t],2),l(this,qt).push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(l(this,Dr)[0])&&l(this,qt).splice(6,6),l(this,Dr).set([s,i,r,o,e,t],0),l(this,qt).push(...K.createBezierPoints(s,i,r,o,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const s=this.add(e,t);return s||(l(this,On).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,s,i,r){w(this,Au,s),w(this,Su,i),w(this,xu,r),[e,t]=C(this,hf,v0).call(this,e,t);const o=w(this,qt,[NaN,NaN,NaN,NaN,e,t]);w(this,On,[e,t]);const a=l(this,Xt).at(-1);return a&&(a.line=new Float32Array(a.line),a.points=new Float32Array(a.points)),l(this,Xt).push({line:o,points:l(this,On)}),l(this,Dr).set(o,0),w(this,oi,0),this.toSVGPath(),null}getLastElement(){return l(this,Xt).at(-1)}setLastElement(e){return l(this,Xt)?(l(this,Xt).push(e),w(this,qt,e.line),w(this,On,e.points),w(this,oi,0),{path:{d:this.toSVGPath()}}):l(this,bu).setLastElement(e)}removeLastElement(){if(!l(this,Xt))return l(this,bu).removeLastElement();l(this,Xt).pop(),w(this,on,"");for(let e=0,t=l(this,Xt).length;e<t;e++){const{line:s,points:i}=l(this,Xt)[e];w(this,qt,s),w(this,On,i),w(this,oi,0),this.toSVGPath()}return{path:{d:l(this,on)}}}toSVGPath(){const e=K.svgRound(l(this,qt)[4]),t=K.svgRound(l(this,qt)[5]);if(l(this,On).length===2)return w(this,on,`${l(this,on)} M ${e} ${t} Z`),l(this,on);if(l(this,On).length<=6){const i=l(this,on).lastIndexOf("M");w(this,on,`${l(this,on).slice(0,i)} M ${e} ${t}`),w(this,oi,6)}if(l(this,On).length===4){const i=K.svgRound(l(this,qt)[10]),r=K.svgRound(l(this,qt)[11]);return w(this,on,`${l(this,on)} L ${i} ${r}`),w(this,oi,12),l(this,on)}const s=[];l(this,oi)===0&&(s.push(`M ${e} ${t}`),w(this,oi,6));for(let i=l(this,oi),r=l(this,qt).length;i<r;i+=6){const[o,a,c,u,d,h]=l(this,qt).slice(i,i+6).map(K.svgRound);s.push(`C${o} ${a} ${c} ${u} ${d} ${h}`)}return w(this,on,l(this,on)+s.join(" ")),w(this,oi,l(this,qt).length),l(this,on)}getOutlines(e,t,s,i){const r=l(this,Xt).at(-1);return r.line=new Float32Array(r.line),r.points=new Float32Array(r.points),l(this,bu).build(l(this,Xt),e,t,s,l(this,xu),l(this,df),i),w(this,Dr,null),w(this,qt,null),w(this,Xt,null),w(this,on,null),l(this,bu)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}Dr=new WeakMap,qt=new WeakMap,Xt=new WeakMap,xu=new WeakMap,df=new WeakMap,On=new WeakMap,on=new WeakMap,oi=new WeakMap,bu=new WeakMap,Au=new WeakMap,Su=new WeakMap,hf=new WeakSet,v0=function(e,t){return K._normalizePoint(e,t,l(this,Au),l(this,Su),l(this,xu))};var jn,xy,by,Rs,Lr,Ir,ff,pf,Eu,un,no,yO,vO,wO;class Uy extends K{constructor(){super(...arguments);S(this,un);S(this,jn);S(this,xy,0);S(this,by);S(this,Rs);S(this,Lr);S(this,Ir);S(this,ff);S(this,pf);S(this,Eu)}build(t,s,i,r,o,a,c){w(this,Lr,s),w(this,Ir,i),w(this,ff,r),w(this,pf,o),w(this,Eu,a),w(this,by,c??0),w(this,Rs,t),C(this,un,vO).call(this)}get thickness(){return l(this,Eu)}setLastElement(t){return l(this,Rs).push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return l(this,Rs).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:s}of l(this,Rs)){if(t.push(`M${K.svgRound(s[4])} ${K.svgRound(s[5])}`),s.length===6){t.push("Z");continue}if(s.length===12&&isNaN(s[6])){t.push(`L${K.svgRound(s[10])} ${K.svgRound(s[11])}`);continue}for(let i=6,r=s.length;i<r;i+=6){const[o,a,c,u,d,h]=s.subarray(i,i+6).map(K.svgRound);t.push(`C${o} ${a} ${c} ${u} ${d} ${h}`)}}return t.join("")}serialize([t,s,i,r],o){const a=[],c=[],[u,d,h,f]=C(this,un,yO).call(this);let p,y,m,b,g,v,A,E,T;switch(l(this,pf)){case 0:T=K._rescale,p=t,y=s+r,m=i,b=-r,g=t+u*i,v=s+(1-d-f)*r,A=t+(u+h)*i,E=s+(1-d)*r;break;case 90:T=K._rescaleAndSwap,p=t,y=s,m=i,b=r,g=t+d*i,v=s+u*r,A=t+(d+f)*i,E=s+(u+h)*r;break;case 180:T=K._rescale,p=t+i,y=s,m=-i,b=r,g=t+(1-u-h)*i,v=s+d*r,A=t+(1-u)*i,E=s+(d+f)*r;break;case 270:T=K._rescaleAndSwap,p=t+i,y=s+r,m=-i,b=-r,g=t+(1-d-f)*i,v=s+(1-u-h)*r,A=t+(1-d)*i,E=s+(1-u)*r;break}for(const{line:k,points:_}of l(this,Rs))a.push(T(k,p,y,m,b,o?new Array(k.length):null)),c.push(T(_,p,y,m,b,o?new Array(_.length):null));return{lines:a,points:c,rect:[g,v,A,E]}}static deserialize(t,s,i,r,o,{paths:{lines:a,points:c},rotation:u,thickness:d}){const h=[];let f,p,y,m,b;switch(u){case 0:b=K._rescale,f=-t/i,p=s/r+1,y=1/i,m=-1/r;break;case 90:b=K._rescaleAndSwap,f=-s/r,p=-t/i,y=1/r,m=1/i;break;case 180:b=K._rescale,f=t/i+1,p=-s/r,y=-1/i,m=1/r;break;case 270:b=K._rescaleAndSwap,f=s/r+1,p=t/i+1,y=-1/r,m=-1/i;break}if(!a){a=[];for(const v of c){const A=v.length;if(A===2){a.push(new Float32Array([NaN,NaN,NaN,NaN,v[0],v[1]]));continue}if(A===4){a.push(new Float32Array([NaN,NaN,NaN,NaN,v[0],v[1],NaN,NaN,NaN,NaN,v[2],v[3]]));continue}const E=new Float32Array(3*(A-2));a.push(E);let[T,k,_,R]=v.subarray(0,4);E.set([NaN,NaN,NaN,NaN,T,k],0);for(let M=4;M<A;M+=2){const N=v[M],L=v[M+1];E.set(K.createBezierPoints(T,k,_,R,N,L),(M-2)*3),[T,k,_,R]=[_,R,N,L]}}}for(let v=0,A=a.length;v<A;v++)h.push({line:b(a[v].map(E=>E??NaN),f,p,y,m),points:b(c[v].map(E=>E??NaN),f,p,y,m)});const g=new this.prototype.constructor;return g.build(h,i,r,1,u,d,o),g}get box(){return l(this,jn)}updateProperty(t,s){return t==="stroke-width"?C(this,un,wO).call(this,s):null}updateParentDimensions([t,s],i){const[r,o]=C(this,un,no).call(this);w(this,Lr,t),w(this,Ir,s),w(this,ff,i);const[a,c]=C(this,un,no).call(this),u=a-r,d=c-o,h=l(this,jn);return h[0]-=u,h[1]-=d,h[2]+=2*u,h[3]+=2*d,h}updateRotation(t){return w(this,xy,t),{path:{transform:this.rotationTransform}}}get viewBox(){return l(this,jn).map(K.svgRound).join(" ")}get defaultProperties(){const[t,s]=l(this,jn);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${K.svgRound(t)} ${K.svgRound(s)}`}}}get rotationTransform(){const[,,t,s]=l(this,jn);let i=0,r=0,o=0,a=0,c=0,u=0;switch(l(this,xy)){case 90:r=s/t,o=-t/s,c=t;break;case 180:i=-1,a=-1,c=t,u=s;break;case 270:r=-s/t,o=t/s,u=s;break;default:return""}return`matrix(${i} ${r} ${o} ${a} ${K.svgRound(c)} ${K.svgRound(u)})`}getPathResizingSVGProperties([t,s,i,r]){const[o,a]=C(this,un,no).call(this),[c,u,d,h]=l(this,jn);if(Math.abs(d-o)<=K.PRECISION||Math.abs(h-a)<=K.PRECISION){const b=t+i/2-(c+d/2),g=s+r/2-(u+h/2);return{path:{"transform-origin":`${K.svgRound(t)} ${K.svgRound(s)}`,transform:`${this.rotationTransform} translate(${b} ${g})`}}}const f=(i-2*o)/(d-2*o),p=(r-2*a)/(h-2*a),y=d/i,m=h/r;return{path:{"transform-origin":`${K.svgRound(c)} ${K.svgRound(u)}`,transform:`${this.rotationTransform} scale(${y} ${m}) translate(${K.svgRound(o)} ${K.svgRound(a)}) scale(${f} ${p}) translate(${K.svgRound(-o)} ${K.svgRound(-a)})`}}}getPathResizedSVGProperties([t,s,i,r]){const[o,a]=C(this,un,no).call(this),c=l(this,jn),[u,d,h,f]=c;if(c[0]=t,c[1]=s,c[2]=i,c[3]=r,Math.abs(h-o)<=K.PRECISION||Math.abs(f-a)<=K.PRECISION){const g=t+i/2-(u+h/2),v=s+r/2-(d+f/2);for(const{line:A,points:E}of l(this,Rs))K._translate(A,g,v,A),K._translate(E,g,v,E);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${K.svgRound(t)} ${K.svgRound(s)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const p=(i-2*o)/(h-2*o),y=(r-2*a)/(f-2*a),m=-p*(u+o)+t+o,b=-y*(d+a)+s+a;if(p!==1||y!==1||m!==0||b!==0)for(const{line:g,points:v}of l(this,Rs))K._rescale(g,m,b,p,y,g),K._rescale(v,m,b,p,y,v);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${K.svgRound(t)} ${K.svgRound(s)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,s],i){const[r,o]=i,a=l(this,jn),c=t-a[0],u=s-a[1];if(l(this,Lr)===r&&l(this,Ir)===o)for(const{line:d,points:h}of l(this,Rs))K._translate(d,c,u,d),K._translate(h,c,u,h);else{const d=l(this,Lr)/r,h=l(this,Ir)/o;w(this,Lr,r),w(this,Ir,o);for(const{line:f,points:p}of l(this,Rs))K._rescale(f,c,u,d,h,f),K._rescale(p,c,u,d,h,p);a[2]*=d,a[3]*=h}return a[0]=t,a[1]=s,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${K.svgRound(t)} ${K.svgRound(s)}`}}}get defaultSVGProperties(){const t=l(this,jn);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${K.svgRound(t[0])} ${K.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}jn=new WeakMap,xy=new WeakMap,by=new WeakMap,Rs=new WeakMap,Lr=new WeakMap,Ir=new WeakMap,ff=new WeakMap,pf=new WeakMap,Eu=new WeakMap,un=new WeakSet,no=function(t=l(this,Eu)){const s=l(this,by)+t/2*l(this,ff);return l(this,pf)%180===0?[s/l(this,Lr),s/l(this,Ir)]:[s/l(this,Ir),s/l(this,Lr)]},yO=function(){const[t,s,i,r]=l(this,jn),[o,a]=C(this,un,no).call(this,0);return[t+o,s+a,i-2*o,r-2*a]},vO=function(){const t=w(this,jn,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:r}of l(this,Rs)){if(r.length<=12){for(let c=4,u=r.length;c<u;c+=6)Q.pointBoundingBox(r[c],r[c+1],t);continue}let o=r[4],a=r[5];for(let c=6,u=r.length;c<u;c+=6){const[d,h,f,p,y,m]=r.subarray(c,c+6);Q.bezierBoundingBox(o,a,d,h,f,p,y,m,t),o=y,a=m}}const[s,i]=C(this,un,no).call(this);t[0]=Tn(t[0]-s,0,1),t[1]=Tn(t[1]-i,0,1),t[2]=Tn(t[2]+s,0,1),t[3]=Tn(t[3]+i,0,1),t[2]-=t[0],t[3]-=t[1]},wO=function(t){const[s,i]=C(this,un,no).call(this);w(this,Eu,t);const[r,o]=C(this,un,no).call(this),[a,c]=[r-s,o-i],u=l(this,jn);return u[0]-=a,u[1]-=c,u[2]+=2*a,u[3]+=2*c,u};class Rx extends mO{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:qe._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){e==="stroke-width"&&(t??(t=this["stroke-width"]),t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new Rx(this._viewParameters);return e.updateAll(this),e}}var $w,xO;const Pd=class Pd extends bw{constructor(t){super({...t,name:"inkEditor"});S(this,$w);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,s){qe.initialize(t,s),this._defaultDrawingOptions=new Rx(s.viewParameters)}static getDefaultDrawingOptions(t){const s=this._defaultDrawingOptions.clone();return s.updateProperties(t),s}static get supportMultipleDrawings(){return!0}static get typesMap(){return fe(this,"typesMap",new Map([[xe.INK_THICKNESS,"stroke-width"],[xe.INK_COLOR,"stroke"],[xe.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,s,i,r,o){return new b9(t,s,i,r,o,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,s,i,r,o,a){return Uy.deserialize(t,s,i,r,o,a)}static async deserialize(t,s,i){let r=null;if(t instanceof nT){const{data:{inkLists:a,rect:c,rotation:u,id:d,color:h,opacity:f,borderStyle:{rawWidth:p},popupRef:y,richText:m,contentsObj:b,creationDate:g,modificationDate:v},parent:{page:{pageNumber:A}}}=t;r=t={annotationType:ae.INK,color:Array.from(h),thickness:p,opacity:f,paths:{points:a},boxes:null,pageIndex:A-1,rect:c.slice(0),rotation:u,annotationElementId:d,id:d,deleted:!1,popupRef:y,richText:m,comment:(b==null?void 0:b.str)||null,creationDate:g,modificationDate:v}}const o=await super.deserialize(t,s,i);return o._initialData=r,t.comment&&o.setCommentData(t),o}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new vw(this)),[["colorPicker",this._colorPicker]]}get colorType(){return xe.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:s,parent:i}=this;s.updateSVGProperty("stroke-width"),i.drawLayer.updateProperties(t,s.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:s,opacity:i}){this._drawingOptions=Pd.getDefaultDrawingOptions({stroke:Q.makeHexColor(...t),"stroke-width":s,"stroke-opacity":i})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:s,points:i}=this.serializeDraw(t),{_drawingOptions:{stroke:r,"stroke-opacity":o,"stroke-width":a}}=this,c=Object.assign(super.serialize(t),{color:qe._colorManager.convert(r),opacity:o,thickness:a,paths:{lines:s,points:i}});return this.addComment(c),t?(c.isCopy=!0,c):this.annotationElementId&&!C(this,$w,xO).call(this,c)?null:(c.id=this.annotationElementId,c)}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;const{points:s,rect:i}=this.serializeDraw(!1);return t.updateEdited({rect:i,thickness:this._drawingOptions["stroke-width"],points:s,popup:this.comment}),null}};$w=new WeakSet,xO=function(t){const{color:s,thickness:i,opacity:r,pageIndex:o}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||t.color.some((a,c)=>a!==s[c])||t.thickness!==i||t.opacity!==r||t.pageIndex!==o},V(Pd,"_type","ink"),V(Pd,"_editorType",ae.INK),V(Pd,"_defaultDrawingOptions",null);let kS=Pd;class _S extends Uy{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const Pv=8,pp=3;var Cu,_e,RS,$i,bO,AO,MS,w0,SO,EO,CO,NS,DS,TO;class Vr{static extractContoursFromText(e,{fontFamily:t,fontStyle:s,fontWeight:i},r,o,a,c){let u=new OffscreenCanvas(1,1),d=u.getContext("2d",{alpha:!1});const h=200,f=d.font=`${s} ${i} ${h}px ${t}`,{actualBoundingBoxLeft:p,actualBoundingBoxRight:y,actualBoundingBoxAscent:m,actualBoundingBoxDescent:b,fontBoundingBoxAscent:g,fontBoundingBoxDescent:v,width:A}=d.measureText(e),E=1.5,T=Math.ceil(Math.max(Math.abs(p)+Math.abs(y)||0,A)*E),k=Math.ceil(Math.max(Math.abs(m)+Math.abs(b)||h,Math.abs(g)+Math.abs(v)||h)*E);u=new OffscreenCanvas(T,k),d=u.getContext("2d",{alpha:!0,willReadFrequently:!0}),d.font=f,d.filter="grayscale(1)",d.fillStyle="white",d.fillRect(0,0,T,k),d.fillStyle="black",d.fillText(e,T*(E-1)/2,k*(3-E)/2);const _=C(this,_e,NS).call(this,d.getImageData(0,0,T,k).data),R=C(this,_e,CO).call(this,_),M=C(this,_e,DS).call(this,R),N=C(this,_e,MS).call(this,_,T,k,M);return this.processDrawnLines({lines:{curves:N,width:T,height:k},pageWidth:r,pageHeight:o,rotation:a,innerMargin:c,mustSmooth:!0,areContours:!0})}static process(e,t,s,i,r){const[o,a,c]=C(this,_e,TO).call(this,e),[u,d]=C(this,_e,EO).call(this,o,a,c,Math.hypot(a,c)*l(this,Cu).sigmaSFactor,l(this,Cu).sigmaR,l(this,Cu).kernelSize),h=C(this,_e,DS).call(this,d),f=C(this,_e,MS).call(this,u,a,c,h);return this.processDrawnLines({lines:{curves:f,width:a,height:c},pageWidth:t,pageHeight:s,rotation:i,innerMargin:r,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:t,pageHeight:s,rotation:i,innerMargin:r,mustSmooth:o,areContours:a}){i%180!==0&&([t,s]=[s,t]);const{curves:c,width:u,height:d}=e,h=e.thickness??0,f=[],p=Math.min(t/u,s/d),y=p/t,m=p/s,b=[];for(const{points:v}of c){const A=o?C(this,_e,SO).call(this,v):v;if(!A)continue;b.push(A);const E=A.length,T=new Float32Array(E),k=new Float32Array(3*(E===2?2:E-2));if(f.push({line:k,points:T}),E===2){T[0]=A[0]*y,T[1]=A[1]*m,k.set([NaN,NaN,NaN,NaN,T[0],T[1]],0);continue}let[_,R,M,N]=A;_*=y,R*=m,M*=y,N*=m,T.set([_,R,M,N],0),k.set([NaN,NaN,NaN,NaN,_,R],0);for(let L=4;L<E;L+=2){const O=T[L]=A[L]*y,U=T[L+1]=A[L+1]*m;k.set(K.createBezierPoints(_,R,M,N,O,U),(L-2)*3),[_,R,M,N]=[M,N,O,U]}}if(f.length===0)return null;const g=a?new _S:new Uy;return g.build(f,t,s,1,i,a?0:h,r),{outline:g,newCurves:b,areContours:a,thickness:h,width:u,height:d}}static async compressSignature({outlines:e,areContours:t,thickness:s,width:i,height:r}){let o=1/0,a=-1/0,c=0;for(const A of e){c+=A.length;for(let E=2,T=A.length;E<T;E++){const k=A[E]-A[E-2];o=Math.min(o,k),a=Math.max(a,k)}}let u;o>=-128&&a<=127?u=Int8Array:o>=-32768&&a<=32767?u=Int16Array:u=Int32Array;const d=e.length,h=Pv+pp*d,f=new Uint32Array(h);let p=0;f[p++]=h*Uint32Array.BYTES_PER_ELEMENT+(c-2*d)*u.BYTES_PER_ELEMENT,f[p++]=0,f[p++]=i,f[p++]=r,f[p++]=t?0:1,f[p++]=Math.max(0,Math.floor(s??0)),f[p++]=d,f[p++]=u.BYTES_PER_ELEMENT;for(const A of e)f[p++]=A.length-2,f[p++]=A[0],f[p++]=A[1];const y=new CompressionStream("deflate-raw"),m=y.writable.getWriter();await m.ready,m.write(f);const b=u.prototype.constructor;for(const A of e){const E=new b(A.length-2);for(let T=2,k=A.length;T<k;T++)E[T-2]=A[T]-A[T-2];m.write(E)}m.close();const g=await new Response(y.readable).arrayBuffer(),v=new Uint8Array(g);return SI(v)}static async decompressSignature(e){try{const t=GG(e),{readable:s,writable:i}=new DecompressionStream("deflate-raw"),r=i.getWriter();await r.ready,r.write(t).then(async()=>{await r.ready,await r.close()}).catch(()=>{});let o=null,a=0;for await(const A of s)o||(o=new Uint8Array(new Uint32Array(A.buffer,0,4)[0])),o.set(A,a),a+=A.length;const c=new Uint32Array(o.buffer,0,o.length>>2),u=c[1];if(u!==0)throw new Error(`Invalid version: ${u}`);const d=c[2],h=c[3],f=c[4]===0,p=c[5],y=c[6],m=c[7],b=[],g=(Pv+pp*y)*Uint32Array.BYTES_PER_ELEMENT;let v;switch(m){case Int8Array.BYTES_PER_ELEMENT:v=new Int8Array(o.buffer,g);break;case Int16Array.BYTES_PER_ELEMENT:v=new Int16Array(o.buffer,g);break;case Int32Array.BYTES_PER_ELEMENT:v=new Int32Array(o.buffer,g);break}a=0;for(let A=0;A<y;A++){const E=c[pp*A+Pv],T=new Float32Array(E+2);b.push(T);for(let k=0;k<pp-1;k++)T[k]=c[pp*A+Pv+k+1];for(let k=0;k<E;k++)T[k+2]=T[k]+v[a++]}return{areContours:f,thickness:p,outlines:b,width:d,height:h}}catch(t){return le(`decompressSignature: ${t}`),null}}}Cu=new WeakMap,_e=new WeakSet,RS=function(e,t,s,i){return s-=e,i-=t,s===0?i>0?0:4:s===1?i+6:2-i},$i=new WeakMap,bO=function(e,t,s,i,r,o,a){const c=C(this,_e,RS).call(this,s,i,r,o);for(let u=0;u<8;u++){const d=(-u+c-a+16)%8,h=l(this,$i)[2*d],f=l(this,$i)[2*d+1];if(e[(s+h)*t+(i+f)]!==0)return d}return-1},AO=function(e,t,s,i,r,o,a){const c=C(this,_e,RS).call(this,s,i,r,o);for(let u=0;u<8;u++){const d=(u+c+a+16)%8,h=l(this,$i)[2*d],f=l(this,$i)[2*d+1];if(e[(s+h)*t+(i+f)]!==0)return d}return-1},MS=function(e,t,s,i){const r=e.length,o=new Int32Array(r);for(let d=0;d<r;d++)o[d]=e[d]<=i?1:0;for(let d=1;d<s-1;d++)o[d*t]=o[d*t+t-1]=0;for(let d=0;d<t;d++)o[d]=o[t*s-1-d]=0;let a=1,c;const u=[];for(let d=1;d<s-1;d++){c=1;for(let h=1;h<t-1;h++){const f=d*t+h,p=o[f];if(p===0)continue;let y=d,m=h;if(p===1&&o[f-1]===0)a+=1,m-=1;else if(p>=1&&o[f+1]===0)a+=1,m+=1,p>1&&(c=p);else{p!==1&&(c=Math.abs(p));continue}const b=[h,d],g=m===h+1,v={isHole:g,points:b,id:a,parent:0};u.push(v);let A;for(const L of u)if(L.id===c){A=L;break}A?A.isHole?v.parent=g?A.parent:c:v.parent=g?c:A.parent:v.parent=g?c:0;const E=C(this,_e,bO).call(this,o,t,d,h,y,m,0);if(E===-1){o[f]=-a,o[f]!==1&&(c=Math.abs(o[f]));continue}let T=l(this,$i)[2*E],k=l(this,$i)[2*E+1];const _=d+T,R=h+k;y=_,m=R;let M=d,N=h;for(;;){const L=C(this,_e,AO).call(this,o,t,M,N,y,m,1);T=l(this,$i)[2*L],k=l(this,$i)[2*L+1];const O=M+T,U=N+k;b.push(U,O);const I=M*t+N;if(o[I+1]===0?o[I]=-a:o[I]===1&&(o[I]=a),O===d&&U===h&&M===_&&N===R){o[f]!==1&&(c=Math.abs(o[f]));break}else y=M,m=N,M=O,N=U}}}return u},w0=function(e,t,s,i){if(s-t<=4){for(let _=t;_<s-2;_+=2)i.push(e[_],e[_+1]);return}const r=e[t],o=e[t+1],a=e[s-4]-r,c=e[s-3]-o,u=Math.hypot(a,c),d=a/u,h=c/u,f=d*o-h*r,p=c/a,y=1/u,m=Math.atan(p),b=Math.cos(m),g=Math.sin(m),v=y*(Math.abs(b)+Math.abs(g)),A=y*(1-v+v**2),E=Math.max(Math.atan(Math.abs(g+b)*A),Math.atan(Math.abs(g-b)*A));let T=0,k=t;for(let _=t+2;_<s-2;_+=2){const R=Math.abs(f-d*e[_+1]+h*e[_]);R>T&&(k=_,T=R)}T>(u*E)**2?(C(this,_e,w0).call(this,e,t,k+2,i),C(this,_e,w0).call(this,e,k,s,i)):i.push(r,o)},SO=function(e){const t=[],s=e.length;return C(this,_e,w0).call(this,e,0,s,t),t.push(e[s-2],e[s-1]),t.length<=4?null:t},EO=function(e,t,s,i,r,o){const a=new Float32Array(o**2),c=-2*i**2,u=o>>1;for(let m=0;m<o;m++){const b=(m-u)**2;for(let g=0;g<o;g++)a[m*o+g]=Math.exp((b+(g-u)**2)/c)}const d=new Float32Array(256),h=-2*r**2;for(let m=0;m<256;m++)d[m]=Math.exp(m**2/h);const f=e.length,p=new Uint8Array(f),y=new Uint32Array(256);for(let m=0;m<s;m++)for(let b=0;b<t;b++){const g=m*t+b,v=e[g];let A=0,E=0;for(let k=0;k<o;k++){const _=m+k-u;if(!(_<0||_>=s))for(let R=0;R<o;R++){const M=b+R-u;if(M<0||M>=t)continue;const N=e[_*t+M],L=a[k*o+R]*d[Math.abs(N-v)];A+=N*L,E+=L}}const T=p[g]=Math.round(A/E);y[T]++}return[p,y]},CO=function(e){const t=new Uint32Array(256);for(const s of e)t[s]++;return t},NS=function(e){const t=e.length,s=new Uint8ClampedArray(t>>2);let i=-1/0,r=1/0;for(let a=0,c=s.length;a<c;a++){const u=s[a]=e[a<<2];i=Math.max(i,u),r=Math.min(r,u)}const o=255/(i-r);for(let a=0,c=s.length;a<c;a++)s[a]=(s[a]-r)*o;return s},DS=function(e){let t,s=-1/0,i=-1/0;const r=e.findIndex(c=>c!==0);let o=r,a=r;for(t=r;t<256;t++){const c=e[t];c>s&&(t-o>i&&(i=t-o,a=t-1),s=c,o=t)}for(t=a-1;t>=0&&!(e[t]>e[t+1]);t--);return t},TO=function(e){const t=e,{width:s,height:i}=e,{maxDim:r}=l(this,Cu);let o=s,a=i;if(s>r||i>r){let f=s,p=i,y=Math.log2(Math.max(s,i)/r);const m=Math.floor(y);y=y===m?m-1:m;for(let g=0;g<y;g++){o=Math.ceil(f/2),a=Math.ceil(p/2);const v=new OffscreenCanvas(o,a);v.getContext("2d").drawImage(e,0,0,f,p,0,0,o,a),f=o,p=a,e!==t&&e.close(),e=v.transferToImageBitmap()}const b=Math.min(r/o,r/a);o=Math.round(o*b),a=Math.round(a*b)}const u=new OffscreenCanvas(o,a).getContext("2d",{willReadFrequently:!0});u.fillStyle="white",u.fillRect(0,0,o,a),u.filter="grayscale(1)",u.drawImage(e,0,0,e.width,e.height,0,0,o,a);const d=u.getImageData(0,0,o,a).data;return[C(this,_e,NS).call(this,d),o,a]},S(Vr,_e),S(Vr,Cu,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),S(Vr,$i,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class iT extends mO{constructor(){super(),super.updateProperties({fill:qe._defaultLineColor,"stroke-width":0})}clone(){const e=new iT;return e.updateAll(this),e}}class rT extends Rx{constructor(e){super(e),super.updateProperties({stroke:qe._defaultLineColor,"stroke-width":1})}clone(){const e=new rT(this._viewParameters);return e.updateAll(this),e}}var hl,Fr,fl,Tu;const ps=class ps extends bw{constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"});S(this,hl,!1);S(this,Fr,null);S(this,fl,null);S(this,Tu,null);this._willKeepAspectRatio=!0,w(this,fl,t.signatureData||null),w(this,Fr,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,s){qe.initialize(t,s),this._defaultDrawingOptions=new iT,this._defaultDrawnSignatureOptions=new rT(s.viewParameters)}static getDefaultDrawingOptions(t){const s=this._defaultDrawingOptions.clone();return s.updateProperties(t),s}static get supportMultipleDrawings(){return!1}static get typesMap(){return fe(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!l(this,Fr)}}static computeTelemetryFinalData(t){const s=t.get("hasDescription");return{hasAltText:s.get(!0)??0,hasNoAltText:s.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,s;const{_isCopy:i}=this;if(i&&(this._isCopy=!1,t=this.x,s=this.y),super.render(),this._drawId===null)if(l(this,fl)){const{lines:r,mustSmooth:o,areContours:a,description:c,uuid:u,heightInPage:d}=l(this,fl),{rawDims:{pageWidth:h,pageHeight:f},rotation:p}=this.parent.viewport,y=Vr.processDrawnLines({lines:r,pageWidth:h,pageHeight:f,rotation:p,innerMargin:ps._INNER_MARGIN,mustSmooth:o,areContours:a});this.addSignature(y,d,c,u)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:l(this,Fr)||""}));return i&&(this._isCopy=!0,this._moveAfterPaste(t,s)),this.div}setUuid(t){w(this,Tu,t),this.addEditToolbar()}getUuid(){return l(this,Tu)}get description(){return l(this,Fr)}set description(t){w(this,Fr,t),this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:t})),super.addEditToolbar().then(s=>{s==null||s.updateEditSignatureButton(t)}))}getSignaturePreview(){const{newCurves:t,areContours:s,thickness:i,width:r,height:o}=l(this,fl),a=Math.max(r,o),c=Vr.processDrawnLines({lines:{curves:t.map(u=>({points:u})),thickness:i,width:r,height:o},pageWidth:a,pageHeight:a,rotation:0,innerMargin:0,mustSmooth:!1,areContours:s});return{areContours:s,outline:c.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,s,i,r){const{x:o,y:a}=this,{outline:c}=w(this,fl,t);w(this,hl,c instanceof _S),this.description=i;let u;l(this,hl)?u=ps.getDefaultDrawingOptions():(u=ps._defaultDrawnSignatureOptions.clone(),u.updateProperties({"stroke-width":c.thickness})),this._addOutlines({drawOutlines:c,drawingOptions:u});const[,d]=this.pageDimensions;let h=s/d;h=h>=1?.5:h,this.width*=h/this.height,this.width>=1&&(h*=.9/this.width,this.width=.9),this.height=h,this.setDims(),this.x=o,this.y=a,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(r),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!r,hasDescription:!!i}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:s,pageHeight:i},rotation:r}=this.parent.viewport;return Vr.process(t,s,i,r,ps._INNER_MARGIN)}getFromText(t,s){const{rawDims:{pageWidth:i,pageHeight:r},rotation:o}=this.parent.viewport;return Vr.extractContoursFromText(t,s,i,r,o,ps._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:s,pageHeight:i},rotation:r}=this.parent.viewport;return Vr.processDrawnLines({lines:t,pageWidth:s,pageHeight:i,rotation:r,innerMargin:ps._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:s}){t?this._drawingOptions=ps.getDefaultDrawingOptions():(this._drawingOptions=ps._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":s}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:s,points:i}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":r}}=this,o=Object.assign(super.serialize(t),{isSignature:!0,areContours:l(this,hl),color:[0,0,0],thickness:l(this,hl)?0:r});return this.addComment(o),t?(o.paths={lines:s,points:i},o.uuid=l(this,Tu),o.isCopy=!0):o.lines=s,l(this,Fr)&&(o.accessibilityData={type:"Figure",alt:l(this,Fr)}),o}static deserializeDraw(t,s,i,r,o,a){return a.areContours?_S.deserialize(t,s,i,r,o,a):Uy.deserialize(t,s,i,r,o,a)}static async deserialize(t,s,i){var o;const r=await super.deserialize(t,s,i);return w(r,hl,t.areContours),r.description=((o=t.accessibilityData)==null?void 0:o.alt)||"",w(r,Tu,t.uuid),r}};hl=new WeakMap,Fr=new WeakMap,fl=new WeakMap,Tu=new WeakMap,V(ps,"_type","signature"),V(ps,"_editorType",ae.SIGNATURE),V(ps,"_defaultDrawingOptions",null);let LS=ps;var tt,Yt,pl,jo,ml,mf,Bo,Pu,Or,Ms,gf,Te,Bp,Vp,x0,b0,A0,FS,S0,PO;class IS extends qe{constructor(t){super({...t,name:"stampEditor"});S(this,Te);S(this,tt,null);S(this,Yt,null);S(this,pl,null);S(this,jo,null);S(this,ml,null);S(this,mf,"");S(this,Bo,null);S(this,Pu,!1);S(this,Or,null);S(this,Ms,!1);S(this,gf,!1);w(this,jo,t.bitmapUrl),w(this,ml,t.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,s){qe.initialize(t,s)}static isHandlingMimeForPasting(t){return fw.includes(t)}static paste(t,s){s.pasteEditor({mode:ae.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const s=t.get("hasAltText");return{hasAltText:s.get(!0)??0,hasNoAltText:s.get(!1)??0}}async mlGuessAltText(t=null,s=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:r,width:o,height:a}=t||this.copyCanvas(null,null,!0).imageData,c=await i.guess({name:"altText",request:{data:r,width:o,height:a,channels:r.length/(o*a)}});if(!c)throw new Error("No response from the AI service.");if(c.error)throw new Error("Error from the AI service.");if(c.cancel)return null;if(!c.output)throw new Error("No valid response from the AI service.");const u=c.output;return await this.setGuessedAltText(u),s&&!this.hasAltTextData()&&(this.altTextData={alt:u,decorative:!1}),u}remove(){var t;l(this,Yt)&&(w(this,tt,null),this._uiManager.imageManager.deleteId(l(this,Yt)),(t=l(this,Bo))==null||t.remove(),w(this,Bo,null),l(this,Or)&&(clearTimeout(l(this,Or)),w(this,Or,null))),super.remove()}rebuild(){if(!this.parent){l(this,Yt)&&C(this,Te,x0).call(this);return}super.rebuild(),this.div!==null&&(l(this,Yt)&&l(this,Bo)===null&&C(this,Te,x0).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(l(this,pl)||l(this,tt)||l(this,jo)||l(this,ml)||l(this,Yt)||l(this,Pu))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,s;return this._isCopy&&(t=this.x,s=this.y),super.render(),this.div.hidden=!0,this.createAltText(),l(this,Pu)||(l(this,tt)?C(this,Te,b0).call(this):C(this,Te,x0).call(this)),this._isCopy&&this._moveAfterPaste(t,s),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,s){const{id:i,bitmap:r}=this._uiManager.imageManager.getFromCanvas(t,s);s.remove(),i&&this._uiManager.imageManager.isValidId(i)&&(w(this,Yt,i),r&&w(this,tt,r),w(this,Pu,!1),C(this,Te,b0).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;l(this,Or)!==null&&clearTimeout(l(this,Or)),w(this,Or,setTimeout(()=>{w(this,Or,null),C(this,Te,FS).call(this)},200))}copyCanvas(t,s,i=!1){t||(t=224);const{width:r,height:o}=l(this,tt),a=new Ji;let c=l(this,tt),u=r,d=o,h=null;if(s){if(r>s||o>s){const _=Math.min(s/r,s/o);u=Math.floor(r*_),d=Math.floor(o*_)}h=document.createElement("canvas");const p=h.width=Math.ceil(u*a.sx),y=h.height=Math.ceil(d*a.sy);l(this,Ms)||(c=C(this,Te,A0).call(this,p,y));const m=h.getContext("2d");m.filter=this._uiManager.hcmFilter;let b="white",g="#cfcfd8";this._uiManager.hcmFilter!=="none"?g="black":YG.isDarkMode&&(b="#8f8f9d",g="#42414d");const v=15,A=v*a.sx,E=v*a.sy,T=new OffscreenCanvas(A*2,E*2),k=T.getContext("2d");k.fillStyle=b,k.fillRect(0,0,A*2,E*2),k.fillStyle=g,k.fillRect(0,0,A,E),k.fillRect(A,E,A,E),m.fillStyle=m.createPattern(T,"repeat"),m.fillRect(0,0,p,y),m.drawImage(c,0,0,c.width,c.height,0,0,p,y)}let f=null;if(i){let p,y;if(a.symmetric&&c.width<t&&c.height<t)p=c.width,y=c.height;else if(c=l(this,tt),r>t||o>t){const g=Math.min(t/r,t/o);p=Math.floor(r*g),y=Math.floor(o*g),l(this,Ms)||(c=C(this,Te,A0).call(this,p,y))}const b=new OffscreenCanvas(p,y).getContext("2d",{willReadFrequently:!0});b.drawImage(c,0,0,c.width,c.height,0,0,p,y),f={width:p,height:y,data:b.getImageData(0,0,p,y).data}}return{canvas:h,width:u,height:d,imageData:f}}static async deserialize(t,s,i){var b;let r=null,o=!1;if(t instanceof zF){const{data:{rect:g,rotation:v,id:A,structParent:E,popupRef:T,richText:k,contentsObj:_,creationDate:R,modificationDate:M},container:N,parent:{page:{pageNumber:L}},canvas:O}=t;let U,I;O?(delete t.canvas,{id:U,bitmap:I}=i.imageManager.getFromCanvas(N.id,O),O.remove()):(o=!0,t._hasNoCanvas=!0);const W=((b=await s._structTree.getAriaAttributes(`${qC}${A}`))==null?void 0:b.get("aria-label"))||"";r=t={annotationType:ae.STAMP,bitmapId:U,bitmap:I,pageIndex:L-1,rect:g.slice(0),rotation:v,annotationElementId:A,id:A,deleted:!1,accessibilityData:{decorative:!1,altText:W},isSvg:!1,structParent:E,popupRef:T,richText:k,comment:(_==null?void 0:_.str)||null,creationDate:R,modificationDate:M}}const a=await super.deserialize(t,s,i),{rect:c,bitmap:u,bitmapUrl:d,bitmapId:h,isSvg:f,accessibilityData:p}=t;o?(i.addMissingCanvas(t.id,a),w(a,Pu,!0)):h&&i.imageManager.isValidId(h)?(w(a,Yt,h),u&&w(a,tt,u)):w(a,jo,d),w(a,Ms,f);const[y,m]=a.pageDimensions;return a.width=(c[2]-c[0])/y,a.height=(c[3]-c[1])/m,p&&(a.altTextData=p),a._initialData=r,t.comment&&a.setCommentData(t),w(a,gf,!!r),a}serialize(t=!1,s=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=Object.assign(super.serialize(t),{bitmapId:l(this,Yt),isSvg:l(this,Ms)});if(this.addComment(i),t)return i.bitmapUrl=C(this,Te,S0).call(this,!0),i.accessibilityData=this.serializeAltText(!0),i.isCopy=!0,i;const{decorative:r,altText:o}=this.serializeAltText(!1);if(!r&&o&&(i.accessibilityData={type:"Figure",alt:o}),this.annotationElementId){const c=C(this,Te,PO).call(this,i);return c.isSame?null:(c.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1,i.id=this.annotationElementId,delete i.bitmapId,i)}if(s===null)return i;s.stamps||(s.stamps=new Map);const a=l(this,Ms)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!s.stamps.has(l(this,Yt)))s.stamps.set(l(this,Yt),{area:a,serialized:i}),i.bitmap=C(this,Te,S0).call(this,!1);else if(l(this,Ms)){const c=s.stamps.get(l(this,Yt));a>c.area&&(c.area=a,c.serialized.bitmap.close(),c.serialized.bitmap=C(this,Te,S0).call(this,!1))}return i}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}tt=new WeakMap,Yt=new WeakMap,pl=new WeakMap,jo=new WeakMap,ml=new WeakMap,mf=new WeakMap,Bo=new WeakMap,Pu=new WeakMap,Or=new WeakMap,Ms=new WeakMap,gf=new WeakMap,Te=new WeakSet,Bp=function(t,s=!1){if(!t){this.remove();return}w(this,tt,t.bitmap),s||(w(this,Yt,t.id),w(this,Ms,t.isSvg)),t.file&&w(this,mf,t.file.name),C(this,Te,b0).call(this)},Vp=function(){if(w(this,pl,null),this._uiManager.enableWaiting(!1),!!l(this,Bo)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&l(this,tt)){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&l(this,tt)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},x0=function(){if(l(this,Yt)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(l(this,Yt)).then(i=>C(this,Te,Bp).call(this,i,!0)).finally(()=>C(this,Te,Vp).call(this));return}if(l(this,jo)){const i=l(this,jo);w(this,jo,null),this._uiManager.enableWaiting(!0),w(this,pl,this._uiManager.imageManager.getFromUrl(i).then(r=>C(this,Te,Bp).call(this,r)).finally(()=>C(this,Te,Vp).call(this)));return}if(l(this,ml)){const i=l(this,ml);w(this,ml,null),this._uiManager.enableWaiting(!0),w(this,pl,this._uiManager.imageManager.getFromFile(i).then(r=>C(this,Te,Bp).call(this,r)).finally(()=>C(this,Te,Vp).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=fw.join(",");const s=this._uiManager._signal;w(this,pl,new Promise(i=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const r=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),C(this,Te,Bp).call(this,r)}i()},{signal:s}),t.addEventListener("cancel",()=>{this.remove(),i()},{signal:s})}).finally(()=>C(this,Te,Vp).call(this))),t.click()},b0=function(){var u;const{div:t}=this;let{width:s,height:i}=l(this,tt);const[r,o]=this.pageDimensions,a=.75;if(this.width)s=this.width*r,i=this.height*o;else if(s>a*r||i>a*o){const d=Math.min(a*r/s,a*o/i);s*=d,i*=d}this._uiManager.enableWaiting(!1);const c=w(this,Bo,document.createElement("canvas"));c.setAttribute("role","img"),this.addContainer(c),this.width=s/r,this.height=i/o,this.setDims(),(u=this._initialOptions)!=null&&u.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),C(this,Te,FS).call(this),l(this,gf)||(this.parent.addUndoableEditor(this),w(this,gf,!0)),this._reportTelemetry({action:"inserted_image"}),l(this,mf)&&this.div.setAttribute("aria-description",l(this,mf)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},A0=function(t,s){const{width:i,height:r}=l(this,tt);let o=i,a=r,c=l(this,tt);for(;o>2*t||a>2*s;){const u=o,d=a;o>2*t&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),a>2*s&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));const h=new OffscreenCanvas(o,a);h.getContext("2d").drawImage(c,0,0,u,d,0,0,o,a),c=h.transferToImageBitmap()}return c},FS=function(){const[t,s]=this.parentDimensions,{width:i,height:r}=this,o=new Ji,a=Math.ceil(i*t*o.sx),c=Math.ceil(r*s*o.sy),u=l(this,Bo);if(!u||u.width===a&&u.height===c)return;u.width=a,u.height=c;const d=l(this,Ms)?l(this,tt):C(this,Te,A0).call(this,a,c),h=u.getContext("2d");h.filter=this._uiManager.hcmFilter,h.drawImage(d,0,0,d.width,d.height,0,0,a,c)},S0=function(t){if(t){if(l(this,Ms)){const r=this._uiManager.imageManager.getSvgUrl(l(this,Yt));if(r)return r}const s=document.createElement("canvas");return{width:s.width,height:s.height}=l(this,tt),s.getContext("2d").drawImage(l(this,tt),0,0),s.toDataURL()}if(l(this,Ms)){const[s,i]=this.pageDimensions,r=Math.round(this.width*s*sa.PDF_TO_CSS_UNITS),o=Math.round(this.height*i*sa.PDF_TO_CSS_UNITS),a=new OffscreenCanvas(r,o);return a.getContext("2d").drawImage(l(this,tt),0,0,l(this,tt).width,l(this,tt).height,0,0,r,o),a.transferToImageBitmap()}return structuredClone(l(this,tt))},PO=function(t){var a;const{pageIndex:s,accessibilityData:{altText:i}}=this._initialData,r=t.pageIndex===s,o=(((a=t.accessibilityData)==null?void 0:a.alt)||"")===i;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&r&&o,isSameAltText:o}},V(IS,"_type","stamp"),V(IS,"_editorType",ae.STAMP);var ku,yf,gl,yl,Vo,is,vl,vf,wf,Ui,$o,Kt,Uo,wl,xf,ee,xl,ze,OS,kO,ur,jS,BS,E0;const Pi=class Pi{constructor({uiManager:e,pageIndex:t,div:s,structTreeLayer:i,accessibilityManager:r,annotationLayer:o,drawLayer:a,textLayer:c,viewport:u,l10n:d}){S(this,ze);S(this,ku);S(this,yf,!1);S(this,gl,null);S(this,yl,null);S(this,Vo,null);S(this,is,new Map);S(this,vl,!1);S(this,vf,!1);S(this,wf,!1);S(this,Ui,null);S(this,$o,null);S(this,Kt,null);S(this,Uo,null);S(this,wl,null);S(this,xf,-1);S(this,ee);const h=[...l(Pi,xl).values()];if(!Pi._initialized){Pi._initialized=!0;for(const f of h)f.initialize(d,e)}e.registerEditorTypes(h),w(this,ee,e),this.pageIndex=t,this.div=s,w(this,ku,r),w(this,gl,o),this.viewport=u,w(this,Kt,c),this.drawLayer=a,this._structTree=i,l(this,ee).addLayer(this)}get isEmpty(){return l(this,is).size===0}get isInvisible(){return this.isEmpty&&l(this,ee).getMode()===ae.NONE}updateToolbar(e){l(this,ee).updateToolbar(e)}updateMode(e=l(this,ee).getMode()){switch(C(this,ze,E0).call(this),e){case ae.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case ae.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case ae.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;if(t.toggle("nonEditing",!1),e===ae.POPUP)t.toggle("commentEditing",!0);else{t.toggle("commentEditing",!1);for(const s of l(Pi,xl).values())t.toggle(`${s._type}Editing`,e===s._editorType)}this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=l(this,Kt))==null?void 0:t.div)}setEditingState(e){l(this,ee).setEditingState(e)}addCommands(e){l(this,ee).addCommands(e)}cleanUndoStack(e){l(this,ee).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=l(this,gl))==null||t.div.classList.toggle("disabled",!e)}async enable(){var s;w(this,wf,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),(s=l(this,wl))==null||s.abort(),w(this,wl,null);const e=new Set;for(const i of l(this,ze,OS))i.enableEditing(),i.show(!0),i.annotationElementId&&(l(this,ee).removeChangedExistingAnnotation(i),e.add(i.annotationElementId));const t=l(this,gl);if(t)for(const i of t.getEditableAnnotations()){if(i.hide(),l(this,ee).isDeletedAnnotationElement(i.data.id)||e.has(i.data.id))continue;const r=await this.deserialize(i);r&&(this.addOrRebuild(r),r.enableEditing())}w(this,wf,!1),l(this,ee)._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){var s;if(w(this,vf,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),l(this,Kt)&&!l(this,wl)){w(this,wl,new AbortController);const i=l(this,ee).combinedSignal(l(this,wl));l(this,Kt).div.addEventListener("pointerdown",r=>{const{clientX:a,clientY:c,timeStamp:u}=r,d=l(this,xf);if(u-d>500){w(this,xf,u);return}w(this,xf,-1);const{classList:h}=this.div;h.toggle("getElements",!0);const f=document.elementsFromPoint(a,c);if(h.toggle("getElements",!1),!this.div.contains(f[0]))return;let p;const y=new RegExp(`^${Dm}[0-9]+$`);for(const b of f)if(y.test(b.id)){p=b.id;break}if(!p)return;const m=l(this,is).get(p);(m==null?void 0:m.annotationElementId)===null&&(r.stopPropagation(),r.preventDefault(),m.dblclick(r))},{signal:i,capture:!0})}const e=l(this,gl);if(e){const i=new Map,r=new Map;for(const a of l(this,ze,OS)){if(a.disableEditing(),!a.annotationElementId){a.updateFakeAnnotationElement(e);continue}if(a.serialize()!==null){i.set(a.annotationElementId,a);continue}else r.set(a.annotationElementId,a);(s=this.getEditableAnnotation(a.annotationElementId))==null||s.show(),a.remove()}const o=e.getEditableAnnotations();for(const a of o){const{id:c}=a.data;if(l(this,ee).isDeletedAnnotationElement(c)){a.updateEdited({deleted:!0});continue}let u=r.get(c);if(u){u.resetAnnotationElement(a),u.show(!1),a.show();continue}u=i.get(c),u&&(l(this,ee).addChangedExistingAnnotation(u),u.renderAnnotationElement(a)&&u.show(!1)),a.show()}}C(this,ze,E0).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:t}=this.div;for(const i of l(Pi,xl).values())t.remove(`${i._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),w(this,vf,!1)}getEditableAnnotation(e){var t;return((t=l(this,gl))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){l(this,ee).getActive()!==e&&l(this,ee).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=l(this,Kt))!=null&&e.div&&!l(this,Uo)){w(this,Uo,new AbortController);const t=l(this,ee).combinedSignal(l(this,Uo));l(this,Kt).div.addEventListener("pointerdown",C(this,ze,kO).bind(this),{signal:t}),l(this,Kt).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=l(this,Kt))!=null&&e.div&&l(this,Uo)&&(l(this,Uo).abort(),w(this,Uo,null),l(this,Kt).div.classList.remove("highlighting"))}enableClick(){if(l(this,yl))return;w(this,yl,new AbortController);const e=l(this,ee).combinedSignal(l(this,yl));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){var e;(e=l(this,yl))==null||e.abort(),w(this,yl,null)}attach(e){l(this,is).set(e.id,e);const{annotationElementId:t}=e;t&&l(this,ee).isDeletedAnnotationElement(t)&&l(this,ee).removeDeletedAnnotationElement(e)}detach(e){var t;l(this,is).delete(e.id),(t=l(this,ku))==null||t.removePointerInTextLayer(e.contentDiv),!l(this,vf)&&e.annotationElementId&&l(this,ee).addDeletedAnnotationElement(e)}remove(e){this.detach(e),l(this,ee).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(l(this,ee).addDeletedAnnotationElement(e.annotationElementId),qe.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),l(this,ee).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!l(this,wf)),l(this,ee).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var s;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!l(this,Vo)&&(e._focusEventsAllowed=!1,w(this,Vo,setTimeout(()=>{w(this,Vo,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:l(this,ee)._signal}),t.focus())},0))),e._structTreeParentId=(s=l(this,ku))==null?void 0:s.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),s=()=>{e.remove()};this.addCommands({cmd:t,undo:s,mustExec:!1})}getEditorByUID(e){for(const t of l(this,is).values())if(t.uid===e)return t;return null}getNextId(){return l(this,ee).getId()}combinedSignal(e){return l(this,ee).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=l(this,ze,ur))==null?void 0:e.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await l(this,ee).updateMode(e.mode);const{offsetX:s,offsetY:i}=C(this,ze,BS).call(this),r=this.getNextId(),o=C(this,ze,jS).call(this,{parent:this,id:r,x:s,y:i,uiManager:l(this,ee),isCentered:!0,...t});o&&this.add(o)}async deserialize(e){var t;return await((t=l(Pi,xl).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,l(this,ee)))||null}createAndAddNewEditor(e,t,s={}){const i=this.getNextId(),r=C(this,ze,jS).call(this,{parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:l(this,ee),isCentered:t,...s});return r&&this.add(r),r}get boundingClientRect(){return this.div.getBoundingClientRect()}addNewEditor(e={}){this.createAndAddNewEditor(C(this,ze,BS).call(this),!0,e)}setSelected(e){l(this,ee).setSelected(e)}toggleSelected(e){l(this,ee).toggleSelected(e)}unselect(e){l(this,ee).unselect(e)}pointerup(e){var i;const{isMac:t}=Jt.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div||!l(this,vl)||(w(this,vl,!1),(i=l(this,ze,ur))!=null&&i.isDrawer&&l(this,ze,ur).supportMultipleDrawings))return;if(!l(this,yf)){w(this,yf,!0);return}const s=l(this,ee).getMode();if(s===ae.STAMP||s===ae.SIGNATURE){l(this,ee).unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){var i;if(l(this,ee).getMode()===ae.HIGHLIGHT&&this.enableTextSelection(),l(this,vl)){w(this,vl,!1);return}const{isMac:t}=Jt.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(w(this,vl,!0),(i=l(this,ze,ur))!=null&&i.isDrawer){this.startDrawingSession(e);return}const s=l(this,ee).getActive();w(this,yf,!s||s.isEmpty())}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),l(this,Ui)){l(this,ze,ur).startDrawing(this,l(this,ee),!1,e);return}l(this,ee).setCurrentDrawingSession(this),w(this,Ui,new AbortController);const t=l(this,ee).combinedSignal(l(this,Ui));this.div.addEventListener("blur",({relatedTarget:s})=>{s&&!this.div.contains(s)&&(w(this,$o,null),this.commitOrRemove())},{signal:t}),l(this,ze,ur).startDrawing(this,l(this,ee),!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&w(this,$o,t);return}l(this,$o)&&setTimeout(()=>{var t;(t=l(this,$o))==null||t.focus(),w(this,$o,null)},0)}endDrawingSession(e=!1){return l(this,Ui)?(l(this,ee).setCurrentDrawingSession(null),l(this,Ui).abort(),w(this,Ui,null),w(this,$o,null),l(this,ze,ur).endDrawing(e)):null}findNewParent(e,t,s){const i=l(this,ee).findParent(t,s);return i===null||i===this?!1:(i.changeParent(e),!0)}commitOrRemove(){return l(this,Ui)?(this.endDrawingSession(),!0):!1}onScaleChanging(){l(this,Ui)&&l(this,ze,ur).onScaleChangingWhenDrawing(this)}destroy(){var e,t;this.commitOrRemove(),((e=l(this,ee).getActive())==null?void 0:e.parent)===this&&(l(this,ee).commitOrRemove(),l(this,ee).setActiveEditor(null)),l(this,Vo)&&(clearTimeout(l(this,Vo)),w(this,Vo,null));for(const s of l(this,is).values())(t=l(this,ku))==null||t.removePointerInTextLayer(s.contentDiv),s.setParent(null),s.isAttachedToDOM=!1,s.div.remove();this.div=null,l(this,is).clear(),l(this,ee).removeLayer(this)}render({viewport:e}){this.viewport=e,Vl(this.div,e);for(const t of l(this,ee).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){l(this,ee).commitOrRemove(),C(this,ze,E0).call(this);const t=this.viewport.rotation,s=e.rotation;if(this.viewport=e,Vl(this.div,{rotation:s}),t!==s)for(const i of l(this,is).values())i.rotate(s)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return l(this,ee).viewParameters.realScale}};ku=new WeakMap,yf=new WeakMap,gl=new WeakMap,yl=new WeakMap,Vo=new WeakMap,is=new WeakMap,vl=new WeakMap,vf=new WeakMap,wf=new WeakMap,Ui=new WeakMap,$o=new WeakMap,Kt=new WeakMap,Uo=new WeakMap,wl=new WeakMap,xf=new WeakMap,ee=new WeakMap,xl=new WeakMap,ze=new WeakSet,OS=function(){return l(this,is).size!==0?l(this,is).values():l(this,ee).getEditors(this.pageIndex)},kO=function(e){l(this,ee).unselectAll();const{target:t}=e;if(t===l(this,Kt).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&l(this,Kt).div.contains(t)){const{isMac:s}=Jt.platform;if(e.button!==0||e.ctrlKey&&s)return;l(this,ee).showAllEditors("highlight",!0,!0),l(this,Kt).div.classList.add("free"),this.toggleDrawing(),xw.startHighlighting(this,l(this,ee).direction==="ltr",{target:l(this,Kt).div,x:e.x,y:e.y}),l(this,Kt).div.addEventListener("pointerup",()=>{l(this,Kt).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:l(this,ee)._signal}),e.preventDefault()}},ur=function(){return l(Pi,xl).get(l(this,ee).getMode())},jS=function(e){const t=l(this,ze,ur);return t?new t.prototype.constructor(e):null},BS=function(){const{x:e,y:t,width:s,height:i}=this.boundingClientRect,r=Math.max(0,e),o=Math.max(0,t),a=Math.min(window.innerWidth,e+s),c=Math.min(window.innerHeight,t+i),u=(r+a)/2-e,d=(o+c)/2-t,[h,f]=this.viewport.rotation%180===0?[u,d]:[d,u];return{offsetX:h,offsetY:f}},E0=function(){for(const e of l(this,is).values())e.isEmpty()&&e.remove()},V(Pi,"_initialized",!1),S(Pi,xl,new Map([vS,kS,IS,xw,LS].map(e=>[e._editorType,e])));let Aw=Pi;var zi,Bn,_u,Ay,Uw,_O,Yr,VS,RO,$S;const Ft=class Ft{constructor({pageIndex:e}){S(this,Yr);S(this,zi,null);S(this,Bn,new Map);S(this,_u,new Map);this.pageIndex=e}setParent(e){if(!l(this,zi)){w(this,zi,e);return}if(l(this,zi)!==e){if(l(this,Bn).size>0)for(const t of l(this,Bn).values())t.remove(),e.append(t);w(this,zi,e)}}static get _svgFactory(){return fe(this,"_svgFactory",new Vm)}draw(e,t=!1,s=!1){const i=gt(Ft,Ay)._++,r=C(this,Yr,VS).call(this),o=Ft._svgFactory.createElement("defs");r.append(o);const a=Ft._svgFactory.createElement("path");o.append(a);const c=`path_p${this.pageIndex}_${i}`;a.setAttribute("id",c),a.setAttribute("vector-effect","non-scaling-stroke"),t&&l(this,_u).set(i,a);const u=s?C(this,Yr,RO).call(this,o,c):null,d=Ft._svgFactory.createElement("use");return r.append(d),d.setAttribute("href",`#${c}`),this.updateProperties(r,e),l(this,Bn).set(i,r),{id:i,clipPathId:`url(#${u})`}}drawOutline(e,t){const s=gt(Ft,Ay)._++,i=C(this,Yr,VS).call(this),r=Ft._svgFactory.createElement("defs");i.append(r);const o=Ft._svgFactory.createElement("path");r.append(o);const a=`path_p${this.pageIndex}_${s}`;o.setAttribute("id",a),o.setAttribute("vector-effect","non-scaling-stroke");let c;if(t){const h=Ft._svgFactory.createElement("mask");r.append(h),c=`mask_p${this.pageIndex}_${s}`,h.setAttribute("id",c),h.setAttribute("maskUnits","objectBoundingBox");const f=Ft._svgFactory.createElement("rect");h.append(f),f.setAttribute("width","1"),f.setAttribute("height","1"),f.setAttribute("fill","white");const p=Ft._svgFactory.createElement("use");h.append(p),p.setAttribute("href",`#${a}`),p.setAttribute("stroke","none"),p.setAttribute("fill","black"),p.setAttribute("fill-rule","nonzero"),p.classList.add("mask")}const u=Ft._svgFactory.createElement("use");i.append(u),u.setAttribute("href",`#${a}`),c&&u.setAttribute("mask",`url(#${c})`);const d=u.cloneNode();return i.append(d),u.classList.add("mainOutline"),d.classList.add("secondaryOutline"),this.updateProperties(i,e),l(this,Bn).set(s,i),s}finalizeDraw(e,t){l(this,_u).delete(e),this.updateProperties(e,t)}updateProperties(e,t){var c;if(!t)return;const{root:s,bbox:i,rootClass:r,path:o}=t,a=typeof e=="number"?l(this,Bn).get(e):e;if(a){if(s&&C(this,Yr,$S).call(this,a,s),i&&C(c=Ft,Uw,_O).call(c,a,i),r){const{classList:u}=a;for(const[d,h]of Object.entries(r))u.toggle(d,h)}if(o){const d=a.firstChild.firstChild;C(this,Yr,$S).call(this,d,o)}}}updateParent(e,t){if(t===this)return;const s=l(this,Bn).get(e);s&&(l(t,zi).append(s),l(this,Bn).delete(e),l(t,Bn).set(e,s))}remove(e){l(this,_u).delete(e),l(this,zi)!==null&&(l(this,Bn).get(e).remove(),l(this,Bn).delete(e))}destroy(){w(this,zi,null);for(const e of l(this,Bn).values())e.remove();l(this,Bn).clear(),l(this,_u).clear()}};zi=new WeakMap,Bn=new WeakMap,_u=new WeakMap,Ay=new WeakMap,Uw=new WeakSet,_O=function(e,[t,s,i,r]){const{style:o}=e;o.top=`${100*s}%`,o.left=`${100*t}%`,o.width=`${100*i}%`,o.height=`${100*r}%`},Yr=new WeakSet,VS=function(){const e=Ft._svgFactory.create(1,1,!0);return l(this,zi).append(e),e.setAttribute("aria-hidden",!0),e},RO=function(e,t){const s=Ft._svgFactory.createElement("clipPath");e.append(s);const i=`clip_${t}`;s.setAttribute("id",i),s.setAttribute("clipPathUnits","objectBoundingBox");const r=Ft._svgFactory.createElement("use");return s.append(r),r.setAttribute("href",`#${t}`),r.classList.add("clip"),i},$S=function(e,t){for(const[s,i]of Object.entries(t))i===null?e.removeAttribute(s):e.setAttribute(s,i)},S(Ft,Uw),S(Ft,Ay,0);let Sw=Ft;globalThis._pdfjsTestingUtils={HighlightOutliner:xS};globalThis.pdfjsLib={AbortException:na,AnnotationEditorLayer:Aw,AnnotationEditorParamsType:xe,AnnotationEditorType:ae,AnnotationEditorUIManager:$l,AnnotationLayer:sT,AnnotationMode:Br,AnnotationType:Ct,applyOpacity:kI,build:MF,ColorPicker:Bm,createValidAbsoluteUrl:HC,CSSConstants:PI,DOMSVGFactory:Vm,DrawLayer:Sw,FeatureTest:Jt,fetchData:Kf,findContrastColor:_I,getDocument:JC,getFilenameFromUrl:EI,getPdfFilenameFromUrl:CI,getRGB:Qf,getUuid:GC,getXfaPageViewport:TI,GlobalWorkerOptions:dn,ImageKind:tm,InvalidPDFException:hw,isDataScheme:By,isPdfFile:kx,isValidExplicitDest:lF,MathClamp:Tn,noContextMenu:zs,normalizeUnicode:AI,OPS:Nf,OutputScale:Ji,PasswordResponses:xI,PDFDataRangeTransport:eT,PDFDateString:Fm,PDFWorker:Df,PermissionFlag:wI,PixelsPerInch:sa,RenderingCancelledException:Px,renderRichText:YC,ResponseException:Lm,setLayerDimensions:Vl,shadow:fe,SignatureExtractor:Vr,stopEvent:ct,SupportedImageMimeTypes:fw,TextLayer:jm,TouchManager:Om,updateUrlHash:WC,Util:Q,VerbosityLevel:Fy,version:Xl,XfaLayer:XC};const A9=Object.freeze(Object.defineProperty({__proto__:null,AbortException:na,AnnotationEditorLayer:Aw,AnnotationEditorParamsType:xe,AnnotationEditorType:ae,AnnotationEditorUIManager:$l,AnnotationLayer:sT,AnnotationMode:Br,AnnotationType:Ct,CSSConstants:PI,ColorPicker:Bm,DOMSVGFactory:Vm,DrawLayer:Sw,FeatureTest:Jt,GlobalWorkerOptions:dn,ImageKind:tm,InvalidPDFException:hw,MathClamp:Tn,OPS:Nf,OutputScale:Ji,PDFDataRangeTransport:eT,PDFDateString:Fm,PDFWorker:Df,PasswordResponses:xI,PermissionFlag:wI,PixelsPerInch:sa,RenderingCancelledException:Px,ResponseException:Lm,SignatureExtractor:Vr,SupportedImageMimeTypes:fw,TextLayer:jm,TouchManager:Om,Util:Q,VerbosityLevel:Fy,XfaLayer:XC,applyOpacity:kI,build:MF,createValidAbsoluteUrl:HC,fetchData:Kf,findContrastColor:_I,getDocument:JC,getFilenameFromUrl:EI,getPdfFilenameFromUrl:CI,getRGB:Qf,getUuid:GC,getXfaPageViewport:TI,isDataScheme:By,isPdfFile:kx,isValidExplicitDest:lF,noContextMenu:zs,normalizeUnicode:AI,renderRichText:YC,setLayerDimensions:Vl,shadow:fe,stopEvent:ct,updateUrlHash:WC,version:Xl},Symbol.toStringTag,{value:"Module"}));var Z_=Object.prototype.hasOwnProperty;function J_(n,e,t){for(t of n.keys())if(jd(t,e))return t}function jd(n,e){var t,s,i;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((s=n.length)===e.length)for(;s--&&jd(n[s],e[s]););return s===-1}if(t===Set){if(n.size!==e.size)return!1;for(s of n)if(i=s,i&&typeof i=="object"&&(i=J_(e,i),!i)||!e.has(i))return!1;return!0}if(t===Map){if(n.size!==e.size)return!1;for(s of n)if(i=s[0],i&&typeof i=="object"&&(i=J_(e,i),!i)||!jd(s[1],e.get(i)))return!1;return!0}if(t===ArrayBuffer)n=new Uint8Array(n),e=new Uint8Array(e);else if(t===DataView){if((s=n.byteLength)===e.byteLength)for(;s--&&n.getInt8(s)===e.getInt8(s););return s===-1}if(ArrayBuffer.isView(n)){if((s=n.byteLength)===e.byteLength)for(;s--&&n[s]===e[s];);return s===-1}if(!t||typeof n=="object"){s=0;for(t in n)if(Z_.call(n,t)&&++s&&!Z_.call(e,t)||!(t in e)||!jd(n[t],e[t]))return!1;return Object.keys(e).length===s}}return n!==n&&e!==e}function zy(n){let e=!1;return{promise:new Promise((s,i)=>{n.then(r=>!e&&s(r)).catch(r=>!e&&i(r))}),cancel(){e=!0}}}const S9=["onCopy","onCut","onPaste"],E9=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],C9=["onFocus","onBlur"],T9=["onInput","onInvalid","onReset","onSubmit"],P9=["onLoad","onError"],k9=["onKeyDown","onKeyPress","onKeyUp"],_9=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],R9=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],M9=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],N9=["onSelect"],D9=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],L9=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],I9=["onScroll"],F9=["onWheel"],O9=["onAnimationStart","onAnimationEnd","onAnimationIteration"],j9=["onTransitionEnd"],B9=["onToggle"],V9=["onChange"],$9=[...S9,...E9,...C9,...T9,...P9,...k9,..._9,...R9,...M9,...N9,...D9,...L9,...I9,...F9,...O9,...j9,...V9,...B9];function MO(n,e){const t={};for(const s of $9){const i=n[s];i&&(e?t[s]=r=>i(r,e(s)):t[s]=i)}return t}var U9="Invariant failed";function Ue(n,e){if(!n)throw new Error(U9)}var z9=function(){},H9=z9;const kn=HS(H9),NO=P.createContext(null),W9="noopener noreferrer nofollow";class G9{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHash(){}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return Ue(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){Ue(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}addLinkAttributes(e,t,s){e.href=t,e.rel=this.externalLinkRel||W9,e.target=s?"_blank":this.externalLinkTarget||""}goToDestination(e){return new Promise(t=>{Ue(this.pdfDocument),Ue(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)}).then(t=>{Ue(Array.isArray(t));const s=t[0];new Promise(i=>{Ue(this.pdfDocument),s instanceof Object?this.pdfDocument.getPageIndex(s).then(r=>{i(r)}).catch(()=>{Ue(!1)}):typeof s=="number"?i(s):Ue(!1)}).then(i=>{const r=i+1;Ue(this.pdfViewer),Ue(r>=1&&r<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:t,pageIndex:i,pageNumber:r})})})}goToPage(e){const t=e-1;Ue(this.pdfViewer),Ue(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}goToXY(){}cachePageRef(){}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}executeNamedAction(){}executeSetOCGState(){}isPageVisible(){return!0}isPageCached(){return!0}navigateTo(e){this.goToDestination(e)}}function Bd({children:n,type:e}){return x.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:n})}const eR={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};function q9(n,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return n}}function Lf(){return P.useReducer(q9,{value:void 0,error:void 0})}const Mx=typeof window<"u",DO=Mx&&window.location.protocol==="file:";function X9(n){return typeof n<"u"}function Ql(n){return X9(n)&&n!==null}function Y9(n){return typeof n=="string"}function K9(n){return n instanceof ArrayBuffer}function Q9(n){return Ue(Mx),n instanceof Blob}function US(n){return Y9(n)&&/^data:/.test(n)}function tR(n){Ue(US(n));const[e="",t=""]=n.split(",");return e.split(";").indexOf("base64")!==-1?atob(t):unescape(t)}function Z9(){return Mx&&window.devicePixelRatio||1}const LO="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function nR(){kn(!DO,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${LO}`)}function J9(){kn(!DO,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${LO}`)}function $u(n){n!=null&&n.cancel&&n.cancel()}function zS(n,e){return Object.defineProperty(n,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(n,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(n,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(n,"originalHeight",{get(){return this.view[3]},configurable:!0}),n}function eq(n){return n.name==="RenderingCancelledException"}function tq(n){return new Promise((e,t)=>{const s=new FileReader;s.onload=()=>{if(!s.result)return t(new Error("Error while reading a file."));e(s.result)},s.onerror=i=>{if(!i.target)return t(new Error("Error while reading a file."));const{error:r}=i.target;if(!r)return t(new Error("Error while reading a file."));switch(r.code){case r.NOT_FOUND_ERR:return t(new Error("Error while reading a file: File not found."));case r.SECURITY_ERR:return t(new Error("Error while reading a file: Security error."));case r.ABORT_ERR:return t(new Error("Error while reading a file: Aborted."));default:return t(new Error("Error while reading a file."))}},s.readAsArrayBuffer(n)})}const{PDFDataRangeTransport:nq}=A9,sq=(n,e)=>{switch(e){case eR.NEED_PASSWORD:{const t=prompt("Enter the password to open this PDF file.");n(t);break}case eR.INCORRECT_PASSWORD:{const t=prompt("Invalid password. Please try again.");n(t);break}}};function sR(n){return typeof n=="object"&&n!==null&&("data"in n||"range"in n||"url"in n)}const Zf=P.forwardRef(function({children:e,className:t,error:s="Failed to load PDF file.",externalLinkRel:i,externalLinkTarget:r,file:o,inputRef:a,imageResourcesPath:c,loading:u="Loading PDF",noData:d="No PDF file specified.",onItemClick:h,onLoadError:f,onLoadProgress:p,onLoadSuccess:y,onPassword:m=sq,onSourceError:b,onSourceSuccess:g,options:v,renderMode:A,rotate:E,scale:T,...k},_){const[R,M]=Lf(),{value:N,error:L}=R,[O,U]=Lf(),{value:I,error:W}=O,B=P.useRef(new G9),j=P.useRef([]),D=P.useRef(void 0),F=P.useRef(void 0);o&&o!==D.current&&sR(o)&&(kn(!jd(o,D.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),D.current=o),v&&v!==F.current&&(kn(!jd(v,F.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),F.current=v);const z=P.useRef({scrollPageIntoView:ge=>{const{dest:Re,pageNumber:it,pageIndex:rt=it-1}=ge;if(h){h({dest:Re,pageIndex:rt,pageNumber:it});return}const sr=j.current[rt];if(sr){sr.scrollIntoView();return}kn(!1,`An internal link leading to page ${it} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});P.useImperativeHandle(_,()=>({linkService:B,pages:j,viewer:z}),[]);function te(){g&&g()}function G(){L&&(kn(!1,L.toString()),b&&b(L))}function X(){M({type:"RESET"})}P.useEffect(X,[o,M]);const se=P.useCallback(async()=>{if(!o)return null;if(typeof o=="string")return US(o)?{data:tR(o)}:(nR(),{url:o});if(o instanceof nq)return{range:o};if(K9(o))return{data:o};if(Mx&&Q9(o))return{data:await tq(o)};if(Ue(typeof o=="object"),Ue(sR(o)),"url"in o&&typeof o.url=="string"){if(US(o.url)){const{url:ge,...Re}=o;return{data:tR(ge),...Re}}nR()}return o},[o]);P.useEffect(()=>{const ge=zy(se());return ge.promise.then(Re=>{M({type:"RESOLVE",value:Re})}).catch(Re=>{M({type:"REJECT",error:Re})}),()=>{$u(ge)}},[se,M]),P.useEffect(()=>{if(!(typeof N>"u")){if(N===!1){G();return}te()}},[N]);function ye(){I&&(y&&y(I),j.current=new Array(I.numPages),B.current.setDocument(I))}function Se(){W&&(kn(!1,W.toString()),f&&f(W))}P.useEffect(function(){U({type:"RESET"})},[U,N]),P.useEffect(function(){if(!N)return;const Re=v?{...N,...v}:N,it=JC(Re);p&&(it.onProgress=p),m&&(it.onPassword=m);const rt=it,sr=rt.promise.then(vi=>{U({type:"RESOLVE",value:vi})}).catch(vi=>{rt.destroyed||U({type:"REJECT",error:vi})});return()=>{sr.finally(()=>rt.destroy())}},[v,U,N]),P.useEffect(()=>{if(!(typeof I>"u")){if(I===!1){Se();return}ye()}},[I]),P.useEffect(function(){B.current.setViewer(z.current),B.current.setExternalLinkRel(i),B.current.setExternalLinkTarget(r)},[i,r]);const ne=P.useCallback((ge,Re)=>{j.current[ge]=Re},[]),Mn=P.useCallback(ge=>{delete j.current[ge]},[]),pt=P.useMemo(()=>({imageResourcesPath:c,linkService:B.current,onItemClick:h,pdf:I,registerPage:ne,renderMode:A,rotate:E,scale:T,unregisterPage:Mn}),[c,h,I,ne,A,E,T,Mn]),be=P.useMemo(()=>MO(k,()=>I),[k,I]);function mt(){function ge(it){return!!(it!=null&&it.pdf)}if(!ge(pt))throw new Error("pdf is undefined");const Re=typeof e=="function"?e(pt):e;return x.jsx(NO.Provider,{value:pt,children:Re})}function mn(){return o?I==null?x.jsx(Bd,{type:"loading",children:typeof u=="function"?u():u}):I===!1?x.jsx(Bd,{type:"error",children:typeof s=="function"?s():s}):mt():x.jsx(Bd,{type:"no-data",children:typeof d=="function"?d():d})}return x.jsx("div",{className:Bf("react-pdf__Document",t),ref:a,...be,children:mn()})});function IO(){return P.useContext(NO)}function FO(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=n.filter(Boolean);if(t.length<=1){var s=t[0];return s||null}return function(r){for(var o=0,a=t;o<a.length;o++){var c=a[o];typeof c=="function"?c(r):c&&(c.current=r)}}}const OO=P.createContext(null);function Nx(){return P.useContext(OO)}function iq(){const n=IO(),e=Nx();Ue(e);const t={...n,...e},{imageResourcesPath:s,linkService:i,onGetAnnotationsError:r,onGetAnnotationsSuccess:o,onRenderAnnotationLayerError:a,onRenderAnnotationLayerSuccess:c,page:u,pdf:d,renderForms:h,rotate:f,scale:p=1}=t;Ue(d),Ue(u),Ue(i);const[y,m]=Lf(),{value:b,error:g}=y,v=P.useRef(null);kn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function A(){b&&o&&o(b)}function E(){g&&(kn(!1,g.toString()),r&&r(g))}P.useEffect(function(){m({type:"RESET"})},[m,u]),P.useEffect(function(){if(!u)return;const M=zy(u.getAnnotations()),N=M;return M.promise.then(L=>{m({type:"RESOLVE",value:L})}).catch(L=>{m({type:"REJECT",error:L})}),()=>{$u(N)}},[m,u]),P.useEffect(()=>{if(b!==void 0){if(b===!1){E();return}A()}},[b]);function T(){c&&c()}function k(R){kn(!1,`${R}`),a&&a(R)}const _=P.useMemo(()=>u.getViewport({scale:p,rotation:f}),[u,f,p]);return P.useEffect(function(){if(!d||!u||!i||!b)return;const{current:M}=v;if(!M)return;const N=_.clone({dontFlip:!0}),L={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,annotationStorage:d.annotationStorage,commentManager:null,div:M,l10n:null,linkService:i,page:u,structTreeLayer:null,viewport:N},O={annotations:b,annotationStorage:d.annotationStorage,div:M,imageResourcesPath:s,linkService:i,page:u,renderForms:h,viewport:N};M.innerHTML="";try{new sT(L).render(O),T()}catch(U){k(U)}return()=>{}},[b,s,i,u,d,h,_]),x.jsx("div",{className:Bf("react-pdf__Page__annotations","annotationLayer"),ref:v})}const jO={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},rq=/^H(\d+)$/;function oq(n){return n in jO}function Dx(n){return"children"in n}function BO(n){return Dx(n)?n.children.length===1&&0 in n.children&&"id"in n.children[0]:!1}function aq(n){const e={};if(Dx(n)){const{role:t}=n,s=t.match(rq);if(s)e.role="heading",e["aria-level"]=Number(s[1]);else if(oq(t)){const i=jO[t];i&&(e.role=i)}}return e}function VO(n){const e={};if(Dx(n)){if(n.alt!==void 0&&(e["aria-label"]=n.alt),n.lang!==void 0&&(e.lang=n.lang),BO(n)){const[t]=n.children;if(t){const s=VO(t);return{...e,...s}}}}else"id"in n&&(e["aria-owns"]=n.id);return e}function lq(n){return n?{...aq(n),...VO(n)}:null}function $O({className:n,node:e}){const t=P.useMemo(()=>lq(e),[e]),s=P.useMemo(()=>!Dx(e)||BO(e)?null:e.children.map((i,r)=>x.jsx($O,{node:i},r)),[e]);return x.jsx("span",{className:n,...t,children:s})}function cq(){const n=Nx();Ue(n);const{onGetStructTreeError:e,onGetStructTreeSuccess:t}=n,[s,i]=Lf(),{value:r,error:o}=s,{customTextRenderer:a,page:c}=n;function u(){r&&t&&t(r)}function d(){o&&(kn(!1,o.toString()),e&&e(o))}return P.useEffect(function(){i({type:"RESET"})},[i,c]),P.useEffect(function(){if(a||!c)return;const f=zy(c.getStructTree()),p=f;return f.promise.then(y=>{i({type:"RESOLVE",value:y})}).catch(y=>{i({type:"REJECT",error:y})}),()=>$u(p)},[a,c,i]),P.useEffect(()=>{if(r!==void 0){if(r===!1){d();return}u()}},[r]),r?x.jsx($O,{className:"react-pdf__Page__structTree structTree",node:r}):null}const iR=Br;function uq(n){const e=Nx();Ue(e);const t={...e,...n},{_className:s,canvasBackground:i,devicePixelRatio:r=Z9(),onRenderError:o,onRenderSuccess:a,page:c,renderForms:u,renderTextLayer:d,rotate:h,scale:f}=t,{canvasRef:p}=n;Ue(c);const y=P.useRef(null);function m(){c&&a&&a(zS(c,f))}function b(E){eq(E)||(kn(!1,E.toString()),o&&o(E))}const g=P.useMemo(()=>c.getViewport({scale:f*r,rotation:h}),[r,c,h,f]),v=P.useMemo(()=>c.getViewport({scale:f,rotation:h}),[c,h,f]);P.useEffect(function(){if(!c)return;c.cleanup();const{current:T}=y;if(!T)return;T.width=g.width,T.height=g.height,T.style.width=`${Math.floor(v.width)}px`,T.style.height=`${Math.floor(v.height)}px`,T.style.visibility="hidden";const k={annotationMode:u?iR.ENABLE_FORMS:iR.ENABLE,canvas:T,canvasContext:T.getContext("2d",{alpha:!1}),viewport:g};i&&(k.background=i);const _=c.render(k),R=_;return _.promise.then(()=>{T.style.visibility="",m()}).catch(b),()=>$u(R)},[i,c,u,g,v]);const A=P.useCallback(()=>{const{current:E}=y;E&&(E.width=0,E.height=0)},[]);return P.useEffect(()=>A,[A]),x.jsx("canvas",{className:`${s}__canvas`,dir:"ltr",ref:FO(p,y),style:{display:"block",userSelect:"none"},children:d?x.jsx(cq,{}):null})}function dq(n){return"str"in n}function hq(){const n=Nx();Ue(n);const{customTextRenderer:e,onGetTextError:t,onGetTextSuccess:s,onRenderTextLayerError:i,onRenderTextLayerSuccess:r,page:o,pageIndex:a,pageNumber:c,rotate:u,scale:d}=n;Ue(o);const[h,f]=Lf(),{value:p,error:y}=h,m=P.useRef(null);kn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function b(){p&&s&&s(p)}function g(){y&&(kn(!1,y.toString()),t&&t(y))}P.useEffect(function(){f({type:"RESET"})},[o,f]),P.useEffect(function(){if(!o)return;const R=zy(o.getTextContent()),M=R;return R.promise.then(N=>{f({type:"RESOLVE",value:N})}).catch(N=>{f({type:"REJECT",error:N})}),()=>$u(M)},[o,f]),P.useEffect(()=>{if(p!==void 0){if(p===!1){g();return}b()}},[p]);const v=P.useCallback(()=>{r&&r()},[r]),A=P.useCallback(_=>{kn(!1,_.toString()),i&&i(_)},[i]);function E(){const _=m.current;_&&_.classList.add("selecting")}function T(){const _=m.current;_&&_.classList.remove("selecting")}const k=P.useMemo(()=>o.getViewport({scale:d,rotation:u}),[o,u,d]);return P.useLayoutEffect(function(){if(!o||!p)return;const{current:R}=m;if(!R)return;R.innerHTML="";const M=o.streamTextContent({includeMarkedContent:!0}),N={container:R,textContentSource:M,viewport:k},L=new jm(N),O=L;return L.render().then(()=>{const U=document.createElement("div");U.className="endOfContent",R.append(U);const I=R.querySelectorAll('[role="presentation"]');if(e){let W=0;p.items.forEach((B,j)=>{if(!dq(B))return;const D=I[W];if(!D)return;const F=e({pageIndex:a,pageNumber:c,itemIndex:j,...B});D.innerHTML=F,W+=B.str&&B.hasEOL?2:1})}v()}).catch(A),()=>$u(O)},[e,A,v,o,a,c,p,k]),x.jsx("div",{className:Bf("react-pdf__Page__textContent","textLayer"),onMouseUp:T,onMouseDown:E,ref:m})}const rR=1;function Jf(n){const t={...IO(),...n},{_className:s="react-pdf__Page",_enableRegisterUnregisterPage:i=!0,canvasBackground:r,canvasRef:o,children:a,className:c,customRenderer:u,customTextRenderer:d,devicePixelRatio:h,error:f="Failed to load the page.",height:p,inputRef:y,loading:m="Loading page",noData:b="No page specified.",onGetAnnotationsError:g,onGetAnnotationsSuccess:v,onGetStructTreeError:A,onGetStructTreeSuccess:E,onGetTextError:T,onGetTextSuccess:k,onLoadError:_,onLoadSuccess:R,onRenderAnnotationLayerError:M,onRenderAnnotationLayerSuccess:N,onRenderError:L,onRenderSuccess:O,onRenderTextLayerError:U,onRenderTextLayerSuccess:I,pageIndex:W,pageNumber:B,pdf:j,registerPage:D,renderAnnotationLayer:F=!0,renderForms:z=!1,renderMode:te="canvas",renderTextLayer:G=!0,rotate:X,scale:se=rR,unregisterPage:ye,width:Se,...ne}=t,[Mn,pt]=Lf(),{value:be,error:mt}=Mn,mn=P.useRef(null);Ue(j);const ge=Ql(B)?B-1:W??null,Re=B??(Ql(W)?W+1:null),it=X??(be?be.rotate:null),rt=P.useMemo(()=>{if(!be)return null;let Nn=1;const aa=se??rR;if(Se||p){const or=be.getViewport({scale:1,rotation:it});Se?Nn=Se/or.width:p&&(Nn=p/or.height)}return aa*Nn},[p,be,it,se,Se]);P.useEffect(function(){return()=>{Ql(ge)&&i&&ye&&ye(ge)}},[i,j,ge,ye]);function sr(){if(R){if(!be||!rt)return;R(zS(be,rt))}if(i&&D){if(!Ql(ge)||!mn.current)return;D(ge,mn.current)}}function vi(){mt&&(kn(!1,mt.toString()),_&&_(mt))}P.useEffect(function(){pt({type:"RESET"})},[pt,j,ge]),P.useEffect(function(){if(!j||!Re)return;const aa=zy(j.getPage(Re)),or=aa;return aa.promise.then(la=>{pt({type:"RESOLVE",value:la})}).catch(la=>{pt({type:"REJECT",error:la})}),()=>$u(or)},[pt,j,Re]),P.useEffect(()=>{if(be!==void 0){if(be===!1){vi();return}sr()}},[be,rt]);const ir=P.useMemo(()=>Ql(ge)&&Re&&Ql(it)&&Ql(rt)?{_className:s,canvasBackground:r,customTextRenderer:d,devicePixelRatio:h,onGetAnnotationsError:g,onGetAnnotationsSuccess:v,onGetStructTreeError:A,onGetStructTreeSuccess:E,onGetTextError:T,onGetTextSuccess:k,onRenderAnnotationLayerError:M,onRenderAnnotationLayerSuccess:N,onRenderError:L,onRenderSuccess:O,onRenderTextLayerError:U,onRenderTextLayerSuccess:I,page:be,pageIndex:ge,pageNumber:Re,renderForms:z,renderTextLayer:G,rotate:it,scale:rt}:null,[s,r,d,h,g,v,A,E,T,k,M,N,L,O,U,I,be,ge,Re,z,G,it,rt]),Hy=P.useMemo(()=>MO(ne,()=>be&&(rt?zS(be,rt):void 0)),[ne,be,rt]),rr=`${ge}@${rt}/${it}`;function Wy(){switch(te){case"custom":return Ue(u),x.jsx(u,{},`${rr}_custom`);case"none":return null;case"canvas":default:return x.jsx(uq,{canvasRef:o},`${rr}_canvas`)}}function Qr(){return G?x.jsx(hq,{},`${rr}_text`):null}function Lx(){return F?x.jsx(iq,{},`${rr}_annotations`):null}function Ix(){function Nn(or){return!!(or!=null&&or.page)}if(!Nn(ir))throw new Error("page is undefined");const aa=typeof a=="function"?a(ir):a;return x.jsxs(OO.Provider,{value:ir,children:[Wy(),Qr(),Lx(),aa]})}function Yn(){return Re?j===null||be===void 0||be===null?x.jsx(Bd,{type:"loading",children:typeof m=="function"?m():m}):j===!1||be===!1?x.jsx(Bd,{type:"error",children:typeof f=="function"?f():f}):Ix():x.jsx(Bd,{type:"no-data",children:typeof b=="function"?b():b})}return x.jsx("div",{className:Bf(s,c),"data-page-number":Re,ref:FO(y,mn),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":`${rt}`,"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:r||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"},...Hy,children:Yn()})}J9();dn.workerSrc="pdf.worker.mjs";const fq="/assets/drivingGuide-CsgbTIow.pdf";dn.workerSrc=`//unpkg.com/pdfjs-dist@${Xl}/build/pdf.worker.min.mjs`;const pq=()=>{const[n,e]=P.useState();return x.jsx(fs,{children:x.jsx("section",{className:"py-16 md:py-24",children:x.jsx("div",{className:"container mx-auto px-4",children:x.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-5xl mx-auto",children:[x.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[x.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary/10 flex items-center justify-center",children:x.jsx(Vf,{className:"w-6 h-6 text-primary"})}),x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Terms & Conditions"}),x.jsx("p",{className:"text-muted-foreground",children:"Last updated: December 2025"})]})]}),x.jsx("div",{className:"bg-card rounded-2xl border border-border overflow-y-auto shadow-lg",style:{height:"800px"},children:x.jsx(Zf,{file:fq,onLoadSuccess:({numPages:t})=>e(t),className:"flex flex-col items-center gap-4 p-8",children:Array.from(new Array(n),(t,s)=>x.jsx("div",{className:"shadow-lg rounded-lg overflow-hidden",children:x.jsx(Jf,{pageNumber:s+1,width:Math.min(window.innerWidth*.7,700)})},`page_${s+1}`))})})]})})})})},mq="/assets/drivingGuide-CsgbTIow.pdf";dn.workerSrc=`//unpkg.com/pdfjs-dist@${Xl}/build/pdf.worker.min.mjs`;const gq=()=>{const[n,e]=P.useState();return x.jsx(fs,{children:x.jsx("section",{className:"py-16 md:py-24",children:x.jsx("div",{className:"container mx-auto px-4",children:x.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-5xl mx-auto",children:[x.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[x.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary/10 flex items-center justify-center",children:x.jsx(Vf,{className:"w-6 h-6 text-primary"})}),x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Privacy Policy"}),x.jsx("p",{className:"text-muted-foreground",children:"Last updated: December 2025"})]})]}),x.jsx("div",{className:"bg-card rounded-2xl border border-border overflow-y-auto shadow-lg",style:{height:"800px"},children:x.jsx(Zf,{file:mq,onLoadSuccess:({numPages:t})=>e(t),className:"flex flex-col items-center gap-4 p-8",children:Array.from(new Array(n),(t,s)=>x.jsx("div",{className:"shadow-lg rounded-lg overflow-hidden",children:x.jsx(Jf,{pageNumber:s+1,width:Math.min(window.innerWidth*.7,700)})},`page_${s+1}`))})})]})})})})},yq="/assets/drivingGuide-CsgbTIow.pdf";dn.workerSrc=`//unpkg.com/pdfjs-dist@${Xl}/build/pdf.worker.min.mjs`;const vq=()=>{const[n,e]=P.useState();return x.jsx(fs,{children:x.jsx("section",{className:"py-16 md:py-24",children:x.jsx("div",{className:"container mx-auto px-4",children:x.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-5xl mx-auto",children:[x.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[x.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary/10 flex items-center justify-center",children:x.jsx(Vf,{className:"w-6 h-6 text-primary"})}),x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Driving Guide"}),x.jsx("p",{className:"text-muted-foreground",children:"Last updated: December 2025"})]})]}),x.jsx("div",{className:"bg-card rounded-2xl border border-border overflow-y-auto shadow-lg",style:{height:"800px"},children:x.jsx(Zf,{file:yq,onLoadSuccess:({numPages:t})=>e(t),className:"flex flex-col items-center gap-4 p-8",children:Array.from(new Array(n),(t,s)=>x.jsx("div",{className:"shadow-lg rounded-lg overflow-hidden",children:x.jsx(Jf,{pageNumber:s+1,width:Math.min(window.innerWidth*.7,700)})},`page_${s+1}`))})})]})})})})},wq="/assets/drivingGuide-CsgbTIow.pdf";dn.workerSrc=`//unpkg.com/pdfjs-dist@${Xl}/build/pdf.worker.min.mjs`;const xq=()=>{const[n,e]=P.useState();return x.jsx(fs,{children:x.jsx("section",{className:"py-16 md:py-24",children:x.jsx("div",{className:"container mx-auto px-4",children:x.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-5xl mx-auto",children:[x.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[x.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary/10 flex items-center justify-center",children:x.jsx(Vf,{className:"w-6 h-6 text-primary"})}),x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Zero Tolerance"}),x.jsx("p",{className:"text-muted-foreground",children:"Last updated: December 2025"})]})]}),x.jsx("div",{className:"bg-card rounded-2xl border border-border overflow-y-auto shadow-lg",style:{height:"800px"},children:x.jsx(Zf,{file:wq,onLoadSuccess:({numPages:t})=>e(t),className:"flex flex-col items-center gap-4 p-8",children:Array.from(new Array(n),(t,s)=>x.jsx("div",{className:"shadow-lg rounded-lg overflow-hidden",children:x.jsx(Jf,{pageNumber:s+1,width:Math.min(window.innerWidth*.7,700)})},`page_${s+1}`))})})]})})})})},bq="/assets/drivingGuide-CsgbTIow.pdf";dn.workerSrc=`//unpkg.com/pdfjs-dist@${Xl}/build/pdf.worker.min.mjs`;const Aq=()=>{const[n,e]=P.useState();return x.jsx(fs,{children:x.jsx("section",{className:"py-16 md:py-24",children:x.jsx("div",{className:"container mx-auto px-4",children:x.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-5xl mx-auto",children:[x.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[x.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary/10 flex items-center justify-center",children:x.jsx(Vf,{className:"w-6 h-6 text-primary"})}),x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Community Standards"}),x.jsx("p",{className:"text-muted-foreground",children:"Last updated: December 2025"})]})]}),x.jsx("div",{className:"bg-card rounded-2xl border border-border overflow-y-auto shadow-lg",style:{height:"800px"},children:x.jsx(Zf,{file:bq,onLoadSuccess:({numPages:t})=>e(t),className:"flex flex-col items-center gap-4 p-8",children:Array.from(new Array(n),(t,s)=>x.jsx("div",{className:"shadow-lg rounded-lg overflow-hidden",children:x.jsx(Jf,{pageNumber:s+1,width:Math.min(window.innerWidth*.7,700)})},`page_${s+1}`))})})]})})})})},Sq="/assets/drivingGuide-CsgbTIow.pdf";dn.workerSrc=`//unpkg.com/pdfjs-dist@${Xl}/build/pdf.worker.min.mjs`;const Eq=()=>{const[n,e]=P.useState();return x.jsx(fs,{children:x.jsx("section",{className:"py-16 md:py-24",children:x.jsx("div",{className:"container mx-auto px-4",children:x.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-5xl mx-auto",children:[x.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[x.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary/10 flex items-center justify-center",children:x.jsx(Vf,{className:"w-6 h-6 text-primary"})}),x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Privacy Choices"}),x.jsx("p",{className:"text-muted-foreground",children:"Last updated: December 2025"})]})]}),x.jsx("div",{className:"bg-card rounded-2xl border border-border overflow-y-auto shadow-lg",style:{height:"800px"},children:x.jsx(Zf,{file:Sq,onLoadSuccess:({numPages:t})=>e(t),className:"flex flex-col items-center gap-4 p-8",children:Array.from(new Array(n),(t,s)=>x.jsx("div",{className:"shadow-lg rounded-lg overflow-hidden",children:x.jsx(Jf,{pageNumber:s+1,width:Math.min(window.innerWidth*.7,700)})},`page_${s+1}`))})})]})})})})},Cq=()=>{const n=Gf();return P.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",n.pathname)},[n.pathname]),x.jsx(fs,{children:x.jsx("section",{className:"py-24 md:py-32",children:x.jsx("div",{className:"container mx-auto px-4",children:x.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-md mx-auto text-center",children:[x.jsx("div",{className:"text-8xl font-bold text-primary mb-4",children:"404"}),x.jsx("h1",{className:"text-2xl font-bold text-foreground mb-4",children:"Page Not Found"}),x.jsx("p",{className:"text-muted-foreground mb-8",children:"Looks like this ride took a wrong turn. Let's get you back on track!"}),x.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[x.jsx(Zi,{asChild:!0,children:x.jsxs(di,{to:"/",children:[x.jsx(P4,{className:"w-4 h-4 mr-2"}),"Go Home"]})}),x.jsx(Zi,{asChild:!0,variant:"outline",children:x.jsxs(di,{to:"/contact",children:[x.jsx(b4,{className:"w-4 h-4 mr-2"}),"Contact Us"]})})]})]})})})})},Tq=new lU,Pq=()=>x.jsx(uU,{client:Tq,children:x.jsxs(j$,{children:[x.jsx(wV,{}),x.jsx(QV,{}),x.jsx(az,{children:x.jsxs(ez,{children:[x.jsx(Dn,{path:"/",element:x.jsx(nG,{})}),x.jsx(Dn,{path:"/about",element:x.jsx(iG,{})}),x.jsx(Dn,{path:"/riders",element:x.jsx(aG,{})}),x.jsx(Dn,{path:"/drivers",element:x.jsx(uG,{})}),x.jsx(Dn,{path:"/contact",element:x.jsx(NG,{})}),x.jsx(Dn,{path:"/feedback",element:x.jsx(LG,{})}),x.jsx(Dn,{path:"/beta",element:x.jsx(FG,{})}),x.jsx(Dn,{path:"/legal/terms",element:x.jsx(pq,{})}),x.jsx(Dn,{path:"/legal/privacy",element:x.jsx(gq,{})}),x.jsx(Dn,{path:"/legal/driving-guide",element:x.jsx(vq,{})}),x.jsx(Dn,{path:"/legal/zero-tolerance",element:x.jsx(xq,{})}),x.jsx(Dn,{path:"/legal/community-standards",element:x.jsx(Aq,{})}),x.jsx(Dn,{path:"/legal/privacy-choices",element:x.jsx(Eq,{})}),x.jsx(Dn,{path:"*",element:x.jsx(Cq,{})})]})})]})});_M(document.getElementById("root")).render(x.jsx(Pq,{}));
